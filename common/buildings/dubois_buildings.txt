######################
# DUBOIS BUILDINGS  #
######################

#by Lord R & Marco Dandolo

##########################

#Zoo

building_dubois_zoo = {

	building_group = bg_government

	city_type = city
	ignore_stateregion_max_level = yes
	expandable = no
	downsizeable = no

	unlocking_technologies = {
		dubois_theory_of_evolution_tech
	}

	production_method_groups = {
		pmg_zoo_level
		pmg_base_building_zoo
		pmg_paleontological_collection
		pmg_botanical_garden
		pmg_specimen_collection
	}

	texture = "gfx/interface/icons/building_icons/building_dubois_zoo.dds"

	required_construction = construction_cost_medium

	can_build_government = {
		trigger_if = {
			limit = {
				owner = {
					is_ai = yes
				}
			}
			trigger_if = {
				limit = {
					owner = {
						has_technology_researched = dubois_theory_of_evolution_tech
					}
				}
				trigger_if = {
					limit = {
						NOT = {
							owner = {
								any_scope_building = {
									is_building_type = building_dubois_zoo
									level > 0
								}
							}
						}
					}
					trigger_if = {
						limit = { is_capital = yes }
						owner = {
							dubois_has_zoo_minimum = yes
						}						
					}
					trigger_else = {
						always = no
					}
				}
				trigger_else = {
					always = no
				}
			}
			trigger_else = {
				always = no
			}
		}
		trigger_else = {
			owner = {
				has_technology_researched = dubois_theory_of_evolution_tech
			}
			custom_tooltip = {
				text = dubois_zoo_can_construct_capital_tt
				is_capital = yes
			}
			custom_tooltip = {
				text = dubois_zoo_can_construct_no_zoo_tt
				NOT = {
					owner = {
						any_scope_building = {
							is_building_type = building_dubois_zoo
							level > 0
						}
					}
				}
			}
			custom_tooltip = {
				text = dubois_zoo_can_construct_animals_tt
				owner = {
					dubois_has_zoo_minimum = yes
				}
			}
		}
	}

	can_build_private = {
		always = no
	}

	ai_value = 10000 # Ai should do it whenever it can
}

#Nature Reserve

building_dubois_national_park = {
	
	building_group = bg_dubois_national_park

	city_type = wood
	ignore_stateregion_max_level = yes
	levels_per_mesh = 1
	
	expandable = no
	downsizeable = no
	buildable = yes

	unlocking_technologies = {
		dubois_genetics_tech
	}

	production_method_groups = {
		pmg_dubois_reserve_type
	}

	texture = "gfx/interface/icons/building_icons/building_dubois_national_park.dds"

	required_construction = construction_cost_medium

	can_build_government = {
		trigger_if = {
			limit = {
				owner = { is_ai = yes }
			}
			trigger_if = {
				limit = {
					OR = {
						has_modifier = dubois_nature_reserve_location_modifier
						owner = {
							has_technology_researched = dubois_genetics_tech
						}
					}
				}
				OR = {
					AND = {
						is_homeland_of_country_cultures = owner
						is_incorporated = yes
						custom_tooltip = {
							text = dubois_has_habitat_for_nr_tt
							OR = {
								has_state_trait = dubois_state_trait_grizzly_habitat
								has_state_trait = dubois_state_trait_eagle_habitat
								has_state_trait = dubois_state_trait_bison_habitat
								has_state_trait = dubois_state_trait_panther_habitat
								has_state_trait = dubois_state_trait_alligator_habitat
								has_state_trait = dubois_state_trait_axolotl_habitat
								has_state_trait = dubois_state_trait_sloth_habitat
								has_state_trait = dubois_state_trait_jaguar_habitat
								has_state_trait = dubois_state_trait_anteater_habitat
								has_state_trait = dubois_state_trait_armadillo_habitat
								has_state_trait = dubois_state_trait_condor_habitat
								has_state_trait = dubois_state_trait_manatee_habitat
								has_state_trait = dubois_state_trait_monkey_habitat
								has_state_trait = dubois_state_trait_lynx_habitat
								has_state_trait = dubois_state_trait_wolf_habitat
								has_state_trait = dubois_state_trait_badger_habitat
								has_state_trait = dubois_state_trait_stoat_habitat
								has_state_trait = dubois_state_trait_otter_habitat
								has_state_trait = dubois_state_trait_ibex_habitat
								has_state_trait = dubois_state_trait_wisent_habitat
								has_state_trait = dubois_state_trait_hippopotamus_habitat
								has_state_trait = dubois_state_trait_lion_habitat
								has_state_trait = dubois_state_trait_elefant_habitat
								has_state_trait = dubois_state_trait_giraffe_habitat
								has_state_trait = dubois_state_trait_penguin_habitat
								has_state_trait = dubois_state_trait_mole_habitat
								has_state_trait = dubois_state_trait_zebra_habitat
								has_state_trait = dubois_state_trait_panda_habitat
								has_state_trait = dubois_state_trait_orangutan_habitat
								has_state_trait = dubois_state_trait_tiger_habitat
								has_state_trait = dubois_state_trait_tapir_habitat
								has_state_trait = dubois_state_trait_dragon_habitat
								has_state_trait = dubois_state_trait_leopard_habitat
								has_state_trait = dubois_state_trait_cheetah_habitat
								has_state_trait = dubois_state_trait_turtle_habitat
								has_state_trait = dubois_state_trait_manta_habitat
								has_state_trait = dubois_state_trait_kangaroo_habitat
								has_state_trait = dubois_state_trait_koala_habitat
								has_state_trait = dubois_state_trait_platypus_habitat
								has_state_trait = dubois_state_trait_cassowary_habitat
								has_state_trait = dubois_state_trait_sealion_habitat
							}
						}
					}
					custom_tooltip = {
						text = dubois_has_nature_reserve_location_tt
						has_modifier = dubois_nature_reserve_location_modifier
					}
				}
			}
			trigger_else = { always = no }
		}
		trigger_else = {
			OR = {
				AND = {
					is_homeland_of_country_cultures = owner
					is_incorporated = yes
					custom_tooltip = {
						text = dubois_has_habitat_for_nr_tt
						OR = {
							has_state_trait = dubois_state_trait_grizzly_habitat
							has_state_trait = dubois_state_trait_eagle_habitat
							has_state_trait = dubois_state_trait_bison_habitat
							has_state_trait = dubois_state_trait_panther_habitat
							has_state_trait = dubois_state_trait_alligator_habitat
							has_state_trait = dubois_state_trait_axolotl_habitat
							has_state_trait = dubois_state_trait_sloth_habitat
							has_state_trait = dubois_state_trait_jaguar_habitat
							has_state_trait = dubois_state_trait_anteater_habitat
							has_state_trait = dubois_state_trait_armadillo_habitat
							has_state_trait = dubois_state_trait_condor_habitat
							has_state_trait = dubois_state_trait_manatee_habitat
							has_state_trait = dubois_state_trait_monkey_habitat
							has_state_trait = dubois_state_trait_lynx_habitat
							has_state_trait = dubois_state_trait_wolf_habitat
							has_state_trait = dubois_state_trait_badger_habitat
							has_state_trait = dubois_state_trait_stoat_habitat
							has_state_trait = dubois_state_trait_otter_habitat
							has_state_trait = dubois_state_trait_ibex_habitat
							has_state_trait = dubois_state_trait_wisent_habitat
							has_state_trait = dubois_state_trait_hippopotamus_habitat
							has_state_trait = dubois_state_trait_lion_habitat
							has_state_trait = dubois_state_trait_elefant_habitat
							has_state_trait = dubois_state_trait_giraffe_habitat
							has_state_trait = dubois_state_trait_penguin_habitat
							has_state_trait = dubois_state_trait_mole_habitat
							has_state_trait = dubois_state_trait_zebra_habitat
							has_state_trait = dubois_state_trait_panda_habitat
							has_state_trait = dubois_state_trait_orangutan_habitat
							has_state_trait = dubois_state_trait_tiger_habitat
							has_state_trait = dubois_state_trait_tapir_habitat
							has_state_trait = dubois_state_trait_dragon_habitat
							has_state_trait = dubois_state_trait_leopard_habitat
							has_state_trait = dubois_state_trait_cheetah_habitat
							has_state_trait = dubois_state_trait_turtle_habitat
							has_state_trait = dubois_state_trait_manta_habitat
							has_state_trait = dubois_state_trait_kangaroo_habitat
							has_state_trait = dubois_state_trait_koala_habitat
							has_state_trait = dubois_state_trait_platypus_habitat
							has_state_trait = dubois_state_trait_cassowary_habitat
							has_state_trait = dubois_state_trait_sealion_habitat
						}
					}
				}
				custom_tooltip = {
					text = dubois_has_nature_reserve_location_tt
					has_modifier = dubois_nature_reserve_location_modifier
				}
			}
		}
	}

	can_build_private = {
		always = no
	}
}

#########################

building_university = {

	building_group = bg_technology

	city_type = city

	levels_per_mesh = 5

	unlocking_technologies = {
		academia
	}

	production_method_groups = {
		pmg_base_building_university
		pmg_university_academia
		pmg_university_focus
	}

	texture = "gfx/interface/icons/building_icons/building_university.dds"

	required_construction = construction_cost_medium
}