##########################
# GAUDÍ JOURNAL ENTRIES  #
##########################

#by Marco Dandolo

###################

######Bauhaus######

je_gaudi_bauhaus = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
        has_technology_researched = elgar_expressionism_tech
		NOT = {
			has_modifier = gaudi_bauhaus_modifier
		}
    }
    possible = {
        has_technology_researched = elgar_new_objectivity_tech
		any_scope_state = {
			has_building = building_arts_academy
		}
    }
	immediate = {
		set_variable = {
			name = gaudi_bauhaus_var
			days = 1
		}
	}
	complete = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_arts_academy
				level >= 10
			}
			any_scope_building = {
				is_building_type = building_university
				level >= 10
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_bauhaus_var
			}
		}
	}
	on_complete = {
		add_modifier = {
			name = gaudi_bauhaus_modifier
		}
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_arts_academy
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_university
					level >= 10
				}
			}
			add_modifier = {
				name = gaudi_bauhaus_academy_modifier
			}
		}
	}
}

######Art Nouveau & Art Deco######

#CAPITAL_CITY Secession (first)

je_gaudi_secession_1 = {
	icon = "gfx/interface/icons/event_icons/event_music.dds"

	is_shown_when_inactive = {
        has_technology_researched = elgar_art_nouveau_tech
		NOT = {
			has_global_variable = gaudi_first_secession
		}
		NOT = {
			has_technology_researched = elgar_mass_culture_tech
		}
    }
    possible = {
        has_technology_researched = elgar_art_nouveau_tech
		hidden_trigger = {
			NOT = {
				has_global_variable = gaudi_first_secession
			}
		}
		any_scope_state = {
			has_building = building_arts_academy
		}
    }
	immediate = {
		set_variable = {
			name = gaudi_first_secession_var
			days = 1
		}
	}
	complete = {
		leading_producer_of = g:fine_art
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_arts_academy
				level >= 15
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 25	
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_first_secession_var
			}
		}
	}
	on_complete = {
		set_global_variable = gaudi_first_secession
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_arts_academy
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 25	
				}
			}
			add_modifier = {
				name = gaudi_first_secession_state_modifier
			}
		}
		custom_tooltip = {
			text = gaudi.11_tt
			trigger_event = { 
				id = gaudi.11
				popup = yes
			}
		}
	}
	fail = {
		OR = {
			any_country = {
				NOT = { 
					this = ROOT 
				}
				has_modifier = gaudi_first_secession_modifier
			}
			has_technology_researched = elgar_mass_culture_tech
			game_date >= 1905.1.1
		}
	}
}

#CAPITAL_CITY Secession (second)

je_gaudi_secession_2 = {
	icon = "gfx/interface/icons/event_icons/event_music.dds"

	is_shown_when_inactive = {
        has_technology_researched = elgar_art_nouveau_tech
		has_global_variable = gaudi_first_secession
		NOT = {
			has_global_variable = gaudi_second_secession
		}
		NOT = {
			has_technology_researched = elgar_mass_culture_tech
		}
		NOT = {
			any_scope_state = {
				has_modifier = gaudi_first_secession_state_modifier
			}
		}
    }
    possible = {
        has_technology_researched = elgar_art_nouveau_tech
		hidden_trigger = {
			NOT = {
				has_global_variable = gaudi_second_secession
			}
		}
		any_scope_state = {
			has_building = building_arts_academy
		}
    }
	immediate = {
		set_variable = {
			name = gaudi_second_secession_var
			days = 1
		}
	}
	complete = {
		leading_producer_of = g:fine_art
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_arts_academy
				level >= 15
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 25	
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_second_secession_var
			}
		}
	}
	on_complete = {
		set_global_variable = gaudi_second_secession
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_arts_academy
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 25	
				}
			}
			add_modifier = {
				name = gaudi_second_secession_state_modifier
			}
		}
		trigger_event = { 
			id = gaudi.12
			popup = yes
		}
	}
	fail = {
		OR = {
			any_country = {
				NOT = { 
					this = ROOT 
				}
				has_modifier = gaudi_second_secession_modifier
			}
			has_technology_researched = elgar_mass_culture_tech
			game_date >= 1905.1.1
		}
	}
}

#CAPITAL_CITY Secession (third)

je_gaudi_secession_3 = {
	icon = "gfx/interface/icons/event_icons/event_music.dds"

	is_shown_when_inactive = {
        has_technology_researched = elgar_art_nouveau_tech
		has_global_variable = gaudi_second_secession
		NOT = {
			has_global_variable = gaudi_third_secession
		}
		NOT = {
			has_technology_researched = elgar_mass_culture_tech
		}
		NOT = {
			any_scope_state = {
				OR = {
					has_modifier = gaudi_first_secession_state_modifier
					has_modifier = gaudi_second_secession_state_modifier
				}
			}
		}
    }
    possible = {
        has_technology_researched = elgar_art_nouveau_tech
		hidden_trigger = {
			NOT = {
				has_global_variable = gaudi_third_secession
			}
		}
		any_scope_state = {
			has_building = building_arts_academy
		}
    }
	immediate = {
		set_variable = {
			name = gaudi_third_secession_var
			days = 1
		}
	}
	complete = {
		leading_producer_of = g:fine_art
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_arts_academy
				level >= 15
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 25	
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_third_secession_var
			}
		}
	}
	on_complete = {
		set_global_variable = gaudi_third_secession
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_arts_academy
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 25	
				}
			}
			add_modifier = {
				name = gaudi_third_secession_state_modifier
			}
		}
		trigger_event = { 
			id = gaudi.13
			popup = yes
		}
	}
	fail = {
		OR = {
			any_country = {
				NOT = { 
					this = ROOT 
				}
				has_modifier = gaudi_third_secession_modifier
			}
			has_technology_researched = elgar_mass_culture_tech
			game_date >= 1905.1.1
		}
	}
}

#Splendid Architecture

je_gaudi_splendid_architecture = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
		has_technology_researched = elgar_art_nouveau_tech
	}

	possible = {
		has_technology_researched = elgar_art_nouveau_tech
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.50
			popup = yes
		}
	}

	current_value = {
		value = var:gaudi_splendid_architecture
	}

	goal_add_value = {
		value = 10
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

#Art Nouveau city quarter

je_gaudi_art_nouveau_quarter = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
        has_technology_researched = elgar_art_nouveau_tech
		NOT = {
			has_technology_researched = elgar_art_deco_tech
		}
    }
    possible = {
        has_technology_researched = elgar_art_nouveau_tech
		any_scope_state = {
			has_building = building_arts_academy
			has_building = building_university
			has_building = building_elgar_opera
		}
    }
	immediate = {
		set_variable = {
			name = gaudi_art_nouveau_quarter_var
			days = 1
		}
	}
	complete = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_arts_academy
				level >= 10
			}
			any_scope_building = {
				is_building_type = building_university
				level >= 10
			}
			any_scope_building = {
				is_building_type = building_elgar_opera
				level >= 10
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 15
			}
			NOT = {
				has_modifier = gaudi_art_nouveau_quarter_modifier
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_art_nouveau_quarter_var
			}
		}
	}
	on_complete = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_arts_academy
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_university
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 15
				}
				NOT = {
					has_modifier = gaudi_art_nouveau_quarter_modifier
				}
			}
			add_modifier = {
				name = gaudi_art_nouveau_quarter_modifier
			}
		}
		trigger_event = { 
			id = gaudi.21
			popup = yes
		}
	}
	invalid = {
		has_technology_researched = elgar_art_deco_tech
	}
}

#Art Deco Cinema

je_gaudi_art_deco_cinema = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
		has_variable = film_je_done
    }
    possible = {
        has_technology_researched = elgar_art_deco_tech
		any_scope_state = {
			has_building = building_elgar_opera
		}
    }
	immediate = {
		set_variable = {
			name = gaudi_art_deco_cinema_var
			days = 1
		}
	}
	complete = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_elgar_opera
				level >= 10
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 20
			}
			NOT = {
				has_modifier = gaudi_art_deco_cinema_modifier
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_art_deco_cinema_var
			}
		}
	}
	on_complete = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 20
				}
				NOT = {
					has_modifier = gaudi_art_deco_cinema_modifier
				}
			}
			add_modifier = {
				name = gaudi_art_deco_cinema_modifier
			}
		}
		trigger_event = { 
			id = gaudi.31
			popup = yes
		}
	}

	invalid = {
		has_modifier = gaudi_splendid_architecture
	}
}

#Art Deco Skyscraper

je_gaudi_art_deco_skyscraper = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
		has_technology_researched = elgar_art_nouveau_tech
    }
    possible = {
        has_technology_researched = elgar_art_deco_tech
		has_technology_researched = steel_frame_buildings
    }
	immediate = {
		set_variable = {
			name = gaudi_art_deco_skyscraper_var
			days = 1
		}
	}
	complete = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_skyscraper
				level >= 1
			}
			NOT = {
				has_modifier = gaudi_art_deco_skyscraper_modifier
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_art_deco_skyscraper_var
			}
		}
	}
	on_complete = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_skyscraper
				}
				NOT = {
					has_modifier = gaudi_art_deco_skyscraper_modifier
				}
			}
			add_modifier = {
				name = gaudi_art_deco_skyscraper_modifier
			}
		}
		trigger_event = { 
			id = gaudi.32
			popup = yes
		}
	}

	invalid = {
		has_modifier = gaudi_splendid_architecture
	}
}

#Art Deco Airport [with Curtiss]

je_gaudi_art_deco_airport = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
		has_technology_researched = elgar_art_nouveau_tech
    }
    possible = {
        has_technology_researched = elgar_art_deco_tech
		has_technology_researched = curtiss_modern_aviation_tech
    }
	immediate = {
		set_variable = {
			name = gaudi_art_deco_airport_var
			days = 1
		}
	}
	complete = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_airport
				level >= 5
			}
			NOT = {
				has_modifier = gaudi_art_deco_airport_modifier
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_art_deco_airport_var
			}
		}
	}
	on_complete = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_airport
					level >= 5
				}
				NOT = {
					has_modifier = gaudi_art_deco_airport_modifier
				}
			}
			add_modifier = {
				name = gaudi_art_deco_airport_modifier
			}
		}
		trigger_event = { 
			id = gaudi.33
			popup = yes
		}
	}

	invalid = {
		has_modifier = gaudi_splendid_architecture
	}
}

#Art Deco Office

je_gaudi_art_deco_office = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	is_shown_when_inactive = {
		has_technology_researched = elgar_art_nouveau_tech
    }
    possible = {
        has_technology_researched = elgar_art_deco_tech
    }
	immediate = {
		set_variable = {
			name = gaudi_art_deco_office_var
			days = 1
		}
	}
	complete = {
		any_scope_state = {
			any_scope_building = {
				is_building_type = building_government_administration
				level >= 35
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 20
			}
			NOT = {
				has_modifier = gaudi_art_deco_office_modifier
			}
		}
		hidden_trigger = {
			NOT = {
				has_variable = gaudi_art_deco_office_var
			}
		}
	}
	on_complete = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_government_administration
					level >= 35
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 20
				}
				NOT = {
					has_modifier = gaudi_art_deco_office_modifier
				}
			}
			add_modifier = {
				name = gaudi_art_deco_office_modifier
			}
		}
		trigger_event = { 
			id = gaudi.34
			popup = yes
		}
	}

	invalid = {
		has_modifier = gaudi_splendid_architecture
	}
}

###################

######COLOGNE CATHEDRAL######

je_gaudi_dombau_phase_1 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.110 #Gaudí 110: Normal building progress
			2 = gaudi.111 #Gaudí 111: Inferior material
			4 = gaudi.113 #Gaudí 113: Faster construction progress
			1 = gaudi.114 #Gaudí 114: Incident
			3 = gaudi.115 #Gaudí 115: New jobs
			2 = gaudi.116 #Gaudí 116: Political Controversy
			2 = gaudi.117 #Gaudí 117: Political Support
			5 = gaudi.118 #Gaudí 118: A national or a religious Project?
			1 = gaudi.119 #Gaudí 119: Cathedral building lottery
			2 = gaudi.120 #Gaudí 120: Romantic/pious ruler
			3 = gaudi.121 #Gaudí 121: Inviting an Ally
			5 = gaudi.124 #Gaudí 124: New machines
			5 = gaudi.125 #Gaudí 125: Railways
			3 = gaudi.126 #Gaudí 126: Stormy Weather
			5 = gaudi.127 #Gaudí 127: Archaeological investigations
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.102
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_NORTH_RHINE
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_dombau_building_phase_1
		remove_modifier = gaudi_dombau_cost_1_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_dombau_phase_1_modifier
			}
			remove_modifier = gaudi_dombau_phase_1_modifier
		}
		trigger_event = { 
			id = gaudi.109
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_dombau_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_dombau_phase_2 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.110 #Gaudí 110: Normal building progress
			
			2 = gaudi.111 #Gaudí 111: Inferior material
			4 = gaudi.113 #Gaudí 113: Faster construction progress
			1 = gaudi.114 #Gaudí 114: Incident
			3 = gaudi.115 #Gaudí 115: New jobs
			2 = gaudi.116 #Gaudí 116: Political Controversy
			2 = gaudi.117 #Gaudí 117: Political Support
			5 = gaudi.118 #Gaudí 118: A national or a religious Project?
			1 = gaudi.119 #Gaudí 119: Cathedral building lottery
			2 = gaudi.120 #Gaudí 120: Romantic/pious ruler
			3 = gaudi.121 #Gaudí 121: Inviting an Ally
			5 = gaudi.124 #Gaudí 124: New machines
			5 = gaudi.125 #Gaudí 125: Railways
			3 = gaudi.126 #Gaudí 126: Stormy Weather
			5 = gaudi.127 #Gaudí 127: Archaeological investigations
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.104
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_NORTH_RHINE
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_dombau_building_phase_2
		remove_modifier = gaudi_dombau_cost_2_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_dombau_phase_2_modifier
			}
			remove_modifier = gaudi_dombau_phase_2_modifier
		}
		trigger_event = { 
			id = gaudi.109
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_dombau_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_dombau_phase_3 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.110 #Gaudí 110: Normal building progress
			
			2 = gaudi.111 #Gaudí 111: Inferior material
			4 = gaudi.113 #Gaudí 113: Faster construction progress
			1 = gaudi.114 #Gaudí 114: Incident
			3 = gaudi.115 #Gaudí 115: New jobs
			2 = gaudi.116 #Gaudí 116: Political Controversy
			2 = gaudi.117 #Gaudí 117: Political Support
			5 = gaudi.118 #Gaudí 118: A national or a religious Project?
			1 = gaudi.119 #Gaudí 119: Cathedral building lottery
			2 = gaudi.120 #Gaudí 120: Romantic/pious ruler
			3 = gaudi.121 #Gaudí 121: Inviting an Ally
			5 = gaudi.124 #Gaudí 124: New machines
			5 = gaudi.125 #Gaudí 125: Railways
			3 = gaudi.126 #Gaudí 126: Stormy Weather
			5 = gaudi.127 #Gaudí 127: Archaeological investigations
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.106
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_NORTH_RHINE
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_dombau_building_phase_3
		remove_modifier = gaudi_dombau_cost_3_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_dombau_phase_3_modifier
			}
			remove_modifier = gaudi_dombau_phase_3_modifier
		}
		trigger_event = { 
			id = gaudi.109
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_dombau_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_dombau_phase_4 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.110 #Gaudí 110: Normal building progress
			
			2 = gaudi.111 #Gaudí 111: Inferior material
			4 = gaudi.113 #Gaudí 113: Faster construction progress
			1 = gaudi.114 #Gaudí 114: Incident
			3 = gaudi.115 #Gaudí 115: New jobs
			2 = gaudi.116 #Gaudí 116: Political Controversy
			2 = gaudi.117 #Gaudí 117: Political Support
			5 = gaudi.118 #Gaudí 118: A national or a religious Project?
			1 = gaudi.119 #Gaudí 119: Cathedral building lottery
			2 = gaudi.120 #Gaudí 120: Romantic/pious ruler
			3 = gaudi.121 #Gaudí 121: Inviting an Ally
			5 = gaudi.124 #Gaudí 124: New machines
			5 = gaudi.125 #Gaudí 125: Railways
			3 = gaudi.126 #Gaudí 126: Stormy Weather
			5 = gaudi.127 #Gaudí 127: Archaeological investigations
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.108
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_NORTH_RHINE
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_dombau_building_phase_4
		remove_modifier = gaudi_dombau_cost_4_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_dombau_phase_4_modifier
			}
			remove_modifier = gaudi_dombau_phase_4_modifier
		}
		trigger_event = { 
			id = gaudi.109
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_dombau_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

######GOTTHARDBAHN######

je_gaudi_gotthard_survey = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			3 = gaudi.220 #Gaudí 220: Normal building progress
			1 = gaudi.221 #Gaudí 221: Credit from Italy
			1 = gaudi.222 #Gaudí 222: Credit from Germany
			1 = gaudi.223 #Gaudí 223: Gotthardbahngesellschaft
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.212
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_EAST_SWITZERLAND
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_gotthard_survey
		remove_modifier = gaudi_gotthard_survey_cost_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_gotthard_survey_modifier
			}
			remove_modifier = gaudi_gotthard_survey_modifier
		}
		random_scope_character = {
			limit = {
				has_modifier = gaudi_gotthard_surveyor_modifier
			}
			remove_modifier = gaudi_gotthard_surveyor_modifier
		}
		set_global_variable = {
			name = gaudi_gotthard_progress
			value = 0
		}
		trigger_event = { 
			id = gaudi.219
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_gotthard_progress
	}

	goal_add_value = {
		value = 60
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_gotthard_construction = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			300 = gaudi.220 #Gaudí 220: Normal building progress
			1 = gaudi.231 #Gaudí 231: Water ingress in the tunnel
			1 = gaudi.232 #Gaudí 232: Viaduct test
			1 = gaudi.234 #Gaudí 234: More breaks
			1 = gaudi.235 #Gaudí 235: Constricted throats
			1 = gaudi.236 #Gaudí 236: Cutthroat prices
			1 = gaudi.237 #Gaudí 237: Dirty shacks
			1 = gaudi.238 #Gaudí 238: Burried alive
			1 = gaudi.239 #Gaudí 239: New machines
			1 = gaudi.240 #Gaudí 240: Trade unions criticize Gotthard project
			1 = gaudi.241 #Gaudí 241: Escher donates money
			1 = gaudi.242 #Gaudí 242: Porous rock
			1 = gaudi.243 #Gaudí 243: Impenetrable rock
			1 = gaudi.244 #Gaudí 244: Magnificient explosions
			1 = gaudi.245 #Gaudí 245: Diseases
			1 = gaudi.246 #Gaudí 246: Foreign Investments
			1 = gaudi.249 #Gaudí 249: Durchstich
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.214
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_EAST_SWITZERLAND
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_gotthard_construction
		remove_modifier = gaudi_gotthard_construction_cost_modifier
		remove_modifier = gaudi_gotthard_waterproofing_modifier
		remove_modifier = gaudi_gotthard_bonus_modifier
		remove_modifier = gaudi_gotthard_cutthroat_shops_modifier
		remove_modifier = gaudi_gotthard_cutthroat_shops_closed_modifier
		remove_modifier = gaudi_gotthard_clean_houses_modifier
		remove_modifier = gaudi_gotthart_better_conditions_modifier
		remove_modifier = gaudi_gotthart_best_conditions_modifier
		remove_modifier = gaudi_gotthard_foreign_investor_modifier
		remove_modifier = gaudi_gotthard_experts_modifier
		remove_modifier = gaudi_gotthard_worker_condition_worse_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_gotthard_construction_modifier
			}
			remove_modifier = gaudi_gotthard_construction_modifier
			remove_modifier = gaudi_gotthard_bad_air_modifier
			remove_modifier = gaudi_gotthard_worker_influx_modifier
		}
		set_global_variable = {
			name = gaudi_gotthard_progress
			value = 0
		}
		set_global_variable = {
			name = gaudi_gotthard_discontent
			value = 0
		}
		trigger_event = { 
			id = gaudi.219
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_gotthard_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_gotthard_discontent = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.247
			popup = yes
		}
	}

	fail = {
		OR = {
			NOT = {
				any_scope_state = {
					state_region = s:STATE_EAST_SWITZERLAND
				}
			}
			any_scope_state = {
				has_building = building_gaudi_gotthard
			}
		}
	}

	on_fail = {
	}

	current_value = {
		value = global_var:gaudi_gotthard_discontent
	}

	goal_add_value = {
		value = 10
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

######CRISTO REDENTOR######

je_gaudi_cristo = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.310 #Gaudí 310: Normal building progress

			1 = gaudi.311 #Gaudí 311: Good progress
			1 = gaudi.312 #Gaudí 312: A Donation
			1 = gaudi.313 #Gaudí 313: Clergy happy
			1 = gaudi.314 #Gaudí 314: Trade unions unhappy
			1 = gaudi.315 #Gaudí 315: Transportation problems
			1 = gaudi.316 #Gaudí 316: Accident
			1 = gaudi.317 #Gaudí 317: Thunderstorm
			1 = gaudi.318 #Gaudí 318: A praise
			1 = gaudi.319 #Gaudí 319: Atheistic intervention
			1 = gaudi.320 #Gaudí 320: Tourist investments
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		gaudi_add_1_splendid_architecture = yes
		trigger_event = { 
			id = gaudi.302
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_RIO_DE_JANEIRO
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_cristo_building
		remove_modifier = gaudi_cristo_construction_cost_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_cristo_construction_modifier
			}
			remove_modifier = gaudi_cristo_construction_modifier
		}
		trigger_event = { 
			id = gaudi.309
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_cristo_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

######MOLE ANTONELLIANA######

je_gaudi_mole_phase_1 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.410 #Gaudí 410: Normal building progress
			1 = gaudi.411 #Bad bricks
			1 = gaudi.413 #Archaeological Investigations
			1 = gaudi.414 #New machines
			1 = gaudi.415 #Petite Bourgeois Donation
			1 = gaudi.416 #Antonelli just had another idea ...
			1 = gaudi.417 #Good progress
			1 = gaudi.418 #Falling beam destroys brick wall
			1 = gaudi.419 #The King makes a visit
			1 = gaudi.420 #Incident
			1 = gaudi.421 #Strike
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.402
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_PIEDMONT
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_mole_building_phase_1
		remove_modifier = gaudi_mole_cost_1_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_mole_phase_1_modifier
			}
			remove_modifier = gaudi_mole_phase_1_modifier
		}
		trigger_event = { 
			id = gaudi.409
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_mole_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_mole_phase_2 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.410 #Gaudí 410: Normal building progress
			1 = gaudi.411 #Bad bricks
			1 = gaudi.414 #New machines
			1 = gaudi.415 #Petite Bourgeois Donation
			1 = gaudi.416 #Antonelli just had another idea ...
			1 = gaudi.417 #Good progress
			1 = gaudi.418 #Falling beam destroys brick wall
			1 = gaudi.420 #Incident
			1 = gaudi.421 #Strike
			1 = gaudi.422 #Thunder destroys Spire
			1 = gaudi.423 #Nietzsche admires the Mole
			1 = gaudi.424 #Mongolfiera Italo (needs Reconnaissance Balloons)
			1 = gaudi.425 #Mongolfiera Italo Accident
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.404
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_PIEDMONT
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_mole_building_phase_2
		remove_modifier = gaudi_mole_cost_2_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_mole_phase_2_modifier
			}
			remove_modifier = gaudi_mole_phase_2_modifier
		}
		trigger_event = { 
			id = gaudi.409
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_mole_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

######VIENNA RINGSTRASSE######

je_gaudi_ringstrasse_phase_1 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.510 #Gaudí 510: Normal building progress
			1 = gaudi.511 #Gaudí 511: Fountain or Pavillon?
			1 = gaudi.512 #Gaudí 512: New Statue on the Ringstrasse
			1 = gaudi.513 #Gaudí 513: Ministry
			1 = gaudi.514 #Gaudí 514: Coffee house
			1 = gaudi.515 #Gaudí 515: Ringstrassen-Palais
			1 = gaudi.516 #Gaudí 516: Good progress
			1 = gaudi.517 #Gaudí 517: Slow progress
			1 = gaudi.518 #Gaudí 518: Monument to $MONARCH$
			1 = gaudi.519 #Gaudí 519: Fire! 
			1 = gaudi.520 #Gaudí 520: Rural Folk unhappy
			1 = gaudi.521 #Gaudí 521: Industrialist Residence

			1 = gaudi.522 #Gaudí 522: Extending the Barracks
			1 = gaudi.523 #Gaudí 523: Extending the Construction Sector
			35 = gaudi.524 #Gaudí 524: Stadtpark
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.502
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_AUSTRIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_ringstrasse_building_phase_1
		remove_modifier = gaudi_ringstrasse_cost_1_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_ringstrasse_phase_1_modifier
			}
			remove_modifier = gaudi_ringstrasse_phase_1_modifier
		}
		trigger_event = { 
			id = gaudi.509
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_ringstrasse_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_ringstrasse_phase_2 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.510 #Gaudí 510: Normal building progress
			1 = gaudi.511 #Gaudí 511: Fountain or Pavillon?
			1 = gaudi.512 #Gaudí 512: New Statue on the Ringstrasse
			1 = gaudi.513 #Gaudí 513: Ministry
			1 = gaudi.514 #Gaudí 514: Coffee house
			1 = gaudi.515 #Gaudí 515: Ringstrassen-Palais
			1 = gaudi.516 #Gaudí 516: Good progress
			1 = gaudi.517 #Gaudí 517: Slow progress
			1 = gaudi.518 #Gaudí 518: Monument to $MONARCH$
			1 = gaudi.519 #Gaudí 519: Fire! 
			1 = gaudi.520 #Gaudí 520: Rural Folk unhappy
			1 = gaudi.521 #Gaudí 521: Industrialist Residence

			1 = gaudi.525 #Gaudí 525: Extending the Opera
			1 = gaudi.526 #Gaudí 526: Extending the Town Hall
			35 = gaudi.527 #Gaudí 527: Börse
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.504
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_AUSTRIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_ringstrasse_building_phase_2
		remove_modifier = gaudi_ringstrasse_cost_2_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_ringstrasse_phase_2_modifier
			}
			remove_modifier = gaudi_ringstrasse_phase_2_modifier
		}
		trigger_event = { 
			id = gaudi.509
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_ringstrasse_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_ringstrasse_phase_3 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.510 #Gaudí 510: Normal building progress
			1 = gaudi.511 #Gaudí 511: Fountain or Pavillon?
			1 = gaudi.512 #Gaudí 512: New Statue on the Ringstrasse
			1 = gaudi.513 #Gaudí 513: Ministry
			1 = gaudi.514 #Gaudí 514: Coffee house
			1 = gaudi.515 #Gaudí 515: Ringstrassen-Palais
			1 = gaudi.516 #Gaudí 516: Good progress
			1 = gaudi.517 #Gaudí 517: Slow progress
			1 = gaudi.518 #Gaudí 518: Monument to $MONARCH$
			1 = gaudi.519 #Gaudí 519: Fire! 
			1 = gaudi.520 #Gaudí 520: Rural Folk unhappy
			1 = gaudi.521 #Gaudí 521: Industrialist Residence

			1 = gaudi.528 #Gaudí 528: Extending the University
			1 = gaudi.529 #Gaudí 529: Extending the Academy
			35 = gaudi.530 #Gaudí 530: Urania
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.506
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_AUSTRIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_ringstrasse_building_phase_3
		remove_modifier = gaudi_ringstrasse_cost_3_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_ringstrasse_phase_3_modifier
			}
			remove_modifier = gaudi_ringstrasse_phase_3_modifier
		}
		trigger_event = { 
			id = gaudi.509
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_ringstrasse_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

######SAGRADA FAMÍLIA######

je_gaudi_sagrada_phase_1 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.602
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_1
		remove_modifier = gaudi_sagrada_cost_1_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_1_modifier
			}
			remove_modifier = gaudi_sagrada_phase_1_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_2 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.604
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_2
		remove_modifier = gaudi_sagrada_cost_2_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_2_modifier
			}
			remove_modifier = gaudi_sagrada_phase_2_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_3 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.606
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_3
		remove_modifier = gaudi_sagrada_cost_3_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_3_modifier
			}
			remove_modifier = gaudi_sagrada_phase_3_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_4 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.608
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_4
		remove_modifier = gaudi_sagrada_cost_4_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_4_modifier
			}
			remove_modifier = gaudi_sagrada_phase_4_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_5 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.610
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_5
		remove_modifier = gaudi_sagrada_cost_5_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_5_modifier
			}
			remove_modifier = gaudi_sagrada_phase_5_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_6 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.612
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_6
		remove_modifier = gaudi_sagrada_cost_6_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_6_modifier
			}
			remove_modifier = gaudi_sagrada_phase_6_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_7 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.614
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_7
		remove_modifier = gaudi_sagrada_cost_7_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_7_modifier
			}
			remove_modifier = gaudi_sagrada_phase_7_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_8 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.616
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_8
		remove_modifier = gaudi_sagrada_cost_8_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_8_modifier
			}
			remove_modifier = gaudi_sagrada_phase_8_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_9 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.618
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_9
		remove_modifier = gaudi_sagrada_cost_9_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_9_modifier
			}
			remove_modifier = gaudi_sagrada_phase_9_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

je_gaudi_sagrada_phase_10 = {
	icon = "gfx/interface/icons/event_icons/event_architecture.dds"

	on_monthly_pulse = {
		random_events = {
			350 = gaudi.630 #Gaudí 630: Normal building progress
			4 = gaudi.631 #Gaudí 631: A Donation
			3 = gaudi.632 #Gaudí 632: Clergy happy
			2 = gaudi.633 #Gaudí 633: Trade unions unhappy
			1 = gaudi.634 #Gaudí 634: Incident
			2 = gaudi.635 #Gaudí 635: Atheistic intervention
			2 = gaudi.636 #Gaudí 636: Tourist investments
			5 = gaudi.637 #Gaudí 637: New machines
			2 = gaudi.638 #Gaudí 638: Strike
			2 = gaudi.639 #Gaudí 639: Inferior material
			4 = gaudi.641 #Gaudí 641: Faster construction progress
			3 = gaudi.642 #Gaudí 642: New jobs
			1 = gaudi.643 #Gaudí 643: Cathedral building lottery
			2 = gaudi.644 #Gaudí 644: Romantic/pious ruler
			3 = gaudi.645 #Gaudí 645: Inviting an Ally
			5 = gaudi.648 #Gaudí 648: Archaeological investigations
			3 = gaudi.649 #Gaudí 649: CHIEF ENGINEER just had another idea ...
			3 = gaudi.650 #Gaudí 650: CHIEF ENGINEER does a good job
		}
	}

	complete = {
		scope:journal_entry = { 
			is_goal_complete = yes 
		}
	}

	on_complete = {
		trigger_event = { 
			id = gaudi.620
			popup = yes
		}
	}

	fail = {
		NOT = {
			any_scope_state = {
				state_region = s:STATE_CATALONIA
			}
		}
	}

	on_fail = {
		remove_global_variable = gaudi_sagrada_building_phase_10
		remove_modifier = gaudi_sagrada_cost_10_modifier
		every_state = {
			limit = {
				has_modifier = gaudi_sagrada_phase_10_modifier
			}
			remove_modifier = gaudi_sagrada_phase_10_modifier
		}
		trigger_event = { 
			id = gaudi.629
			popup = yes
		}
	}

	current_value = {
		value = global_var:gaudi_sagrada_progress
	}

	goal_add_value = {
		value = 120
	}

	progressbar = yes

	weight = 25

	should_be_pinned_by_default = yes
}

######SUMMER PALACE######

je_gaudi_summer_burn = {
    icon = "gfx/interface/icons/event_icons/event_military.dds"
    is_shown_when_inactive = {
		NOT = {
			has_global_variable = gaudi_summer_palace_looted
		}
        exists = c:CHI
        c:CHI = {
			any_scope_state = {
				state_region = s:STATE_BEIJING
				has_building = building_gaudi_summer
			}
			is_country_type = unrecognized
		}
		country_rank >= rank_value:major_power
    }
    possible = {
        has_war_with = c:CHI
    }
    immediate = {
        
    }
    complete = {
		custom_tooltip = {
			text = je_gaudi_summer_burn_success
			any_state = {
        		state_region = s:STATE_BEIJING
	        	controller = ROOT
			}
        }
    }
    on_complete = {
        trigger_event = { 
			id = gaudi.60
			popup = yes
		} # The Burning of the Summer Palace
    }
    weight = 100
    should_be_pinned_by_default = yes
}

je_gaudi_ben_burn = {
    icon = "gfx/interface/icons/event_icons/event_military.dds"
    is_shown_when_inactive = {
        exists = c:CHI
		THIS = c:CHI
        c:GBR = {
			any_scope_state = {
				state_region = s:STATE_HOME_COUNTIES
				has_building = building_big_ben
			}
		}
		has_variable = lost_opium_wars
    }
    possible = {
        has_war_with = c:GBR
    }
    immediate = {
    }
    complete = {
        custom_tooltip = {
			text = je_gaudi_ben_burn_success
			any_state = {
        		state_region = s:STATE_HOME_COUNTIES
	        	controller = ROOT
			}
        }
    }
    on_complete = {
        trigger_event = { 
			id = gaudi.62
			popup = yes
		} # The Burning of Big Ben
    }
    weight = 100
    should_be_pinned_by_default = yes
}
