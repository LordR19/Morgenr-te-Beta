
###############################
# MENDELEJEW JOURNAL ENTRIES  #
###############################

#by Marco Dandolo

############################

je_mendelejew_element_theory = {
	icon = "gfx/interface/icons/event_icons/event_chemistry.dds"

	group = je_group_mendelejew_chemistry

	immediate = {
		set_variable = {
			name = mendelejew_chemist_theory_progress_var
			value = 0
		}
	}

	on_monthly_pulse = {
		effect = {
			change_variable = {
				name = mendelejew_chemist_theory_progress_var
				add = {
					value = mendelejew_element_theory_progress_value
				}
			}
		}
		random_events = {
			600 = 0
			
			#10 = mendelejew.111
		}
	}

	current_value = {
		value = var:mendelejew_chemist_theory_progress_var
	}

	goal_add_value = {
		add = 60
	}

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

	on_complete = {
		trigger_event = {
			id = mendelejew.101
			popup = yes
		}
	}

	invalid = {
		custom_tooltip = {
			text = je_chemist_dies_tt
			NOT = {
				has_variable = mendelejew_chemist_var
			}
		}
	}

	on_invalid = {
		remove_variable = mendelejew_thinking_variable
	}

	fail = {
		custom_tooltip = {
			text = je_element_theory_failed_tt
			
		}
	}

	progressbar = yes

	weight = 50
}

je_mendelejew_element_discovery = {
	icon = "gfx/interface/icons/event_icons/event_chemistry.dds"

	group = je_group_mendelejew_chemistry

	immediate = {
		set_variable = {
			name = mendelejew_chemist_discovery_progress_var
			value = 0
		}
	}

	on_monthly_pulse = {
		effect = {
			change_variable = {
				name = mendelejew_chemist_discovery_progress_var
				add = {
					value = mendelejew_element_discovery_progress_value
				}
			}
		}
		random_events = {
			600 = 0
			
			#10 = mendelejew.211
		}
	}

	current_value = {
		value = var:mendelejew_chemist_discovery_progress_var
	}

	goal_add_value = {
		add = 60
	}

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

	on_complete = {
		trigger_event = {
			id = mendelejew.201
			popup = yes
		}
	}

	invalid = {
		custom_tooltip = {
			text = je_chemist_dies_tt
			NOT = {
				has_variable = mendelejew_chemist_var
			}
		}
	}

	on_invalid = {
		remove_variable = mendelejew_searched_variable
	}

	fail = {
		custom_tooltip = {
			text = je_element_discovery_failed_tt
			
		}
	}

	progressbar = yes

	weight = 50
}

je_mendelejew_element_isolation = {
	icon = "gfx/interface/icons/event_icons/event_chemistry.dds"

	group = je_group_mendelejew_chemistry

	immediate = {
		set_variable = {
			name = mendelejew_chemist_isolation_progress_var
			value = 0
		}
	}

	on_monthly_pulse = {
		effect = {
			change_variable = {
				name = mendelejew_chemist_isolation_progress_var
				add = {
					value = mendelejew_element_isolation_progress_value
				}
			}
		}
		random_events = {
			600 = 0
			
			#10 = mendelejew.311
		}
	}

	current_value = {
		value = var:mendelejew_chemist_isolation_progress_var
	}

	goal_add_value = {
		add = 60
	}

	complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

	on_complete = {
		trigger_event = {
			id = mendelejew.201
			popup = yes
		}
	}

	invalid = {
		custom_tooltip = {
			text = je_chemist_dies_tt
			NOT = {
				has_variable = mendelejew_chemist_var
			}
		}
	}

	on_invalid = {
		remove_variable = mendelejew_examined_variable
	}

	fail = {
		custom_tooltip = {
			text = je_element_isolation_failed_tt
			
		}
	}

	progressbar = yes

	weight = 50
}