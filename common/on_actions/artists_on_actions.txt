#####################
# DUBOIS ON ACTIONS #
#####################

#by Marco Dandolo

######################

on_building_built = {
	on_actions = {
		artists_on_building_built
	}
}

on_yearly_pulse_country = { 
	on_actions = {
		artists_on_yearly_pulse_country
	}
}

on_monthly_pulse_country = { 
	on_actions = {
		artists_on_monthly_pulse_country
	}
}

artists_on_building_built = {
	effect = {
		if = {
			limit = {
				is_building_type = building_arts_academy
				level = 1
			}
			state = {
				activate_production_method = {
					building_type = building_arts_academy
					production_method = pm_artists_arts_academy_standard
				}
			}
		}
	}
}

artists_on_yearly_pulse_country = {
	effect = {
		if = {
			limit = {
				has_modifier = artists_patron_of_the_arts_modifier
			}
			remove_modifier = artists_patron_of_the_arts_modifier
			add_modifier = {
				name = artists_patron_of_the_arts_modifier
				multiplier = money_amount_multiplier_small
			}
		}
		if = {
			limit = { is_ai = yes }
			elgar_ai_hire_composer_effect = yes
		}
	}
}

artists_on_monthly_pulse_country = {
	effect = {
		#This effect is used to add the artistic progress to all countries
		artists_monthly_artistic_progress_effect = yes

		#This effect is used to remove the travelling composers as there shouldn't be too many.
		artists_remove_travelling_composer_from_void_effect = yes

		#This effect is used to set up the list of travelling composers
		artists_set_up_travelling_composer_list_effect = yes
	}
}
