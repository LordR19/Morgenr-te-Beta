#########################
# ARTISTS SCRPIT VALUES #
#########################

############################################################################

artists_cultural_tradition_value = {
	value = var:elgar_music_tradition
	add = var:manzoni_literary_tradition_var
	add = var:klimt_painting_tradition_var
}

artists_composer_experience_set_up_value = {
	if = {
		limit = {
			owner.var:elgar_music_tradition > 1000
		}
		value = 100
	}
	else = {
		value = owner.var:elgar_music_tradition
		divide = 10
	}
	if = {
		limit = {
			owner = {
				any_scope_state = {
					is_production_method_active = {
						building_type = building_arts_academy
						production_method = pm_artists_arts_academy_conservatory #TODO add correct production method
					}
				}
			}
		}
		add = 25
	}
	if = {
		limit = {
			owner = {
				OR = {
					has_technology_researched = elgar_impressionism_tech
					has_technology_researched = elgar_expressionism_tech
					has_technology_researched = elgar_art_nouveau_tech
				}
			}
		}
		add = 25
	}
	if = {
		limit = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 1
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 15
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 20
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 25
				}
			}
		}
		add = 5
	}
}

#Calculation of the current Academic Progress Gain
monthly_artistic_progress_gain_value = {
	value = 0
	if = {
		limit = {
			any_scope_building = {
				OR = {
					is_building_type = building_arts_academy
					is_building_type = building_elgar_opera
				}
				level >= 1
			}
		}
		value = 1

		#Interest Groups
		if = { #Powerful Intelligentsia
			limit = {
				ig:ig_intelligentsia = {
					is_powerful = yes
				}
			}
			add = 1
		}
		if = { #Marginalized Intelligentsia
			limit = {
				ig:ig_intelligentsia = {
					is_marginal = yes
				}
			}
			subtract = 1
		}

		#SOL
		if = { #SOL 10 or higher
			limit = {
				average_sol >= 10
			}
			add = 1
		}
		if = { #SOL 20 or higher
			limit = {
				average_sol >= 20
			}
			add = 1
		}
		if = { #SOL 40 or higher
			limit = {
				average_sol >= 40
			}
			add = 1
		}

		#Literacy
		if = { #Literacy 30 or higher
			limit = {
				literacy_rate >= 0.3
			}
			add = 0.5
		}
		if = { #Literacy 60 or higher
			limit = {
				literacy_rate >= 0.6
			}
			add = 0.5
		}
		if = { #Literacy 90 or higher
			limit = {
				literacy_rate >= 0.9
			}
			add = 0.5
		}

		#Technology
		if = { #Classicism
			limit = {
				has_technology_researched = elgar_classicism_tech
			}
			add = 0.5
		}
		if = { #Romanticism
			limit = {
				has_technology_researched = romanticism
			}
			add = 0.5
		}
		if = { #Irrationalism
			limit = {
				has_technology_researched = elgar_irrationalism_tech
			}
			add = 1
		}
		if = { #Impressionism, Expressionism, Art Nouveau
			limit = {
				OR = {
					has_technology_researched = elgar_impressionism_tech
					has_technology_researched = elgar_expressionism_tech
					has_technology_researched = elgar_art_nouveau_tech
				}
			}
			add = 1
		}
		if = { #Neoclassicism, New Objectivity, Art Deco
			limit = {
				OR = {
					has_technology_researched = elgar_neoclassicism_tech
					has_technology_researched = elgar_new_objectivity_tech
					has_technology_researched = elgar_art_deco_tech
				}
			}
			add = 1
		}

		#Buildings to population Ratio
		if = { #Classicism
			limit = {
				buildings_for_artistic_progress_value >= 5
			}
			add = 5
		}
		else = {
			add = buildings_for_artistic_progress_value
		}

		#Laws
		if = { #Traditionalism + powerful Landowner/devout
			limit = {
				has_law = law_type:law_traditionalism
				OR = {
					ig:ig_landowners = {
						is_powerful = yes
					}
					ig:ig_devout = {
						is_powerful = yes
					}
				}
			}
			add = 1
		}
		if = { #Laissez Faire + powerful Industrialists
			limit = {
				has_law = law_type:law_laissez_faire
				ig:ig_industrialists = {
					is_powerful = yes
				}
			}
			add = 1
		}
		if = { #Cooperative Ownership + powerful Trade Unions
			limit = {
				has_law = law_type:law_cooperative_ownership
				ig:ig_trade_unions = {
					is_powerful = yes
				}
			}
			add = 1
		}
		if = { #Protected Speech
			limit = {
				has_law = law_type:law_protected_speech
			}
			add = 1
		}

		#Promoting
		if = { #Promoting Composer
			limit = {
				has_variable = artists_promote_composer_active_var
				any_scope_state = {
					is_production_method_active = {
						building_type = building_arts_academy
						production_method = pm_artists_arts_academy_conservatory
					}
				}
			}
			add = 1
		}
		if = { #Promoting Writer
			limit = {
				has_variable = artists_promote_writer_active_var
				any_scope_state = {
					is_production_method_active = {
						building_type = building_arts_academy
						production_method = pm_artists_arts_academy_salon
					}
				}
			}
			add = 1
		}
		if = { #Promoting Painter
			limit = {
				has_variable = artists_promote_painter_active_var
				any_scope_state = {
					is_production_method_active = {
						building_type = building_arts_academy
						production_method = pm_artists_arts_academy_studio
					}
				}
			}
			add = 1
		}
		if = { #Patron of the Arts
			limit = {
				has_modifier = artists_patron_of_the_arts_modifier
			}
			add = 1
		}
	}
}

#Calculation of Buildings for the Artistic Progress
# {(Total Number of Arts Academies + Opera Houses) : [(Total Population + 5.000.000) : 1.000.000]} x 20
buildings_for_artistic_progress_value = {
	value = 0

	every_scope_building = {
		limit = {
			OR = {
				is_building_type = building_arts_academy
				is_building_type = building_elgar_opera
			}
			level > 0
		}
		add = this.level
	}

	divide = population_for_artistic_progress_value

	multiply = 20

	round_to = 0.1
}

#Calculation for the Population part of the Buildings for the Artistic Progress
population_for_artistic_progress_value = {
	value = total_population
	add = 5000000
	divide = 1000000
}

#This Value is used to see if another Composer has 50 Reputation more
elgar_compser_experience_plus_50_value = {
	value = var:elgar_composer_var.var:elgar_composer_experience
	add = 50
}