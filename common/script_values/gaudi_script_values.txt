#######################
# GAUDI SCRPIT VALUES #
#######################

#By Lord R

############################################################################

#This Script value depends on the technological advancement of a country.
gaudi_tech_level_multiplier_5_value = {
	value = gaudi_percentage_more_advanced_countries_value
	multiply = 5
}

#This Script Value calculates the percentage of more advanced countries that are not decentralized
gaudi_percentage_more_advanced_countries_value = {
	if = {
		limit = {
			any_country = {
				techs_researched >= root.techs_researched
			}
		}
		every_country = {
			limit = {
				NOT = { is_country_type = decentralized }
				techs_researched >= root.techs_researched
			}
			add = 1
		}
	}
	else = {
		value = 0.01
	}

	divide = gaudi_num_countries_not_decentralized_value
}

#This Script Value counts the number of countries that are not decentralized
gaudi_num_countries_not_decentralized_value = {
	every_country = {
		limit = {
			NOT = { is_country_type = decentralized }
		}
		add = 1
	}
}

### Civil Engineering Projects ###

#This script value is used to determine the number of states with the roads modifier
gaudi_states_with_roads_value = {
	every_scope_state = {
		limit = { has_modifier = gaudi_modern_roads_modifier }
		add = 1
	}
}

#This script value is used to determine the number of states with the canals modifier
gaudi_states_with_canals_value = {
	every_scope_state = {
		limit = { has_modifier = gaudi_canal_systems_modifier }
		add = 1
	}
}

#I needed to inverse the infrastructure_balance out of some reason
gaudi_infrastructure_balance = {
	value = 0
	if = {
		limit = {
			infrastructure > 0
		}
		value = infrastructure
		subtract = infrastructure_usage
		multiply = -1
	}
}

#Defines the base cost of the road modifier
gaudi_road_progress_cost = {
	value = 18
}