#########################
# VERRIER SCRPIT VALUES #
#########################

############################################################################

verrier_astronomer_character_rating_value = {
	### Experience: 1 point per 50 Experience ###
	value = var:verrier_astronomer_experience
	divide = 50
	### Positive Traits ###
	#Experience Trait
	if = {
		limit = {
			has_trait = verrier_astronomer_famous
		}
		add = 3
	}
	else_if = {
		limit = {
			has_trait = verrier_astronomer_experienced
		}
		add = 2
	}
	else = {
		add = 1
	}
	#General
	if = {
		limit = {
			has_trait = verrier_mathematician
		}
		add = 2
	}
	if = {
		limit = {
			has_trait = curie_physicist
		}
		add = 2
	}
	if = {
		limit = {
			has_trait = meticulous
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = innovative
		}
		add = 1
	}
	if = {
		limit = {
			has_trait = engineer
		}
		add = 1
	}
	### Negative Traits ###
	if = {
		limit = {
			has_trait = alcoholic
		}
		subtract = 2
	}
	if = {
		limit = {
			has_trait = opium_addiction
		}
		subtract = 2
	}
	if = {
		limit = {
			has_trait = cocaine_addiction
		}
		subtract = 2
	}
	if = {
		limit = {
			has_trait = senile
		}
		subtract = 5
	}
	### Age Factor, the older the worse for the ranking ###
	if = {
		limit = { age > 30 }
		subtract = 1
	}
	if = {
		limit = { age > 40 }
		subtract = 2
	}
	if = {
		limit = { age > 50 }
		subtract = 3
	}
	if = {
		limit = { age > 60 }
		subtract = 4
	}
	if = {
		limit = { age > 70 }
		subtract = 5
	}
}

verrier_carrington_astronomer_value = {
	if = {
		limit = { verrier_has_astronomer_no_tooltip_trigger = yes }
		value = root.var:verrier_astronomer_var.var:verrier_astronomer_experience
		if = {
			limit = {
				ROOT = {
					any_scope_state = {
						any_scope_building = {
							is_building_type = building_verrier_observatory
							level > 0
						}
					}
				}
			}
			add = 100
		}
		if = {
			limit = {
				ROOT = {
					any_scope_state = {
						any_scope_building = {
							is_building_type = building_verrier_observatory
							has_active_production_method = pm_gaudi_magnetic_observatory
						}
					}
				}
			}
			add = 100
		}
	}
	else = {
		value = 0
	}
}

verrier_yearly_astronomical_objects_value = {
	value = 0
	###Technology###
	if = {
		limit = {
			has_technology_researched = camera
		}
		add = 2
	}
	if = {
		limit = {
			has_technology_researched = verrier_modern_physics_tech
		}
		add = 4
	}
	###Observatory PMs###
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_early_modern_telescope
				}
			}
		}
		add = 1
	}
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_modern_telescope
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_astro_lab
				}
			}
		}
		add = 15
	}
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_human_computers_small
				}
			}
		}
		add = 1
	}
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_human_computers_medium
				}
			}
		}
		add = 2
	}
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_human_computers_big
				}
			}
		}
		add = 5
	}
	if = {
		limit = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_verrier_observatory
					production_method = pm_verrier_mechanical_computer
				}
			}
		}
		add = 10
	}
	if = {
		limit = {
			any_scope_state = {
				OR = {
					is_production_method_active = {
						building_type = building_verrier_observatory
						production_method = pm_mendelejew_spectroscopy
					}
					is_production_method_active = {
						building_type = building_verrier_observatory
						production_method = pm_mendelejew_cyclotron
					}
				}
			}
		}
		add = 3
	}
	###Astronomer Experience###
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_astronomer
				is_busy = no
			}
		}
		add = 5
	}
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_astronomer_experienced
				is_busy = no
			}
		}
		add = 6
	}
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_astronomer_famous
				is_busy = no
			}
		}
		add = 8
	}
	###Astronomer Traits##
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_comet_observer
				is_busy = no
			}
		}
		add = 2
	}
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_magnetic_storm_observer
				is_busy = no
			}
		}
		add = 2
	}
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_solar_observer
				is_busy = no
			}
		}
		add = 2
	}
	if = {
		limit = {
			has_variable = verrier_astronomer_var
			var:verrier_astronomer_var = {
				has_trait = verrier_moon_observer
				is_busy = no
			}
		}
		add = 2
	}
}

verrier_astronomical_prestige = {
	if = {
		limit = { has_variable = verrier_astronomical_objects }
		value = var:verrier_astronomical_objects
		divide = 100
		round = yes
	}
	if = {
		limit = { has_variable = verrier_meteorites_var }
		add = var:verrier_meteorites_var
	}
	if = {
		limit = { has_variable = verrier_num_discovered_moons_var }
		add = {
			value = var:verrier_num_discovered_moons_var
			multiply = 10
		}
	}
	if = {
		limit = { has_variable = verrier_great_comet }
		add = {
			value = var:verrier_great_comet
			multiply = 10
		}
	}
	if = {
		limit = { has_variable = verrier_discovered_uranus_variable }
		add = 35
	}
	if = {
		limit = { has_variable = verrier_discovered_neptune_variable }
		add = 50
	}
	if = {
		limit = { has_variable = verrier_discovered_pluto_variable }
		add = 100
	}
	if = {
		limit = { has_variable = verrier_discovered_ceres_variable }
		add = 15
	}
	if = {
		limit = { has_variable = verrier_discovered_pallas_var }
		add = 15
	}
	if = {
		limit = { has_variable = verrier_discovered_juno_var }
		add = 15
	}
	if = {
		limit = { has_variable = verrier_discovered_vesta_var }
		add = 15
	}
	if = {
		limit = { has_variable = verrier_discovered_astraea_var }
		add = 15
	}
	if = {
		limit = { has_variable = verrier_moon_chartered_var }
		add = 25
	}
}