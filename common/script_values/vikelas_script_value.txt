#########################
# VIKELAS SCRPIT VALUES #
#########################

############################################################################

#This value is used to create a ranking of the top three winner nations of the Olypics.
vikelas_olympic_success_value = {
	#This part basically creates a rough logarithm of the total population
	if = {
		limit = {
			total_population <= 1000000
		}
		value = 6
	}
	if = {
		limit = {
			total_population > 1000000
			total_population <= 10000000
		}
		value = 7
	}
	if = {
		limit = {
			total_population > 10000000
			total_population <= 100000000
		}
		value = 8
	}
	if = {
		limit = {
			total_population > 100000000
			total_population <= 1000000000
		}
		value = 9
	}
	#The logarithm of the population gets multiplied with the average SOL (higher SOL allows for more free time activities)
	multiply = average_sol
	#Laws that allow some degree of child labor have a negative effect on the score.
	if = {
		limit = {
			has_law = law_type:law_child_labor_allowed
		}
		multiply = 0.5
	}
	if = {
		limit = {
			has_law = law_type:law_restricted_child_labor
		}
		multiply = 0.75
	}
	#Adds the total level of sports facilities of the country
	add = vikelas_sports_facilities_score
	#In case that the country has an athlete it gets a flat 50 bonus
	if = {
		limit = {
			any_scope_character = {
				has_trait = vikelas_athlete
			}
		}
		add = 50
	}
	#Flat bonus for the host
	if = {
		limit = {
			has_modifier = vikelas_olympics_hosting_modifier
		}
		add = 100
	}
	#Army laws have a positive influence on the score. National Militia helps the most as it usually means military service for a lot of people.
	if = {
		limit = {
			has_law = law_type:law_professional_army
		}
		multiply = 1.2
	}
	if = {
		limit = {
			has_law = law_type:law_national_militia
		}
		multiply = 1.3
	}
	if = {
		limit = {
			has_law = law_type:law_mass_conscription
		}
		multiply = 1.1
	}
	#This is used to randomize the result
	multiply = { 0.9 1.1 }
}

#This value counts the total level of sports facilities of a country
vikelas_sports_facilities_score = {
	value = 0
	every_scope_building = {
		limit = {
			is_building_type = building_government_administration
			has_active_production_method = pm_vikelas_sports_facilities
		}
		add = level
	}
}