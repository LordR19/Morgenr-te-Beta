###########################
# DUBOIS SCRIPTED BUTTONS #
###########################

#by Marco Dandolo

######################

######ACADEMY BUTTONS######

dubois_promote_humanities_button = {
	name = "dubois_promote_humanities_button"
	desc = "dubois_promote_humanities_button_desc"

	visible = { always = yes }

	possible = {
		hidden_trigger = {
			NOT = {
				has_variable = dubois_promote_humanities_active
				has_variable = dubois_academy_promotion_active
			}
		}
		any_scope_state = {
			is_production_method_active = {
				building_type = building_university
				production_method = pm_dubois_university_humanities
			}
		}
	}

	effect = {
		set_variable = dubois_promote_humanities_active
		set_variable = dubois_academy_promotion_active
	}
}

dubois_promote_natural_history_button = {
	name = "dubois_promote_natural_history_button"
	desc = "dubois_promote_natural_history_button_desc"

	visible = { always = yes }

	possible = {
		hidden_trigger = {
			NOT = {
				has_variable = dubois_promote_natural_history_active
				has_variable = dubois_academy_promotion_active
			}
		}
		any_scope_state = {
			is_production_method_active = {
				building_type = building_university
				production_method = pm_dubois_university_natural_history
			}
		}
	}

	effect = {
		set_variable = dubois_promote_natural_history_active
		set_variable = dubois_academy_promotion_active
	}
}

dubois_promote_mathematics_button = {
	name = "dubois_promote_mathematics_button"
	desc = "dubois_promote_mathematics_button_desc"

	visible = { always = yes }

	possible = {
		hidden_trigger = {
			NOT = {
				has_variable = dubois_promote_mathematics_active
				has_variable = dubois_academy_promotion_active
			}
		}
		any_scope_state = {
			is_production_method_active = {
				building_type = building_university
				production_method = pm_dubois_university_mathematics
			}
		}
	}

	effect = {
		set_variable = dubois_promote_mathematics_active
		set_variable = dubois_academy_promotion_active
	}
}

######SPECIMEN BUTTONS######

dubois_specimen_garden_button = {
	name = "dubois_specimen_garden_button"
	desc = "dubois_specimen_garden_button_desc"

	visible = { always = yes }

	possible = {
		dubois_has_naturalist = yes
		custom_tooltip = {
			text = dubois_specimen_tt
			var:dubois_specimen >= 50000
		}
		NOT = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_dubois_zoo
					production_method = pm_botanical_garden
				}
			}
		}
	}

	effect = {
		dubois_sub_50000_specimen = yes
		random_scope_state = {
			limit = {
				has_building = building_dubois_zoo
			}
			activate_production_method = {
				building_type = building_dubois_zoo
				production_method = pm_botanical_garden
			}
		}
	}
}

dubois_specimen_collection_button = {
	name = "dubois_specimen_collection_button"
	desc = "dubois_specimen_collection_button_desc"

	visible = { always = yes }

	possible = {
		dubois_has_naturalist = yes
		custom_tooltip = {
			text = dubois_specimen_tt
			var:dubois_specimen >= 50000
		}
		NOT = {
			any_scope_state = {
				is_production_method_active = {
					building_type = building_dubois_zoo
					production_method = pm_specimen_collection
				}
			}
		}
	}

	effect = {
		dubois_sub_50000_specimen = yes
		random_scope_state = {
			limit = {
				has_building = building_dubois_zoo
			}
			activate_production_method = {
				building_type = building_dubois_zoo
				production_method = pm_specimen_collection
			}
		}
	}
}