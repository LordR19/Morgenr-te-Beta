##############################
# ACADEMICS SCRPITED EFFECTS #
##############################

############################################################################

#place_character_in_void = 1200
#All Academics (and Special Characters) should have a variable assigned to the character:
# mr_is_engineer_var		--> Engineer
# mr_is_astronomer_var		--> Astronomer
# mr_is_naturalist_var		--> Naturalist
# mr_is_paleontologist_var	--> Paleontologist
# mr_is_archaeologist_var	--> Archaeologist

# mr_is_balloonist_var		--> Balloonist
# mr_is_missionary_var		--> Missionary
# mr_is_adventurer_var		--> Adventurer

######ENGINEER######

create_engineer_effect = {
	if = { #Gustave Eiffel, France
		limit = {
			c:FRA ?= this
			game_date < 1887.12.15 #Age 55
			year > 1857 #First Contract of Eiffel as an Engineer
			NOT = { has_global_variable = gaudi_eiffel_created }
		}
		create_eiffel_gustave_effect = yes
		set_global_variable = gaudi_eiffel_created
	}
	else = {
		create_character = {
			save_scope_as = gaudi_engineer_scope
		}

		scope:gaudi_engineer_scope = {
			add_trait = engineer
			set_variable = mr_is_engineer_var
			place_character_in_void = 1200	
		}
			
		set_variable = {
			name = gaudi_engineer_var
			value = scope:gaudi_engineer_scope
		}
	}
}

kill_engineer_effect = {
	var:gaudi_engineer_var = {
		free_character_from_void = no
	}

	remove_variable = gaudi_engineer_var
}

# Set new Engineer as official Engineer
gaudi_set_new_engineer_as_engineer_effect = {
	custom_tooltip = {
		text = gaudi_replace_engineer_with_new_engineer_tt
	
		set_variable = {
			name = gaudi_new_engineer_scope
			value = scope:gaudi_new_engineer_scope
		}
	}
}

# Remove new Engineer
gaudi_remove_new_engineer_effect = {
	scope:gaudi_new_engineer_scope = {
		free_character_from_void = no
	}
}

######ASTRONOMER######

create_astronomer_effect = {
	if = { #Quetelet Belgium
		limit = {
			c:BEL ?= this
			game_date < 1851.2.22 #Age 55
			year > 1828 #Prevents Earlier Start Dates to spawn character before he is ready
			NOT = { has_global_variable = verrier_quetelet_created_global_var }
		}
		create_quetelet_adolphe_effect = yes
	}
	else = {
		create_character = {
			save_scope_as = verrier_astronomer_scope
		}
	}
		
	scope:verrier_astronomer_scope = {
		add_trait = verrier_astronomer
		set_variable = mr_is_astronomer_var
		place_character_in_void = 1200	
	}
		
	set_variable = {
		name = verrier_astronomer_var
		value = scope:verrier_astronomer_scope
	}
}

kill_astronomer_effect = {
	var:verrier_astronomer_var = {
		free_character_from_void = no
	}

	remove_variable = verrier_astronomer_var
}

# Set new Astronomer as official Astronomer
verrier_set_new_astronomer_as_astronomer_effect = {
	custom_tooltip = {
		text = verrier_replace_astronomer_with_new_astronomer_tt
	
		set_variable = {
			name = verrier_astronomer_var
			value = scope:verrier_new_astronomer_scope
		}
	}
}

# Remove new Astronomer
verrier_remove_new_astronomer_effect = {
	scope:verrier_new_astronomer_scope = {
		free_character_from_void = no
	}
}

###HISTORICAL ASTRONOMERS WITHOUT EVENT

###Create Quetelet###
create_quetelet_adolphe_effect = {
	create_character = {
		first_name = verrier_adolphe
		last_name = verrier_quetelet
		historical = yes
		culture = cu:wallonian
		religion = catholic
		interest_group = ig_petty_bourgeoisie
		ig_leader = no
		female = no
		birth_date = 1796.2.22
		dna = mr_bel_quetelet_adolphe
		traits = {
			meticulous
			innovative
			verrier_mathematician
		}

		save_scope_as = verrier_astronomer_scope
	}
		
	scope:verrier_astronomer_scope = {
		set_variable = verrier_quetelet_character_var
		set_variable = mr_is_astronomer_var
		place_character_in_void = 1200
	}

	set_variable = {
		name = verrier_astronomer_var
		value = scope:verrier_astronomer_scope
	}

	set_global_variable = verrier_quetelet_created_global_var
}

######NATURALIST######

create_naturalist_effect = {
	if = { #Wallace, Great Britain or Wales
		limit = {
			OR = {
				c:GBR ?= this
				c:WLS ?= this
			}
			game_date < 1878.1.8 #Age 55
			year > 1848 #First Expedition of Wallace to Brazil
			NOT = { has_global_variable = dubois_wallace_created_global_var }
		}
		create_wallace_alfred_russel_effect = yes
	}
	else_if = {
		limit = {
			OR = {
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:south_italian
			}
			game_date < 1898.11.16 #Age 55
			year > 1865 #First Expedition of Beccari to Borneo
			NOT = { has_global_variable = dubois_beccari_created_global_var }
		}
		create_beccari_odoardo_effect = yes
	}
	else = {
		create_character = {
			save_scope_as = dubois_naturalist_scope
		}
	}
		
	scope:dubois_naturalist_scope = {
		add_trait = dubois_naturalist
		set_variable = mr_is_naturalist_var
		place_character_in_void = 1200	
	}
		
	set_variable = {
		name = dubois_naturalist_var
		value = scope:dubois_naturalist_scope
	}
}

kill_naturalist_effect = {
	var:dubois_naturalist_var = {
		free_character_from_void = no
	}

	remove_variable = dubois_naturalist_var

	#Additional effects
	dubois_set_paleontologist_to_default = yes
	remove_modifier = dubois_paleontological_research_modifier
}

# Set new Naturalist as official Naturalist
dubois_set_new_naturalist_as_naturalist_effect = {
	custom_tooltip = {
		text = dubois_replace_naturalist_with_new_naturalist_tt
	
		set_variable = {
			name = dubois_naturalist_var
			value = scope:dubois_new_naturalist_scope
		}
	}
}

# Remove new Naturalist
dubois_remove_new_naturalist_effect = {
	scope:dubois_new_naturalist_scope = {
		free_character_from_void = no
	}
}

###HISTORICAL NATURALISTS WITHOUT EVENT

###Create Wallace###
create_wallace_alfred_russel_effect = {
	create_character = {
		dna = mr_gbr_wallace_alfred_russel
		first_name = dubois_alfred_russel
		last_name = dubois_wallace
		culture = cu:welsh
		religion = atheist
		interest_group = ig_intelligentsia
		female = no
		birth_date = 1823.1.8
		historical = yes
		traits = { 
			dubois_naturalist
			innovative
			persistent
			meticulous
			cautious
		}

		save_scope_as = dubois_naturalist_scope
	}
		
	scope:dubois_naturalist_scope = {
		set_variable = dubois_wallace_character_var
		set_variable = mr_is_naturalist_var
		place_character_in_void = 1200	
	}

	set_variable = {
		name = dubois_naturalist_var
		value = scope:dubois_naturalist_scope
	}

	set_global_variable = dubois_wallace_created_global_var
}

###Create Beccari###
create_beccari_odoardo_effect = {
	create_character = {
		dna = mr_ita_beccari_odoardo
		first_name = dubois_odoardo
		last_name = dubois_beccari
		culture = cu:north_italian
		religion = catholic
		interest_group = ig_intelligentsia
		female = no
		birth_date = 1843.11.16
		historical = yes
		traits = { 
			dubois_naturalist
			innovative
			brave
			erudite
		}

		save_scope_as = dubois_naturalist_scope
	}
		
	scope:dubois_naturalist_scope = {
		set_variable = dubois_beccari_character_var
		set_variable = mr_is_naturalist_var
		place_character_in_void = 1200
	}

	set_variable = {
		name = dubois_naturalist_var
		value = scope:dubois_naturalist_scope
	}

	set_global_variable = dubois_beccari_created_global_var
}

######PALEONTOLOGIST######

create_paleontologist_effect = {
	create_character = {
		save_scope_as = dubois_paleontologist_scope
	}
		
	scope:dubois_paleontologist_scope = {
		add_trait = dubois_paleontologist
		set_variable = mr_is_paleontologist_var
		place_character_in_void = 1200
	}
		
	set_variable = {
		name = dubois_paleontologist_var
		value = scope:dubois_paleontologist_scope
	}
}

kill_paleontologist_effect = {
	var:dubois_paleontologist_var = {
		free_character_from_void = no
	}

	remove_variable = dubois_paleontologist_var
}

# Set new Paleontologist as official Paleontologist
dubois_set_new_paleontologist_as_paleontologist_effect = {
	custom_tooltip = {
		text = dubois_replace_paleontologist_with_new_paleontologist_tt
	
		set_variable = {
			name = dubois_paleontologist_var
			value = scope:dubois_new_paleontologist_scope
		}
	}
}

# Remove new Paleontologist
dubois_remove_new_paleontologist_effect = {
	scope:dubois_new_paleontologist_scope = {
		free_character_from_void = no
	}
}

######ARCHAEOLOGIST######

create_archaeologist_effect = {
	create_character = {
		save_scope_as = lepsius_archaeologist_scope
	}
		
	scope:lepsius_archaeologist_scope = {
		add_trait = lepsius_archaeologist
		set_variable = mr_is_archaeologist_var
		set_variable = {
			name = lepsius_archaeologist_experience
			value = 0
		}
		place_character_in_void = 1200	
	}
		
	set_variable = {
		name = lepsius_archaeologist_var
		value = scope:lepsius_archaeologist_scope
	}
}

kill_archaeologist_effect = {
	var:lepsius_archaeologist_var = {
		free_character_from_void = no
	}

	remove_variable = lepsius_archaeologist_var
}

######ANTHROPOLOGIST######

create_anthropologist_effect = {
	create_character = {
		save_scope_as = lepsius_anthropologist_scope
	}
		
	scope:lepsius_anthropologist_scope = {
		add_trait = lepsius_anthropologist
		set_variable = mr_is_anthropologist_var
		set_variable = {
			name = lepsius_anthropologist_experience
			value = 0
		}
		place_character_in_void = 1200	
	}
		
	set_variable = {
		name = lepsius_anthropologist_var
		value = scope:lepsius_anthropologist_scope
	}
}

kill_anthropologist_effect = {
	var:lepsius_anthropologist_var = {
		free_character_from_void = no
	}

	remove_variable = lepsius_anthropologist_var
}

# Creates a new Anthropologist without losing the old one
create_new_anthropologist_effect = {
	create_character = {
		save_scope_as = lepsius_new_anthropologist_scope
	}
		
	scope:lepsius_new_anthropologist_scope = {
		add_trait = lepsius_anthropologist
		set_variable = mr_is_anthropologist_var
		set_variable = {
			name = lepsius_anthropologist_experience
			value = 0
		}
		place_character_in_void = 1200	
	}
}

# Set new Anthropologist as official Anthropologist
lepsius_set_new_anthropologist_as_anthropologist_effect = {
	custom_tooltip = {
		text = lepsius_replace_anthropologist_with_new_anthropologist_tt
	
		set_variable = {
			name = lepsius_anthropologist_var
			value = scope:lepsius_new_anthropologist_scope
		}
	}
}

# Remove new Anthropologist
lepsius_remove_new_anthropologist_effect = {
	scope:lepsius_new_anthropologist_scope = {
		free_character_from_void = no
	}
}
