##############################
# ACADEMICS SCRPITED EFFECTS #
##############################

############################################################################

#All Academics (and Special Characters) should have a variable assigned to the character:
# mr_is_engineer_var		--> Engineer
# mr_is_astronomer_var		--> Astronomer
# mr_is_naturalist_var		--> Naturalist
# mr_is_paleontologist_var	--> Paleontologist
# mr_is_archaeologist_var	--> Archaeologist
# mr_is_anthropologist_var	--> Anthropologist

# mr_is_balloonist_var		--> Balloonist
# mr_is_missionary_var		--> Missionary
# mr_is_adventurer_var		--> Adventurer

######GENERAL######

set_retirement_variable_effect = {
	if = {
		limit = {
			NOT = { has_variable = random_retirement_chooser_var }
		}
		set_variable = {
			name = random_retirement_chooser_var
			value = { 0 30 }
		}
	}
}

######ENGINEER######

#This effect kills the current engineer
# !!! Change stuff in both of the following effects !!!
kill_engineer_effect = {
	var:gaudi_engineer_var = {
		free_character_from_void = no
	}

	remove_variable = gaudi_engineer_var
	remove_modifier = gaudi_engineer_technology_spread_modifier

	if = {
		limit = { has_modifier = academics_engineer_emeritus_delayed_modifier }
		remove_modifier = academics_engineer_emeritus_delayed_modifier
	}
}
#This Effect retires the current Engineer
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_engineer_effect = {
	custom_tooltip = {
		text = retire_engineer_effect_tt

		var:gaudi_engineer_var = {
			free_character_from_void = no
		}
	}

	remove_variable = gaudi_engineer_var
	remove_modifier = gaudi_engineer_technology_spread_modifier

	if = {
		limit = { has_modifier = academics_engineer_emeritus_delayed_modifier }
		remove_modifier = academics_engineer_emeritus_delayed_modifier
	}
}

# Creates a new Engineer without losing the old one
#This one was a little harder as the scope was only valid in the random_list
#Therefore a Variable is set to save the scope again. then gets deleted
create_new_engineer_effect = {
	random_list = {
		100 = { #Ferdinand Mannlicher, Austria
			trigger = {
				NOT = { has_global_variable = gaudi_mannlicher_created }
				has_state_in_state_region = STATE_AUSTRIA
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1903.1.30 #Age 55
				year >= 1885 #patented Mannlicher System
			}
			create_character = {
				template = mr_aus_mannlicher_ferdinand_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_mannlicher_created #Makes sure Mannlicher is not already created
		}
		100 = { #Jan Perner, Austria
			trigger = {
				NOT = { has_global_variable = gaudi_perner_created }
				has_state_in_state_region = STATE_BOHEMIA
				NOT = {
					cu:czech = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1870.9.7 #Age 55
				year >= 1837 #started work for the State Railway Company
			}
			create_character = {
				template = mr_aus_perner_jan_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_perner_created #Makes sure Perner is not already created
		}
		100 = { #Alfred Belpaire, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_belpaire_created }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1875.9.25 #Age 55
				year >= 1850 #In charge of Materials at the Belgian State Railways
			}
			create_character = {
				template = mr_bel_belpaire_alfred_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_belpaire_created #Makes sure Belpaire is not already created
		}
		100 = { #Henri Alexis Brialmont, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_brialmont_created }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1876.5.25 #Age 55
				year >= 1855 #Captain in the general staff of Belgium
			}
			create_character = {
				template = mr_bel_brialmont_henri_alexis_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_brialmont_created #Makes sure Brialmont is not already created
		}
		100 = { #Édouard Empain, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_empain_created }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1907.9.20 #Age 55
				year >= 1878 #Started career at Société métallurgique
			}
			create_character = {
				template = mr_bel_empain_edouard_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_empain_created #Makes sure Empain is not already created
		}
		100 = { #Zénobe Gramme, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_gramme_created }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1881.4.4 #Age 55
				year >= 1856 #First own Workshop in Paris
			}
			create_character = {
				template = mr_bel_zenobe_gramme_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_gramme_created
		}
		100 = { #Édouard Hannon, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_hannon_created }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1908.3.11 #Age 55
				year >= 1876 #Started working for Solvay
			}
			create_character = {
				template = mr_bel_hannon_edouard_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_hannon_created #Makes sure Hannon is not already created
		}
		100 = { #Camille Jenatzy, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_jenatzy_created }
				OR = {
					has_state_in_state_region = STATE_FLANDERS
					has_state_in_state_region = STATE_ILE_DE_FRANCE
				}
				NOT = {
					cu:flemish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1923.11.4 #Age 55
				year >= 1899 #Raced with his "La Jamais Content" at a speed of over 100 km/h
			}
			create_character = {
				template = mr_bel_jenatzy_camille_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_flatcap_var
				set_variable = mr_is_engineer_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_jenatzy_created
		}
		100 = { #Alfred Renard, Belgium
			trigger = {
				NOT = { has_global_variable = gaudi_renard_created }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1950.4.21 #Age 55
				year >= 1920 #Degree in civil engineering
			}
			create_character = {
				template = mr_bel_renard_alfred_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_renard_created
		}
		100 = { #Feng Ru, China
			trigger = {
				NOT = { has_global_variable = gaudi_feng_created }
				OR = {
					c:CHI ?= this
					any_scope_pop = {
						culture = cu:yue
						pop_is_discriminated = no
					}
				}
				game_date < 1939.1.12 #Age 55
				year >= 1906 #Started constructing airplanes
			}
			create_character = {
				template = mr_chi_feng_ru_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_feng_created
		}
		100 = { #Tianyou Zhan, China
			trigger = {
				NOT = { has_global_variable = gaudi_zhan_created }
				OR = {
					c:CHI ?= this
					any_scope_pop = {
						culture = cu:yue
						pop_is_discriminated = no
					}
				}
				game_date < 1916.4.26 #Age 55
				year >= 1881 #Graduationn from Yale
			}
			create_character = {
				template = mr_chi_zhan_tianyou_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_chinese_headgear_var
				set_variable = mr_is_engineer_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_zhan_created
		}
		100 = { #Georges Bouton, France
			trigger = {
				NOT = { has_global_variable = gaudi_bouton_created }
				has_state_in_state_region = STATE_ILE_DE_FRANCE
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1902.11.22 #Age 55
				year >= 1883 #Started building steam cars
			}
			create_character = {
				template = mr_fra_georges_bouton_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_bouton_created
		}
		100 = { #Antoine Chassepot, France
			trigger = {
				NOT = { has_global_variable = gaudi_chassepot_created }
				has_state_in_state_region = STATE_ILE_DE_FRANCE
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1888.3.4 #Age 55
				year >= 1863 #Presented his rifle
			}
			create_character = {
				template = mr_fra_chassepot_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_chassepot_created
		}
		100 = { #Jules-Albert de Dion, France
			trigger = {
				NOT = { has_global_variable = gaudi_de_dion_created }
				has_state_in_state_region = STATE_ILE_DE_FRANCE
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1911.3.9 #Age 55
				year >= 1883 #Started building steam cars
			}
			create_character = {
				template = mr_fra_de_dion_jules_albert_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_bowlerhat_var
				set_variable = mr_is_engineer_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_de_dion_created
		}
		100 = { #Gustave Eiffel
			trigger = {
				NOT = { has_global_variable = gaudi_eiffel_created }
				c:FRA ?= this
				game_date < 1887.12.15 #Age 55
				year >= 1857 #First Contract of Eiffel as an Engineer
			}
			create_character = {
				template = mr_fra_eiffel_gustave_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_eiffel_created
		}
		100 = { #René Panhard, France
			trigger = {
				NOT = { has_global_variable = gaudi_panhard_created }
				has_state_in_state_region = STATE_ILE_DE_FRANCE
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1896.5.27 #Age 55
				year >= 1864 #Started working for Jean-Louis Périn producing wood machines
			}
			create_character = {
				template = mr_fra_panhard_rene_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_normal_glasses_var
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_panhard_created
		}
		100 = { #Louis Renault, France
			trigger = {
				NOT = { has_global_variable = gaudi_renault_created }
				has_state_in_state_region = STATE_ILE_DE_FRANCE
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1932.2.12 #Age 55
				year >= 1889 #Built his first car
			}
			create_character = {
				template = mr_fra_renault_louis_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_renault_created
		}
		100 = { #Carl Benz, Germany
			trigger = {
				NOT = { has_global_variable = gaudi_benz_created }
				has_state_in_state_region = STATE_BADEN
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1899.11.25 #Age 55
				year >= 1871 #Founded an Ironwork Company
			}
			create_character = {
				template = mr_ger_benz_carl_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_benz_created
		}
		80 = { #Ilse Essers, Germany
			trigger = {
				NOT = { has_global_variable = gaudi_essers_created }
				has_state_in_state_region = STATE_BAVARIA
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1953.9.24 #Age 55
				year >= 1922 #presented a paper on the web loading of bending beams
			}
			create_character = {
				template = mr_ger_essers_ilse_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_essers_created
		}
		100 = { #Peter Paul Mauser, Germany
			trigger = {
				NOT = { has_global_variable = gaudi_mauser_created }
				has_state_in_state_region = STATE_WURTTEMBERG
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1893.6.27 #Age 55
				year >= 1871 #Designed Mauser Model 1871
			}
			create_character = {
				template = mr_ger_mauser_peter_paul_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_mauser_created
		}
		100 = { #Wilhelm Maybach, Germany
			trigger = {
				NOT = { has_global_variable = gaudi_maybach_created }
				has_state_in_state_region = STATE_WURTTEMBERG
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1901.2.9 #Age 55
				year >= 1872 #Chief Designer for Deutz-AG-Gasmotorenfabrik 
			}
			create_character = {
				template = mr_ger_maybach_wilhelm_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_maybach_created
		}
		100 = { #Adam Opel, Germany
			trigger = {
				NOT = { has_global_variable = gaudi_opel_created }
				has_state_in_state_region = STATE_HESSE
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1892.5.9 #Age 55
				year >= 1862 #Founded his own Sewing Machine Manufactory
			}
			create_character = {
				template = mr_ger_opel_adam_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_opel_created
		}
		100 = { #Nicolaus Otto, Germany
			trigger = {
				NOT = { has_global_variable = gaudi_otto_created }
				has_state_in_state_region = STATE_RHINELAND
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1887.6.10 #Age 55
				year >= 1864 #Founded the "N.A. Otto & Cie" motor company
			}
			create_character = {
				template = mr_ger_otto_nicolaus_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_otto_created
		}
		100 = { #John Anderson, Great Britain
			trigger = {
				NOT = { has_global_variable = gaudi_anderson_created }
				has_state_in_state_region = STATE_LOWLANDS
				NOT = {
					cu:scottish = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1869.12.9 #Age 55
				year >= 1842 #Started work at Royal Woolwich Arsenal
			}
			create_character = {
				template = mr_gbr_anderson_john_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_anderson_created #Makes sure Anderson is not already created
		}
		50 = { #Hertha Ayrton, Great Britain
			trigger = {
				NOT = { has_global_variable = gaudi_ayrton_created }
				has_state_in_state_region = STATE_HOME_COUNTIES
				NOT = {
					has_law = law_type:law_no_womens_rights
				}
				NOT = {
					cu:british = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1909.4.28 #Age 55
				year >= 1884 #First patent
			}
			create_character = {
				template = mr_gbr_ayrton_hertha_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_ayrton_created #Makes sure Ayrton is not already created
		}
		100 = { #Isambard Kingdom Brunel, Great Britain
			trigger = {
				NOT = { has_global_variable = gaudi_brunel_created }
				has_state_in_state_region = STATE_HOME_COUNTIES
				NOT = {
					cu:british = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1861.4.9 #Age 55
				year >= 1831 #Started work on the Clifton Suspension Bridge
			}
			create_character = {
				template = mr_gbr_brunel_isambard_kingdom_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_tophat_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				engineer_experience_gain_effect = {
					AMOUNT = 50
				}
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_brunel_created #Makes sure Brunel is not already created
		}
		100 = { #Charles Rolls, Great Britain
			trigger = {
				NOT = { has_global_variable = gaudi_rolls_created }
				has_state_in_state_region = STATE_WALES
				NOT = {
					cu:welsh = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1932.8.27 #Age 55
				year >= 1898 #Startedworking on a steam yacht
			}
			create_character = {
				template = mr_gbr_rolls_charles_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_rolls_created #Makes sure Rolls is not already created
		}
		100 = { #Henry Royce, Great Britain
			trigger = {
				NOT = { has_global_variable = gaudi_royce_created }
				has_state_in_state_region = STATE_LANCASHIRE
				NOT = {
					cu:british = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1918.3.27 #Age 55
				year >= 1878 #Started an electric workshop
			}
			create_character = {
				template = mr_gbr_royce_henry_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_royce_created #Makes sure Royce is not already created
		}
		100 = { #Emmanouil Argyropoulos, Greece
			trigger = {
				NOT = { has_global_variable = gaudi_argyropolos_created }
				has_technology_researched = curtiss_early_aviation_tech
				has_state_in_state_region = STATE_MACEDONIA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1944.3.11 #Age 55
				year >= 1912 #First flight over Greece
			}
			create_character = {
				template = mr_gre_argyropoulos_emmanouil_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_argyropolos_created #Makes sure Argyropoulos is not already created
		}
		100 = { #Nicolas Kitsikis, Greece
			trigger = {
				NOT = { has_global_variable = gaudi_kitsikis_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1942.8.14 #Age 55
				year >= 1913 #Return to Greece
			}
			create_character = {
				template = mr_gre_kitsikis_nicolas_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_kitsikis_created #Makes sure Kitsikis is not already created
		}
		100 = { #Zygmut Mineyko, Greece
			trigger = {
				NOT = { has_global_variable = gaudi_mineyko_created }
				OR = {
					has_state_in_state_region = STATE_PELOPONNESE
					has_state_in_state_region = STATE_ATTICA
					has_state_in_state_region = STATE_THESSALIA
					has_state_in_state_region = STATE_WESTERN_THRACE
					has_state_in_state_region = STATE_NORTHERN_THRACE
					has_state_in_state_region = STATE_MACEDONIA
					has_state_in_state_region = STATE_BULGARIA
				}
				NOT = {
					cu:polish = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1895.3.11 #Age 55
				year >= 1871 #Sometimes after the Franco-Prussian war went to the Ottoman Empire and later Greece
			}
			create_character = {
				template = mr_gre_mineyko_zygmut_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_mineyko_created #Makes sure Mineyko is not already created
		}
		100 = { #Dimitrios Skalistiris, Greece
			trigger = {
				NOT = { has_global_variable = gaudi_skalistiris_created }
				has_state_in_state_region = STATE_PELOPONNESE
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1870.3.11 #Age 55
				year >= 1845 #Random date
			}
			create_character = {
				template = mr_gre_skalistiris_dimitrios_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_skalistiris_created #Makes sure Skalistiris is not already created
		}
		100 = { #István Türr, Italy
			trigger = {
				NOT = { has_global_variable = gaudi_turr_created }
				OR = {
					has_state_in_state_region = STATE_CENTRAL_HUNGARY
					has_state_in_state_region = STATE_ATTICA
					has_state_in_state_region = STATE_VENETIA
					has_state_in_state_region = STATE_PIEDMONT
					has_state_in_state_region = STATE_HOME_COUNTIES
				}
				NOT = {
					cu:hungarian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1880.8.10 #Age 55
				year >= 1856 #Exiled to Great Britain
			}
			create_character = {
				template = mr_hun_turr_istvan_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_turr_created #Makes sure Türr is not already created
		}
		100 = { #Alessandro Antonelli, Italy
			trigger = {
				NOT = { has_global_variable = gaudi_alessandro_antonelli_created }
				has_state_in_state_region = STATE_PIEDMONT
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1853.7.14 #Age 55
				year >= 1836 #Professor in Torino
			}
			create_character = {
				template = mr_ita_antonelli_alessandro_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_alessandro_antonelli_created #Makes sure Alessandro Antonelli is not already created
		}
		100 = { #Ettore Bugatti, Italy
			trigger = {
				NOT = { has_global_variable = gaudi_bugatti_created }
				has_state_in_state_region = STATE_ALSACE_LORRAINE
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1936.9.15 #Age 55
				year >= 1901 #Got a job from Baron de Turckheim
			}
			create_character = {
				template = mr_ita_bugatti_ettore_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_bowlerhat_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_bugatti_created #Makes sure Bugatti is not already created
		}
		100 = { #Guglielmo Marconi, Italy
			trigger = {
				NOT = { has_global_variable = gaudi_marconi_created }
				OR = {
					c:GBR ?= this
					country_has_primary_culture = cu:north_italian
					country_has_primary_culture = cu:south_italian
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1929.4.25 #Age 55
				year >= 1896 #First invention
			}
			create_character = {
				template = mr_ita_marconi_guglielmo_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_marconi_created #Makes sure Marconi is not already created
		}
		100 = { #Alfieri Maserati, Italy
			trigger = {
				NOT = { has_global_variable = gaudi_maserati_created }
				has_state_in_state_region = STATE_LOMBARDY
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1945.9.23 #Age 55
				year >= 1914 #Founded Societa Anonima Officine Alfieri Maserati in Milano
			}
			create_character = {
				template = mr_ita_maserati_alfieri_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_maserati_created #Makes sure Maserati is not already created
		}
		2 = { #Fio Piccolo, Italy
			trigger = {
				NOT = { has_global_variable = gaudi_piccolo_created }
				OR = {
					country_has_primary_culture = cu:north_italian
					country_has_primary_culture = cu:south_italian
					AND = {
						c:USA ?= this
						NOT = {
							cu:north_italian = {
								culture_is_discriminated_in = root
							}	
						}
					}
					AND = {
						c:JAP ?= this
						NOT = {
							cu:north_italian = {
								culture_is_discriminated_in = root
							}	
						}
					}
				}
				game_date < 1958.6.15 #Age 55
				year >= 1920 #obvious reasons
			}
			create_character = {
				template = mr_ita_piccolo_fio_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_piccolo_created #Makes sure Piccolo is not already created
		}
		100 = { #Yun Kang, Korea
			trigger = {
				NOT = { has_global_variable = gaudi_kang_created_global_var }
				has_state_in_state_region = STATE_SEOUL
				NOT = {
					cu:korean = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1885.3.11 #Age 55
				year >= 1850 #not sure when he started being an engineer so I just took 20 year old
			}
			create_character = {
				template = mr_kor_kang_yun_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_kang_created_global_var
		}
		100 = { #Tokushichi Mishima, Japan
			trigger = {
				NOT = { has_global_variable = mr_mishima_created_global_var }
				has_state_in_state_region = STATE_KANSAI
				NOT = {
					cu:japanese = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1948.2.24 #Age 55
				year >= 1913 #age 20
			}
			create_character = {
				template = mr_jap_mishima_tokushichi_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = mr_mishima_created_global_var
		}
		100 = { #Sakichi Toyoda, Japan
			trigger = {
				NOT = { has_global_variable = mr_toyoda_created_global_var }
				has_state_in_state_region = STATE_CHUBU
				NOT = {
					cu:japanese = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1922.3.19 #Age 55
				year >= 1887 #age 20
			}
			create_character = {
				template = mr_jap_toyoda_sakichi_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = mr_toyoda_created_global_var
		}
		100 = { #Hidetsugu Yagi, Japan
			trigger = {
				NOT = { has_global_variable = mr_yagi_created_global_var }
				has_state_in_state_region = STATE_KANSAI
				NOT = {
					cu:japanese = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1941.1.28 #Age 55
				year >= 1909 #graduated from university
			}
			create_character = {
				template = mr_jap_yagi_hidetsugu_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = mr_yagi_created_global_var
		}
		100 = { #Ernest Malinowski, Poland
			trigger = {
				NOT = { has_global_variable = gaudi_malinowski_created_global_var }
				OR = {
					has_state_in_state_region = STATE_KIEV
					has_state_in_state_region = STATE_ILE_DE_FRANCE
					has_state_in_state_region = STATE_LIMA
				}
				NOT = {
					cu:polish = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1873.1.5 #Age 55
				year >= 1836 #Finished studies in France
			}
			create_character = {
				template = mr_pol_malinowski_ernest_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_malinowski_created_global_var
		}
		100 = { #Henri Coandă, Romania
			trigger = {
				NOT = { has_global_variable = gaudi_coanda_created_global_var }
				has_state_in_state_region = STATE_WALLACHIA
				has_technology_researched = curtiss_reconnaissance_balloon_tech
				NOT = {
					cu:romanian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1941.6.7 #Age 55
				year >= 1905 #built a missile-aeroplane for the Romanian Army
			}
			create_character = {
				template = mr_rom_coanda_henri_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_coanda_created_global_var
		}
		100 = { #Traian Vuia, Romania
			trigger = {
				NOT = { has_global_variable = gaudi_vuia_created_global_var }
				has_state_in_state_region = STATE_BANAT
				has_technology_researched = curtiss_reconnaissance_balloon_tech
				NOT = {
					cu:romanian = {
						culture_is_discriminated_in = root
					}	
				}
				game_date < 1927.8.17 #Age 55
				year >= 1901 #Started working on human flight
			}
			create_character = {
				template = mr_rom_vuia_traian_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_vuia_created_global_var
		}
		100 = { #Nikola Tesla
			trigger = {
				NOT = { has_global_variable = gaudi_tesla_created }
				game_date < 1911.7.10 #Age 55
				year >= 1878 #Exmatriculation
				has_technology_researched = electrical_generation
				NOT = {
					cu:serb = {
						culture_is_discriminated_in = root
					}
				}
			}
			create_character = {
				template = mr_ser_tesla_nikola_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_tesla_created
		}
		100 = { #Gustave Bridel, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_bridel_created }
				OR = {
					mr_country_owns_bern_trigger = yes
					has_state_in_state_region = STATE_ILE_DE_FRANCE
				}
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1882.10.26 #Age 55
				year >= 1855 #Worked on the World Exhibition in Paris
			}
			create_character = {
				template = mr_swi_bridel_gustave_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_bridel_created #Makes sure Bridel is not already created
		}
		100 = { #Charles Brown, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_brown_charles_created }
				OR = {
					c:SWI ?= this
					was_formed_from = SWI
				}
				game_date < 1882.6.30 #Age 55
				year >= 1851 #Joins Sulzer
			}
			create_character = {
				template = mr_swi_brown_charles_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_brown_charles_created #Makes sure Brown is not already created
		}
		100 = { #Charles Eugene Lancelot Brown, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_brown_charles_eugene_lancelot_created }
				OR = {
					c:SWI ?= this
					was_formed_from = SWI
				}
				game_date < 1918.6.17 #Age 55
				year >= 1885 #Director of the electronical department at Maschinenfabrik Oerlikon
			}
			create_character = {
				template = mr_swi_brown_charles_eugene_lancelot_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_brown_charles_eugene_lancelot_created #Makes sure Brown is not already created
		}
		100 = { #Cécile Butticaz, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_butticaz_created }
				NOT = {
					has_law = law_type:law_no_womens_rights
				}
				mr_country_owns_geneve_trigger = yes
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1939.7.2 #Age 55
				year >= 1907 #Gained Engineering Diploma
			}
			create_character = {
				template = mr_swi_butticaz_cecile_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_butticaz_created #Makes sure Butticaz is not already created
		}
		100 = { #Arnold Bürkli, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_burkli_created }
				mr_country_owns_zurich_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1888.2.2 #Age 55
				year >= 1858 #Return to Switzerland, work for the Vereinigte Schweizerbahnen
			}
			create_character = {
				template = mr_swi_burkli_arnold_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_burkli_created #Makes sure Bürkli is not already created
		}
		100 = { #Louis Favre, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_favre_created }
				mr_country_owns_geneve_trigger = yes
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1881.1.28 #Age 55
				year >= 1854 #Worked on Vaise train station in Lyon
			}
			create_character = {
				template = mr_swi_favre_louis_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_favre_created #Makes sure Favre is not already created
		}
		100 = { #Achilles Thommen, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_thommen_created }
				OR = {
					mr_country_owns_basel_trigger = yes
					has_state_in_state_region = STATE_AUSTRIA
					has_state_in_state_region = STATE_TYROL
				}
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1887.5.25 #Age 55
				year >= 1856 #Worked for the Schweizerische Zentralbahn
			}
			create_character = {
				template = mr_swi_thommen_achilles_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_thommen_created #Makes sure Thommen is not already created
		}
		100 = { #Ignaz Venetz, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_venetz_created }
				mr_country_owns_vallais_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1843.3.28 #Age 55
				year >= 1816 #Cantonal Engineer of Vallais
			}
			create_character = {
				template = mr_swi_venetz_ignaz_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_venetz_created #Makes sure Venetz is not already created
		}
		100 = { #Friedrich Vetterli, Switzerland
			trigger = {
				NOT = { has_global_variable = gaudi_vetterli_created }
				mr_country_owns_thurgau_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1877.8.21 #Age 55
				year >= 1864 #Return to Switzerland and work at SIG
			}
			create_character = {
				template = mr_swi_vetterli_friedrich_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_vetterli_created #Makes sure Vetterli is not already created
		}
		100 = { #John Browning, USA
			trigger = {
				NOT = { has_global_variable = gaudi_browning_created }
				has_state_in_state_region = STATE_UTAH
				NOT = {
					cu:dixie = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1905.1.23 #Age 55
				year >= 1878 #Founded Browning Arms Company
			}
			create_character = {
				template = mr_usa_browning_john_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_browning_created #Makes sure Browning is not already created
		}
		100 = { #Louis Chevrolet, USA
			trigger = {
				NOT = { has_global_variable = gaudi_chevrolet_created }
				has_state_in_state_region = STATE_MICHIGAN
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1933.12.25 #Age 55
				year >= 1911 #Founded Chevrolet Motor Car Company
			}
			create_character = {
				template = mr_usa_chevrolet_louis_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_chevrolet_created #Makes sure Chevrolet is not already created
		}
		100 = { #Walter Chrysler
			trigger = {
				NOT = { has_global_variable = gaudi_chrysler_created }
				country_has_primary_culture = cu:yankee
				OR = {
					has_state_in_state_region = STATE_MICHIGAN
					has_state_in_state_region = STATE_KANSAS
					has_state_in_state_region = STATE_COLORADO
					has_state_in_state_region = STATE_TEXAS
					has_state_in_state_region = STATE_PENNSYLVANIA
					has_state_in_state_region = STATE_IOWA
				}
				game_date < 1930.4.2 #Age 55
				year >= 1905 #Worked for the Fort Worth and Denver Railway
			}
			create_character = {
				template = ecchi_usa_chrysler_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_bowlerhat_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_chrysler_created #Makes sure Chrysler is not already created
		}
		100 = { #Samuel Colt, USA
			trigger = {
				NOT = { has_global_variable = gaudi_colt_created }
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				has_state_in_state_region = STATE_CONNECTICUT
				game_date < 1869.7.19 #Age 55
				year >= 1836 #first patent
			}
			create_character = {
				template = mr_usa_colt_samuel_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_colt_created #Makes sure Colt is not already created
		}
		100 = { #Glenn Curtiss
			trigger = {
				NOT = { has_global_variable = gaudi_curtiss_created }
				country_has_primary_culture = cu:yankee
				has_state_in_state_region = STATE_NEW_YORK
				game_date < 1933.5.21 #Age 55
				year >= 1904 #Started supplying aircraft engines
				has_technology_researched = military_aviation
			}
			create_character = {
				template = mr_usa_curtiss_glenn_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_tophat_var
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_curtiss_created #Makes sure Curtiss is not already created
		}
		100 = { #John Deere, USA
			trigger = {
				NOT = { has_global_variable = gaudi_deere_created }
				has_state_in_state_region = STATE_ILLINOIS
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1859.2.7 #Age 55
				year >= 1838 #Sold first Steel Plow
			}
			create_character = {
				template = mr_usa_deere_john_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_deere_created #Makes sure Deere is not already created
		}
		100 = { #Thomas Alva Edison, USA
			trigger = {
				NOT = { has_global_variable = gaudi_edison_created }
				OR = {
					has_state_in_state_region = STATE_OHIO
					has_state_in_state_region = STATE_NEW_YORK
				}
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1902.2.11 #Age 55
				year >= 1868 #First patent
			}
			create_character = {
				template = mr_usa_edison_thomas_alva_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_edison_created #Makes sure Edison is not already created
		}
		25 = { #Mike Kundak-Kowal, USA
			trigger = {
				NOT = { has_global_variable = gaudi_mike_created_global_var }
				OR = {
					c:USA ?= this
					c:SWE ?= this
					was_formed_from = USA
					was_formed_from = SWE
				}
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
			}
			create_character = {
				template = mr_usa_kundak_kowal_mike_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var #prevents wearing headgear
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_mike_created_global_var #Makes sure Mike is not already created
		}
		100 = { #Samuel Morse, USA
			trigger = {
				NOT = { has_global_variable = gaudi_morse_created }
				has_state_in_state_region = STATE_MASSACHUSETTS
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1846.4.27 #Age 55
				year >= 1837 #Developed Telegraph
			}
			create_character = {
				template = mr_usa_morse_samuel_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_morse_created #Makes sure Morse is not already created
		}
		100 = { #Linus Yale Jr., USA
			trigger = {
				NOT = { has_global_variable = gaudi_yale_created }
				OR = {
					has_state_in_state_region = STATE_MASSACHUSETTS
					has_state_in_state_region = STATE_CONNECTICUT
				}
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1876.4.4 #Age 55
				year >= 1857 #Established the Yale & Greenleaf Lock Co.
			}
			create_character = {
				template = mr_usa_yale_jr_linus_character_template

				save_scope_as = gaudi_new_engineer_scope
			}
			scope:gaudi_new_engineer_scope = {
				set_variable = mr_is_engineer_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				engineer_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = gaudi_new_engineer_var #This is basically the role of Engineer for a country, makes it possible to access character
				value = scope:gaudi_new_engineer_scope
			}

			set_global_variable = gaudi_yale_created #Makes sure Yale is not already created
		}
		25 = { #Random Engineer
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = gaudi_new_engineer_scope
					}
					scope:gaudi_new_engineer_scope = {
						add_trait = engineer
						set_variable = mr_is_engineer_var
						mr_trait_generation_engineer_effect = yes
						engineer_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = gaudi_new_engineer_var
						value = scope:gaudi_new_engineer_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = gaudi_new_engineer_scope
					}
					scope:gaudi_new_engineer_scope = {
						add_trait = engineer
						set_variable = mr_is_engineer_var
						mr_trait_generation_engineer_effect = yes
						engineer_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = gaudi_new_engineer_var
						value = scope:gaudi_new_engineer_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:gaudi_new_engineer_var = {
		save_scope_as = gaudi_new_engineer_scope
	}
}

# Set new Engineer as official Engineer
gaudi_set_new_engineer_as_engineer_effect = {
	custom_tooltip = {
		text = gaudi_replace_engineer_with_new_engineer_tt
	
		if = {
			limit = {
				has_variable = gaudi_engineer_var
			}
			var:gaudi_engineer_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = gaudi_engineer_var
			value = scope:gaudi_new_engineer_scope
		}
		remove_modifier = gaudi_engineer_technology_spread_modifier
		add_modifier = {
			name = gaudi_engineer_technology_spread_modifier
			multiplier = gaudi_percentage_more_advanced_countries_value
		}

		remove_variable = gaudi_new_engineer_var

		if = {
			limit = { gaudi_has_active_engineering_project = yes }
			var:gaudi_engineer_var = {
				set_character_busy_and_immortal = yes
			}
		}
	}
}

# Remove new Engineer
gaudi_remove_new_engineer_effect = {
	scope:gaudi_new_engineer_scope = {
		free_character_from_void = no
	}

	remove_variable = gaudi_new_engineer_var
}

# Used to set up the Experience of an engineer 
engineer_experience_set_up_effect = {
	if = {
		limit = {
			has_trait = gaudi_civil_engineer
		}
		add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
			name = academics_is_civil_engineer_modifier
		}
		general_experience_set_up_effect = {
			TYPE = gaudi_civil_engineer_experience
			UNI_PM = pm_dubois_university_mathematics
		}
		add_trait = gaudi_civil_engineer #Adds the specific trait to the engineer
	}
	else_if = {
		limit = {
			has_trait = gaudi_mechanical_engineer
		}
		add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
			name = academics_is_mechanical_engineer_modifier
		}
		general_experience_set_up_effect = {
			TYPE = gaudi_mechanical_engineer_experience
			UNI_PM = pm_dubois_university_mathematics
		}
		add_trait = gaudi_mechanical_engineer
	}
	else_if = {
		limit = {
			has_trait = gaudi_military_engineer
		}
		add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
			name = academics_is_military_engineer_modifier
		}
		general_experience_set_up_effect = {
			TYPE = gaudi_military_engineer_experience
			UNI_PM = pm_dubois_university_mathematics
		}
		add_trait = gaudi_military_engineer
	}
	else_if = {
		limit = {
			has_trait = gaudi_electrical_engineer
		}
		add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
			name = academics_is_electrical_engineer_modifier
		}
		general_experience_set_up_effect = {
			TYPE = gaudi_electrical_engineer_experience
			UNI_PM = pm_dubois_university_mathematics
		}
		add_trait = gaudi_electrical_engineer
	}
	else_if = {
		limit = {
			has_trait = gaudi_aeronautical_engineer
		}
		add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
			name = academics_is_aeronautical_engineer_modifier
		}
		general_experience_set_up_effect = {
			TYPE = gaudi_aeronautical_engineer_experience
			UNI_PM = pm_dubois_university_mathematics
		}
		add_trait = gaudi_aeronautical_engineer
	}
	else = {
		random_list = { #Here, a random focus is chosen for the engineer. Then the Experience and trait are set up for them.
			1 = {
				add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
					name = academics_is_civil_engineer_modifier
				}
				general_experience_set_up_effect = {
					TYPE = gaudi_civil_engineer_experience
					UNI_PM = pm_dubois_university_mathematics
				}
				add_trait = gaudi_civil_engineer
			}
			1 = {
				add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
					name = academics_is_mechanical_engineer_modifier
				}
				general_experience_set_up_effect = {
					TYPE = gaudi_civil_engineer_experience
					UNI_PM = pm_dubois_university_mathematics
				}
				add_trait = gaudi_mechanical_engineer
			}
			1 = {
				add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
					name = academics_is_military_engineer_modifier
				}
				general_experience_set_up_effect = {
					TYPE = gaudi_civil_engineer_experience
					UNI_PM = pm_dubois_university_mathematics
				}
				add_trait = gaudi_military_engineer
				modifier = {
					if = {
						limit = {
							interest_group = {
								is_interest_group_type = ig_armed_forces
							}
						}
						add = 5
					}
				}
			}
			1 = {
				trigger = {
					owner = {
						has_technology_researched = verrier_physics_tech
					}
				}
				add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
					name = academics_is_electrical_engineer_modifier
				}
				general_experience_set_up_effect = {
					TYPE = gaudi_electrical_engineer_experience
					UNI_PM = pm_dubois_university_mathematics
				}
				add_trait = gaudi_electrical_engineer
			}
			1 = {
				trigger = {
					owner = {
						has_technology_researched = curtiss_reconnaissance_balloon_tech
					}
				}
				add_modifier = { #This variable specialises the engineer. It can be changed by the player during the game
					name = academics_is_aeronautical_engineer_modifier
				}
				general_experience_set_up_effect = {
					TYPE = gaudi_aeronautical_engineer_experience
					UNI_PM = pm_dubois_university_mathematics
				}
				add_trait = gaudi_aeronautical_engineer
			}
		}
	}
	if = { #Sets all not yet existing experience types
		limit = {
			NOT = {
				has_variable = gaudi_civil_engineer_experience
			}
		}
		set_variable = {
			name = gaudi_civil_engineer_experience
			value = 0
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = gaudi_mechanical_engineer_experience
			}
		}
		set_variable = {
			name = gaudi_mechanical_engineer_experience
			value = 0
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = gaudi_military_engineer_experience
			}
		}
		set_variable = {
			name = gaudi_military_engineer_experience
			value = 0
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = gaudi_electrical_engineer_experience
			}
		}
		set_variable = {
			name = gaudi_electrical_engineer_experience
			value = 0
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = gaudi_aeronautical_engineer_experience
			}
		}
		set_variable = {
			name = gaudi_aeronautical_engineer_experience
			value = 0
		}
	}
}

#Engineer Experience gain
engineer_experience_gain_effect = { #adds XP to the Engineer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
		}
		if = {
			limit = {
				var:gaudi_engineer_var = {
					has_modifier = academics_is_civil_engineer_modifier
				}
			}
			custom_tooltip = {
				text = gaudi_civil_engineer_experience_gain_tt
				if = {
					limit = {
						NOT = {
							var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
								has_variable = gaudi_civil_engineer_experience
							}
						}
					}
					var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
						engineer_experience_set_up_effect = yes
					}
				}
				var:gaudi_engineer_var = {
					change_variable = {
						name = gaudi_civil_engineer_experience
						add = $AMOUNT$
					}
				}
			}
		}
		else_if = {
			limit = {
				has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						has_modifier = academics_is_mechanical_engineer_modifier
					}
				}
				custom_tooltip = {
					text = gaudi_mechanical_engineer_experience_gain_tt
					if = {
						limit = {
							NOT = {
								var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
									has_variable = gaudi_mechanical_engineer_experience
								}
							}
						}
						var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
							engineer_experience_set_up_effect = yes
						}
					}
					var:gaudi_engineer_var = {
						change_variable = {
							name = gaudi_mechanical_engineer_experience
							add = $AMOUNT$
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						has_modifier = academics_is_military_engineer_modifier
					}
				}
				custom_tooltip = {
					text = gaudi_military_engineer_experience_gain_tt
					if = {
						limit = {
							NOT = {
								var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
									has_variable = gaudi_military_engineer_experience
								}
							}
						}
						var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
							engineer_experience_set_up_effect = yes
						}
					}
					var:gaudi_engineer_var = {
						change_variable = {
							name = gaudi_military_engineer_experience
							add = $AMOUNT$
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						has_modifier = academics_is_electrical_engineer_modifier
					}
				}
				custom_tooltip = {
					text = gaudi_electrical_engineer_experience_gain_tt
					if = {
						limit = {
							NOT = {
								var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
									has_variable = gaudi_electrical_engineer_experience
								}
							}
						}
						var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
							engineer_experience_set_up_effect = yes
						}
					}
					var:gaudi_engineer_var = {
						change_variable = {
							name = gaudi_electrical_engineer_experience
							add = $AMOUNT$
						}
					}
				}
			}
		}
		else_if = {
			limit = {
				has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						has_modifier = academics_is_aeronautical_engineer_modifier
					}
				}
				custom_tooltip = {
					text = gaudi_aeronautical_engineer_experience_gain_tt
					if = {
						limit = {
							NOT = {
								var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
									has_variable = gaudi_aeronautical_engineer_experience
								}
							}
						}
						var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
							engineer_experience_set_up_effect = yes
						}
					}
					var:gaudi_engineer_var = {
						change_variable = {
							name = gaudi_aeronautical_engineer_experience
							add = $AMOUNT$
						}
					}
				}
			}
		}
		if = {
			limit = {
				var:gaudi_engineer_var = {
					var:gaudi_civil_engineer_experience >= 100
					NOT = { has_trait = gaudi_civil_engineer }
				}
			}
			root = {
				trigger_event = {
					id = academics.140
					popup = yes
				}
			}
		}
		if = {
			limit = {
				var:gaudi_engineer_var = {
					var:gaudi_mechanical_engineer_experience >= 100
					NOT = { has_trait = gaudi_mechanical_engineer }
				}
			}
			root = {
				trigger_event = {
					id = academics.141
					popup = yes
				}
			}
		}
		if = {
			limit = {
				var:gaudi_engineer_var = {
					var:gaudi_military_engineer_experience >= 100
					NOT = { has_trait = gaudi_military_engineer }
				}
			}
			root = {
				trigger_event = {
					id = academics.142
					popup = yes
				}
			}
		}
		if = {
			limit = {
				var:gaudi_engineer_var = {
					var:gaudi_electrical_engineer_experience >= 100
					NOT = { has_trait = gaudi_electrical_engineer }
				}
			}
			root = {
				trigger_event = {
					id = academics.143
					popup = yes
				}
			}
		}
		if = {
			limit = {
				var:gaudi_engineer_var = {
					var:gaudi_aeronautical_engineer_experience >= 100
					NOT = { has_trait = gaudi_aeronautical_engineer }
				}
			}
			root = {
				trigger_event = {
					id = academics.144
					popup = yes
				}
			}
		}
	}
}

#Civil Engineer Experience gain
civil_engineer_experience_gain_effect = { #adds XP to the Engineer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
		}
		custom_tooltip = {
			text = gaudi_civil_engineer_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
							has_variable = gaudi_civil_engineer_experience
						}
					}
				}
				var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
					engineer_experience_set_up_effect = yes
				}
			}
			var:gaudi_engineer_var = {
				change_variable = {
					name = gaudi_civil_engineer_experience
					add = $AMOUNT$
				}
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						var:gaudi_civil_engineer_experience >= 100
						NOT = { has_trait = gaudi_civil_engineer }
					}
				}
				var:gaudi_engineer_var = {
					add_trait = gaudi_civil_engineer
				}
				root = {
					trigger_event = {
						id = academics.140
						popup = yes
					}
				}
			}
		}
	}
}

#Mechanical Engineer Experience gain
mechanical_engineer_experience_gain_effect = { #adds XP to the Engineer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
		}
		custom_tooltip = {
			text = gaudi_mechanical_engineer_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
							has_variable = gaudi_mechanical_engineer_experience
						}
					}
				}
				var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
					engineer_experience_set_up_effect = yes
				}
			}
			var:gaudi_engineer_var = {
				change_variable = {
					name = gaudi_mechanical_engineer_experience
					add = $AMOUNT$
				}
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						var:gaudi_mechanical_engineer_experience >= 100
						NOT = { has_trait = gaudi_mechanical_engineer }
					}
				}
				var:gaudi_engineer_var = {
					add_trait = gaudi_mechanical_engineer
				}
				root = {
					trigger_event = {
						id = academics.141
						popup = yes
					}
				}
			}
		}
	}
}

#Military Engineer Experience gain
military_engineer_experience_gain_effect = { #adds XP to the Engineer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
		}
		custom_tooltip = {
			text = gaudi_military_engineer_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
							has_variable = gaudi_military_engineer_experience
						}
					}
				}
				var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
					engineer_experience_set_up_effect = yes
				}
			}
			var:gaudi_engineer_var = {
				change_variable = {
					name = gaudi_military_engineer_experience
					add = $AMOUNT$
				}
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						var:gaudi_military_engineer_experience >= 100
						NOT = { has_trait = gaudi_military_engineer }
					}
				}
				var:gaudi_engineer_var = {
					add_trait = gaudi_military_engineer
				}
				root = {
					trigger_event = {
						id = academics.142
						popup = yes
					}
				}
			}
		}
	}
}

#Electrical Engineer Experience gain
electrical_engineer_experience_gain_effect = { #adds XP to the Engineer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
		}
		custom_tooltip = {
			text = gaudi_electrical_engineer_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
							has_variable = gaudi_electrical_engineer_experience
						}
					}
				}
				var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
					engineer_experience_set_up_effect = yes
				}
			}
			var:gaudi_engineer_var = {
				change_variable = {
					name = gaudi_electrical_engineer_experience
					add = $AMOUNT$
				}
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						var:gaudi_electrical_engineer_experience >= 100
						NOT = { has_trait = gaudi_electrical_engineer }
					}
				}
				var:gaudi_engineer_var = {
					add_trait = gaudi_electrical_engineer
				}
				root = {
					trigger_event = {
						id = academics.143
						popup = yes
					}
				}
			}
		}
	}
}

#Aeronautical Engineer Experience gain
aeronautical_engineer_experience_gain_effect = { #adds XP to the Engineer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
		}
		custom_tooltip = {
			text = gaudi_aeronautical_engineer_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
							has_variable = gaudi_aeronautical_engineer_experience
						}
					}
				}
				var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
					engineer_experience_set_up_effect = yes
				}
			}
			var:gaudi_engineer_var = {
				change_variable = {
					name = gaudi_aeronautical_engineer_experience
					add = $AMOUNT$
				}
			}
			if = {
				limit = {
					var:gaudi_engineer_var = {
						var:gaudi_aeronautical_engineer_experience >= 100
						NOT = { has_trait = gaudi_aeronautical_engineer }
					}
				}
				var:gaudi_engineer_var = {
					add_trait = gaudi_aeronautical_engineer
				}
				root = {
					trigger_event = {
						id = academics.144
						popup = yes
					}
				}
			}
		}
	}
}

#Sets the Engineer to be a Civil Engineer
gaudi_set_civil_engineer_effect = {
	custom_tooltip = {
		text = gaudi_set_civil_engineer_tt

		if = {
			limit = {
				has_variable = gaudi_engineer_var
			}
			var:gaudi_engineer_var = {
				remove_modifier = academics_is_mechanical_engineer_modifier
				remove_modifier = academics_is_military_engineer_modifier
				remove_modifier = academics_is_electrical_engineer_modifier
				remove_modifier = academics_is_aeronautical_engineer_modifier
	
				add_modifier = {
					name = academics_is_civil_engineer_modifier
				}
			}
		}
	}
}

#Sets the Engineer to be a Mechanical Engineer
gaudi_set_mechanical_engineer_effect = {
	custom_tooltip = {
		text = gaudi_set_mechanical_engineer_tt

		if = {
			limit = {
				has_variable = gaudi_engineer_var
			}
			var:gaudi_engineer_var = {
				remove_modifier = academics_is_civil_engineer_modifier
				remove_modifier = academics_is_military_engineer_modifier
				remove_modifier = academics_is_electrical_engineer_modifier
				remove_modifier = academics_is_aeronautical_engineer_modifier
	
				add_modifier = {
					name = academics_is_mechanical_engineer_modifier
				}
			}
		}
	}
}

#Sets the Engineer to be a Military Engineer
gaudi_set_military_engineer_effect = {
	custom_tooltip = {
		text = gaudi_set_military_engineer_tt

		if = {
			limit = {
				has_variable = gaudi_engineer_var
			}
			var:gaudi_engineer_var = {
				remove_modifier = academics_is_civil_engineer_modifier
				remove_modifier = academics_is_mechanical_engineer_modifier
				remove_modifier = academics_is_electrical_engineer_modifier
				remove_modifier = academics_is_aeronautical_engineer_modifier

				add_modifier = {
					name = academics_is_military_engineer_modifier
				}
			}
		}
	}
}

#Sets the Engineer to be a Electrical Engineer
gaudi_set_electrical_engineer_effect = {
	custom_tooltip = {
		text = gaudi_set_electrical_engineer_tt

		if = {
			limit = {
				has_variable = gaudi_engineer_var
			}
			var:gaudi_engineer_var = {
				remove_modifier = academics_is_civil_engineer_modifier
				remove_modifier = academics_is_mechanical_engineer_modifier
				remove_modifier = academics_is_military_engineer_modifier
				remove_modifier = academics_is_aeronautical_engineer_modifier

				add_modifier = {
					name = academics_is_electrical_engineer_modifier
				}
			}
		}
	}
}

#Sets the Engineer to be a Aeronautical Engineer
gaudi_set_aeronautical_engineer_effect = {
	custom_tooltip = {
		text = gaudi_set_aeronautical_engineer_tt

		if = {
			limit = {
				has_variable = gaudi_engineer_var
			}
			var:gaudi_engineer_var = {
				remove_modifier = academics_is_civil_engineer_modifier
				remove_modifier = academics_is_mechanical_engineer_modifier
				remove_modifier = academics_is_military_engineer_modifier
				remove_modifier = academics_is_electrical_engineer_modifier

				add_modifier = {
					name = academics_is_aeronautical_engineer_modifier
				}
			}
		}
	}
}

#No longer in use. COMMENTED OUT FOR NOW.
# Used to set up the Experience of a character 
#engineer_experience_set_up_effect = {
#	if = {
#		limit = {
#			NOT = {
#				has_variable = gaudi_engineer_experience
#			}
#		}
#		set_variable = {
#			name = gaudi_engineer_experience
#			value = age
#		}
#		change_variable = {
#			name = gaudi_engineer_experience
#			subtract = 30
#		}
#		change_variable = {
#			name = gaudi_engineer_experience
#			multiply = 10
#		}
#	}
#}

#No longer in use. COMMENTED OUT FOR NOW.
#Engineer Experience gain
#engineer_experience_gain_effect = { #adds XP to the Engineer
#	# Amount = amount of XP to add
#	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
#		name = xp_amount
#		value = $AMOUNT$
#	}
#
#	if = {
#		limit = {
#			has_variable = gaudi_engineer_var #should only add experience if there actually is an Engineer
#		}
#		custom_tooltip = {
#			text = gaudi_engineer_experience_gain_tt
#			if = {
#				limit = {
#					NOT = {
#						var:gaudi_engineer_var = { #Fallback to make sure there are no errors if the Engineer does not have the variable yet
#							has_variable = gaudi_engineer_experience
#						}
#					}
#				}
#				var:gaudi_engineer_var = { #Sets the experience in case it was not set yet
#					engineer_experience_set_up_effect = yes
#				}
#			}
#			var:gaudi_engineer_var = {
#				change_variable = {
#					name = gaudi_engineer_experience
#					add = $AMOUNT$
#				}
#			}
#		}
#	}
#}

######ASTRONOMER######

#This effect kills the current Astronomer
# !!! Change stuff in both of the following effects !!!
kill_astronomer_effect = {
	var:verrier_astronomer_var = {
		free_character_from_void = no
	}

	remove_variable = verrier_astronomer_var
	if = {
		limit = { has_modifier = academics_astronomer_emeritus_delayed_modifier }
		remove_modifier = academics_astronomer_emeritus_delayed_modifier
	}
}
#This Effect retires the current Astronomer
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_astronomer_effect = {
	custom_tooltip = {
		text = retire_astronomer_effect_tt

		var:verrier_astronomer_var = {
			free_character_from_void = no
		}
	}

	remove_variable = verrier_astronomer_var
	if = {
		limit = { has_modifier = academics_astronomer_emeritus_delayed_modifier }
		remove_modifier = academics_astronomer_emeritus_delayed_modifier
	}
}

# Creates a new Astronomer without losing the old one
create_new_astronomer_effect = {
	random_list = {
		4 = { #Karl Kreil, Austria
			trigger = {
				NOT = { has_global_variable = verrier_kreil_created_global_var }
				c:AUS ?= this
				game_date < 1853.11.4 #Age 55
				year >= 1826 #Assistent at the Observatory of Milano
			}
			create_character = {
				template = mr_aus_kreil_karl_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_kreil_created_global_var
		}
		4 = { #Johann Lamont, Bavaria
			trigger = {
				NOT = { has_global_variable = verrier_lamont_created_global_var }
				has_state_in_state_region = STATE_BAVARIA
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1860.12.13 #Age 55
				year >= 1835 #Director of Bogenhausen Observatory
			}
			create_character = {
				template = mr_bav_lamont_johann_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_lamont_created_global_var
		}
		4 = { #Louis Niesten, Belgium
			trigger = {
				NOT = { has_global_variable = verrier_niesten_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1899.7.4 #Age 55
				year >= 1877 #Observed Mars and created a detailed Martian map
			}
			create_character = {
				template = mr_bel_niesten_louis_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_niesten_created_global_var
		}
		4 = { #Adolphe Quetelet, Belgium
			trigger = {
				NOT = { has_global_variable = verrier_quetelet_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1851.2.22 #Age 55
				year > 1828 #Prevents Earlier Start Dates to spawn character before he is ready
			}
			create_character = {
				template = mr_bel_quetelet_adolphe_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_quetelet_created_global_var
		}
		4 = { #Ejnar Hertzsprung, Denmark
			trigger = {
				NOT = { has_global_variable = verrier_hertzsprung_created_global_var }
				game_date < 1928.10.8 #Age 55
				OR = {
					AND = {
						country_has_primary_culture = cu:danish
						year >= 1902 #Started his astronomical studies
					}
					AND = {
						country_has_primary_culture = cu:north_german
						year > 1909
					}
					AND = {
						country_has_primary_culture = cu:south_german
						year > 1909
					}
				}
			}
			create_character = {
				template = mr_den_hertzsprung_ejnar_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_hertzsprung_created_global_var
		}
		4 = { #Jules Janssen, France
			trigger = {
				NOT = { has_global_variable = verrier_janssen_created_global_var }
				c:FRA ?= this
				game_date < 1879.2.22 #Age 55
				year >= 1861 #started studying telluric absorption
			}
			create_character = {
				template = mr_fra_janssen_jules_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_janssen_created_global_var
		}
		4 = { #Johann Gottfried Galle, Germany
			trigger = {
				NOT = { has_global_variable = verrier_galle_created_global_var }
				OR = {
					has_state_in_state_region = STATE_SAXONY
					has_state_in_state_region = STATE_BRANDENBURG
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1867.6.9 #Age 55
				year >= 1835 #Started working at the the Berlin Observatory
			}
			create_character = {
				template = mr_ger_galle_johann_gottfried_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_galle_created_global_var
		}
		4 = { #Karl Schwarzschild, Germany
			trigger = {
				NOT = { has_global_variable = verrier_schwarzschild_created_global_var }
				OR = {
					has_state_in_state_region = STATE_BAVARIA
					has_state_in_state_region = STATE_BRANDENBURG
					has_state_in_state_region = STATE_BRUNSWICK
				}
				NOT = {
					cu:ashkenazi = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1938.10.9 #Age 55
				year >= 1896 #Received Doctor's degree
			}
			create_character = {
				template = mr_ger_schwarzschild_karl_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_schwarzschild_created_global_var
		}
		4 = { #Ioannis Papadakis, Greece
			trigger = {
				NOT = { has_global_variable = verrier_papadakis_created_global_var }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1875.3.11 #Age 55
				year >= 1850 #Started teaching at the University of Athens
			}
			create_character = {
				template = mr_gre_papadakis_ioannis_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_papadakis_created_global_var
		}
		4 = { #Giovanni Battista Amici, Italy
			trigger = {
				NOT = { has_global_variable = dubois_amici_created_global_var }
				OR = {
					has_state_in_state_region = STATE_ROMAGNA
					has_state_in_state_region = STATE_EMILIA
					has_state_in_state_region = STATE_TUSCANY
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1841.3.25 #Age 55
				year >= 1810 #Professor of Geometry and Algebra
			}
			create_character = {
				template = mr_ita_amici_giovanni_battista_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = dubois_amici_created_global_var
		}
		4 = { #Giovanni Antonelli, Italy
			trigger = {
				NOT = { has_global_variable = dubois_antonelli_created_global_var }
				has_state_in_state_region = STATE_TUSCANY
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1873.10.1 #Age 55
				year >= 1844 #Chief Astronomer at the Ximenian Observatory in Florence
			}
			create_character = {
				template = mr_ita_antonelli_giovanni_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = dubois_antonelli_created_global_var
		}
		4 = { #Giovanni Santini, Italy
			trigger = {
				NOT = { has_global_variable = dubois_santini_created_global_var }
				has_state_in_state_region = STATE_VENETIA
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1841.6.30 #Age 55
				year >= 1811 #Determined latitude of Padua
			}
			create_character = {
				template = mr_ita_santini_giovanni_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = dubois_santini_created_global_var
		}
		4 = { #Meghnad Saha, India
			trigger = {
				NOT = { has_global_variable = verrier_saha_created_global_var }
				OR = {
					has_state_in_state_region = STATE_NORTH_BENGAL
					has_state_in_state_region = STATE_SOUTH_BENGAL
				}
				NOT = {
					cu:bengali = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1948.10.6 #Age 55
				year >= 1923 #Professor at the University of Calcutta
			}
			create_character = {
				template = mr_hnd_saha_meghnad_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_normal_glasses_var
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_saha_created_global_var
		}
		4 = { #Byeong-gil Nam, Korea
			trigger = {
				NOT = { has_global_variable = verrier_nam_created_global_var }
				has_state_in_state_region = STATE_BUSAN
				NOT = {
					cu:korean = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1875.3.11 #Age 55
				year >= 1845 #25 years old
			}
			create_character = {
				template = mr_kor_nam_byeong_gil_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_nam_created_global_var
		}
		4 = { #Han-gi Choe, Korea
			trigger = {
				NOT = { has_global_variable = verrier_choe_created_global_var }
				has_state_in_state_region = STATE_SARIWON
				NOT = {
					cu:korean = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1858.9.26 #Age 55
				year >= 1835 #Book about Astronomy --> Ŭisang isu (Theories and Mathematics of Astronomy)
			}
			create_character = {
				template = JKFP_template_choe_hangi

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_choe_created_global_var
		}
		4 = { #Gustaf Svanberg, Sweden
			trigger = {
				NOT = { has_global_variable = verrier_svanberg_created_global_var }
				country_has_primary_culture = cu:swedish
				game_date < 1857.1.22 #Age 55
				year >= 1825 #Observator at Uppasala
			}
			create_character = {
				template = mr_swe_svanberg_gustaf_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_svanberg_created_global_var
		}
		2 = { #Annie Jump Cannon, USA
			trigger = {
				NOT = { has_global_variable = verrier_cannon_created_global_var }
				has_state_in_state_region = STATE_MASSACHUSETTS
				OR = {
					has_law = law_type:law_women_in_the_workplace
					has_law = law_type:law_womens_suffrage
				}
				game_date < 1918.12.11 #Age 55
				year > 1896 #Started work as Harvard Computer
			}
			create_character = {
				template = mr_usa_cannon_annie_jump_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_cannon_created_global_var
		}
		2 = { #Henrietta Swan Leavitt, USA
			trigger = {
				NOT = { has_global_variable = verrier_leavitt_created_global_var }
				has_state_in_state_region = STATE_MASSACHUSETTS
				country_has_primary_culture = cu:yankee
				OR = {
					has_law = law_type:law_women_in_the_workplace
					has_law = law_type:law_womens_suffrage
				}
				game_date < 1923.7.4 #Age 55
				year >= 1898 #Became a member of the Harvard staff
			}
			create_character = {
				template = mr_usa_leavitt_henrietta_swan_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_leavitt_created_global_var
		}
		2 = { #Maria Mitchell, USA
			trigger = {
				NOT = { has_global_variable = verrier_mitchell_created_global_var }
				has_state_in_state_region = STATE_MASSACHUSETTS
				country_has_primary_culture = cu:yankee
				game_date < 1873.8.1 #Age 55
				year >= 1847 #Mitchell's Comet
			}
			create_character = {
				template = mr_usa_mitchell_maria_character_template

				save_scope_as = verrier_new_astronomer_scope
			}
			scope:verrier_new_astronomer_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_is_astronomer_var
				set_variable = mr_no_headgear_var
				astronomer_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = verrier_new_astronomer_var
				value = scope:verrier_new_astronomer_scope
			}

			set_global_variable = verrier_mitchell_created_global_var
		}
		1 = { #Random Astronomer
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = verrier_new_astronomer_scope
					}
					scope:verrier_new_astronomer_scope = {
						add_trait = verrier_astronomer
						set_variable = mr_is_astronomer_var
						astronomer_experience_set_up_effect = yes
						mr_trait_generation_astronomer_effect = yes
						place_character_in_void = 1200	
					}
					set_variable = {
						name = verrier_new_astronomer_var
						value = scope:verrier_new_astronomer_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
						if = {
							limit = {
								any_scope_building = {
									is_building_type = building_verrier_observatory
									OR = {
										has_active_production_method = pm_verrier_human_computers_small
										has_active_production_method = pm_verrier_human_computers_medium
										has_active_production_method = pm_verrier_human_computers_big
									}
								}
							}
							add = 10
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = verrier_new_astronomer_scope
					}
					scope:verrier_new_astronomer_scope = {
						add_trait = verrier_astronomer
						set_variable = mr_is_astronomer_var
						astronomer_experience_set_up_effect = yes
						mr_trait_generation_astronomer_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = verrier_new_astronomer_var
						value = scope:verrier_new_astronomer_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
						if = {
							limit = {
								any_scope_building = {
									is_building_type = building_verrier_observatory
									OR = {
										has_active_production_method = pm_verrier_human_computers_small
										has_active_production_method = pm_verrier_human_computers_medium
										has_active_production_method = pm_verrier_human_computers_big
									}
								}
							}
							add = -10
						}
					}
				}
			}
		}
	}

	var:verrier_new_astronomer_var = {
		save_scope_as = verrier_new_astronomer_scope
	}
}

# Set new Astronomer as official Astronomer
verrier_set_new_astronomer_as_astronomer_effect = {
	custom_tooltip = {
		text = verrier_replace_astronomer_with_new_astronomer_tt
	
		if = {
			limit = {
				has_variable = verrier_astronomer_var
			}
			var:verrier_astronomer_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = verrier_astronomer_var
			value = scope:verrier_new_astronomer_scope
		}

		remove_variable = verrier_new_astronomer_var
	}
}

# Remove new Astronomer
verrier_remove_new_astronomer_effect = {
	scope:verrier_new_astronomer_scope = {
		free_character_from_void = no
	}
	remove_variable = verrier_new_astronomer_var
}

# Used to set up the Experience of a character 
astronomer_experience_set_up_effect = {
	#Adds astronomer experience (see effect for further information)
	general_experience_set_up_effect = {
		TYPE = verrier_astronomer_experience
		UNI_PM = pm_dubois_university_mathematics
	}
	
	if = { #Adds the Experienced Astronomer Trait if Experience is above 100
		limit = {
			var:verrier_astronomer_experience >= 100
			NOT = {
				var:verrier_astronomer_experience >= 300
			}
			NOR = {
				has_trait = verrier_astronomer_experienced
				has_trait = verrier_astronomer_famous
			}
		}
		remove_trait = verrier_astronomer
		add_trait = verrier_astronomer_experienced
	}
	if = { #Adds the Famous Astronomer Trait if Experience is above 300
		limit = {
			var:verrier_astronomer_experience >= 300
			NOT = {
				has_trait = verrier_astronomer_famous
			}
		}
		remove_trait = verrier_astronomer
		remove_trait = verrier_astronomer_experienced
		add_trait = verrier_astronomer_famous
	}
}

#Astronomer Experience gain
astronomer_experience_gain_effect = { #adds XP to the Astronomer
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = verrier_astronomer_var #should only add experience if there actually is an Astronomer
		}
		custom_tooltip = {
			text = verrier_astronomer_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:verrier_astronomer_var = { #Fallback to make sure there are no errors if the Astronomer does not have the variable yet
							has_variable = verrier_astronomer_experience
						}
					}
				}
				var:verrier_astronomer_var = { #Sets the experience in case it was not set yet
					astronomer_experience_set_up_effect = yes
				}
			}
			var:verrier_astronomer_var = {
				change_variable = {
					name = verrier_astronomer_experience
					add = $AMOUNT$
				}
			}
		}
		var:verrier_astronomer_var = {
			if = {
				limit = {
					var:verrier_astronomer_experience >= 100
					NOT = {
						var:verrier_astronomer_experience >= 300
					}
					NOR = {
						has_trait = verrier_astronomer_experienced
						has_trait = verrier_astronomer_famous
					}
				}
				remove_trait = verrier_astronomer
				add_trait = verrier_astronomer_experienced
				root = {
					trigger_event = {
						id = academics.102
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:verrier_astronomer_experience >= 300
					NOT = {
						has_trait = verrier_astronomer_famous
					}
				}
				remove_trait = verrier_astronomer
				remove_trait = verrier_astronomer_experienced
				add_trait = verrier_astronomer_famous
				root = {
					trigger_event = {
						id = academics.103
						popup = yes
					}
				}
			}
		}
	}
}

######Chemist######

#Effect to kill the current Chemist
# !!! Change stuff in both of the following effects !!!
kill_chemist_effect = {
	var:mendelejew_chemist_var = {
		free_character_from_void = no
	}

	remove_variable = mendelejew_chemist_var
	if = {
		limit = { has_modifier = academics_chemist_emeritus_delayed_modifier }
		remove_modifier = academics_chemist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Chemist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_chemist_effect = {
	custom_tooltip = {
		text = retire_chemist_effect_tt

		var:mendelejew_chemist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = mendelejew_chemist_var
	if = {
		limit = { has_modifier = academics_chemist_emeritus_delayed_modifier }
		remove_modifier = academics_chemist_emeritus_delayed_modifier
	}
}

# Creates a new Chemist without losing the old one
create_new_chemist_effect = {
	random_list = { #Each Entry has a chance to appear if the triggers are met.
		4 = { #Robert Bunsen, Germany
			trigger = {
				NOT = { has_global_variable = mendelejew_bunsen_created }
				any_scope_state = {
					OR = {
						region = sr:region_south_germany
						region = sr:region_north_germany
					}
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1866.03.30 #Age 55
				year >= 1834 #Started working in Göttingen
			}
			create_character = {
				template = mr_ger_bunsen_robert_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_bunsen_created
		}
		4 = { #Emil Erlenmeyer, Germany
			trigger = {
				NOT = { has_global_variable = mendelejew_erlenmeyer_created }
				any_scope_state = {
					OR = {
						region = sr:region_south_germany
						region = sr:region_north_germany
					}
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1880.06.28 #Age 55
				year >= 1850 #became a Doctor
			}
			create_character = {
				template = mr_ger_erlenmeyer_emil_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_female_glasses_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_erlenmeyer_created
		}
		4 = { #Georg Städeler, Germany
			trigger = {
				NOT = { has_global_variable = mendelejew_staedeler_created }
				any_scope_state = {
					OR = {
						region = sr:region_south_germany
						region = sr:region_north_germany
					}
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1876.03.25 #Age 55
				year >= 1849 #became a Doctor
			}
			create_character = {
				template = mr_ger_staedeler_georg_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_staedeler_created
		}
		4 = { #Justus von Liebig, Germany
			trigger = {
				NOT = { has_global_variable = mendelejew_von_liebig_created }
				any_scope_state = {
					OR = {
						region = sr:region_south_germany
						region = sr:region_north_germany
					}
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1858.05.12 #Age 55
				year >= 1824 #became Professor in Giessen
			}
			create_character = {
				template = mr_ger_von_liebig_justus_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_von_liebig_created
		}
		4 = { #Dmitri Mendeleev, Russia
			trigger = {
				NOT = { has_global_variable = mendelejew_mendeleev_created }
				OR = {
					has_state_in_state_region = STATE_INGRIA
					has_state_in_state_region = STATE_TOBOLSK
				}
				NOT = {
					cu:russian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1889.02.08 #Age 55
				year >= 1859 #Worked on topics of Chemistry
			}
			create_character = {
				template = mr_rus_mendeleev_dmitri_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_mendeleev_created
		}
		2 = { #Alfred Nobel, Sweden
			trigger = {
				NOT = { has_global_variable = mendelejew_nobel_created }
				any_scope_building = {
					is_building_type = building_explosives_factory
				}
				NOT = {
					cu:swedish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1888.10.21 #Age 55
				year >= 1855 #20 years old
			}
			create_character = {
				template = mr_swe_nobel_alfred_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_nobel_created

			modifier = {
				if = {
					limit = {
						c:SWE ?= this
					}
					add = 10
				}
				if = {
					limit = {
						OR = {
							c:RUS ?= this
							c:SWI ?= this
							c:USA ?= this
							c:FRA ?= this
						}
					}
					add = 2
				}
			}
		}
		4 = { #Jean Charles Galissard de Marignac, Switzerland
			trigger = {
				NOT = { has_global_variable = mendelejew_galissard_de_marignac_created }
				mr_country_owns_geneve_trigger = yes
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1872.04.24 #Age 55
				year >= 1841 #Professor of Chemistry in Geneva
			}
			create_character = {
				template = mr_swi_galissard_de_marignac_jean_charles_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_galissard_de_marignac_created
		}
		4 = { #Jaques-Louis Soret, Switzerland
			trigger = {
				NOT = { has_global_variable = mendelejew_soret_created }
				mr_country_owns_geneve_trigger = yes
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1882.06.30 #Age 55
				year >= 1852 #Age 25
			}
			create_character = {
				template = mr_swi_soret_jaques_louis_character_template

				save_scope_as = mendelejew_new_chemist_scope
			}
			scope:mendelejew_new_chemist_scope = {
				set_variable = mr_is_chemist_var
				set_variable = mr_no_headgear_var
				chemist_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = mendelejew_new_chemist_var
				value = scope:mendelejew_new_chemist_scope
			}

			set_global_variable = mendelejew_soret_created
		}
		1 = { #Random Chemist (fallback and to make it uncertain for historical once to appear)
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = mendelejew_new_chemist_scope
					}
					scope:mendelejew_new_chemist_scope = {
						add_trait = mendelejew_chemist
						set_variable = mr_is_chemist_var
						mr_trait_generation_chemist_effect = yes
						chemist_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
		
					set_variable = {
						name = mendelejew_new_chemist_var
						value = scope:mendelejew_new_chemist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = mendelejew_new_chemist_scope
					}
					scope:mendelejew_new_chemist_scope = {
						add_trait = mendelejew_chemist
						set_variable = mr_is_chemist_var
						mr_trait_generation_chemist_effect = yes
						chemist_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
		
					set_variable = {
						name = mendelejew_new_chemist_var
						value = scope:mendelejew_new_chemist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:mendelejew_new_chemist_var = {
		save_scope_as = mendelejew_new_chemist_scope
		set_start_chemist_stats_effect = yes
	}
}

# Set new Chemist as official Chemist
mendelejew_set_new_chemist_as_chemist_effect = {
	custom_tooltip = {
		text = mendelejew_replace_chemist_with_new_chemist_tt
	
		if = {
			limit = {
				has_variable = mendelejew_chemist_var
			}
			var:mendelejew_chemist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = mendelejew_chemist_var
			value = scope:mendelejew_new_chemist_scope
		}
	}
}

# Remove new Chemist
mendelejew_remove_new_chemist_effect = {
	scope:mendelejew_new_chemist_scope = {
		free_character_from_void = no
	}
}

# Used to set up the Experience of a character
chemist_experience_set_up_effect = {
	#Adds chemist experience (see effect for further information)
	general_experience_set_up_effect = {
		TYPE = mendelejew_chemist_experience
		UNI_PM = pm_dubois_university_mathematics
	}
	
	if = { #Adds the Experienced Astronomer Trait if Experience is above 100
		limit = {
			var:mendelejew_chemist_experience >= 100
			NOT = {
				var:mendelejew_chemist_experience >= 300
			}
			NOR = {
				has_trait = mendelejew_chemist_experienced
				has_trait = mendelejew_chemist_famous
			}
		}
		remove_trait = mendelejew_chemist
		add_trait = mendelejew_chemist_experienced
	}
	if = { #Adds the Famous Astronomer Trait if Experience is above 300
		limit = {
			var:mendelejew_chemist_experience >= 300
			NOT = {
				has_trait = mendelejew_chemist_famous
			}
		}
		remove_trait = mendelejew_chemist
		remove_trait = mendelejew_chemist_experienced
		add_trait = mendelejew_chemist_famous
	}
}

#Chemist Experience gain
chemist_experience_gain_effect = { #adds XP to the Chemist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = mendelejew_chemist_var #should only add experience if there actually is an Chemist
		}
		custom_tooltip = {
			text = mendelejew_chemist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:mendelejew_chemist_var = { #Fallback to make sure there are no errors if the Chemist does not have the variable yet
							has_variable = mendelejew_chemist_experience
						}
					}
				}
				var:mendelejew_chemist_var = { #Sets the experience in case it was not set yet
					chemist_experience_set_up_effect = yes
				}
			}
			var:mendelejew_chemist_var = {
				change_variable = {
					name = mendelejew_chemist_experience
					add = $AMOUNT$
				}
			}
		}
		var:mendelejew_chemist_var = {
			if = {
				limit = {
					var:mendelejew_chemist_experience >= 100
					NOT = {
						var:mendelejew_chemist_experience >= 300
					}
					NOR = {
						has_trait = mendelejew_chemist_experienced
						has_trait = mendelejew_chemist_famous
					}
				}
				root = {
					trigger_event = {
						id = academics.104
						popup = yes
					}
					var:mendelejew_chemist_var = {
						remove_trait = mendelejew_chemist
						add_trait = mendelejew_chemist_experienced
					}
				}
			}
			if = {
				limit = {
					var:mendelejew_chemist_experience >= 300
					NOT = {
						has_trait = mendelejew_chemist_famous
					}
				}
				root = {
					trigger_event = {
						id = academics.105
						popup = yes
					}
					var:mendelejew_chemist_var = {
						if = {
							limit = { has_trait = mendelejew_chemist }
							remove_trait = mendelejew_chemist
						}
						remove_trait = mendelejew_chemist_experienced
						add_trait = mendelejew_chemist_famous
					}
				}
			}
		}
	}
}

set_start_chemist_stats_effect = {
	set_variable = {
		name = mendelejew_theorized_elements_character_number_var
		value = 0
	}
	set_variable = {
		name = mendelejew_discovered_elements_character_number_var
		value = 0
	}
	set_variable = {
		name = mendelejew_isolated_elements_character_number_var
		value = 0
	}
	random_list = {
		1 = { add_trait = mendelejew_chemist_theorist }
		1 = { add_trait = mendelejew_chemist_analyst }
		1 = { add_trait = mendelejew_chemist_inspector }
		3 = {}
	}
}

######Physicist######

#Effect to kill the current Physicist
# !!! Change stuff in both of the following effects !!!
kill_physicist_effect = {
	var:curie_physicist_var = {
		free_character_from_void = no
	}

	remove_variable = curie_physicist_var
	if = {
		limit = { has_modifier = academics_physicist_emeritus_delayed_modifier }
		remove_modifier = academics_physicist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Physicist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_physicist_effect = {
	custom_tooltip = {
		text = retire_physicist_effect_tt

		var:curie_physicist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = curie_physicist_var
	if = {
		limit = { has_modifier = academics_physicist_emeritus_delayed_modifier }
		remove_modifier = academics_physicist_emeritus_delayed_modifier
	}
}

# Creates a new Physicist without losing the old one
create_new_physicist_effect = {
	random_list = { #Each Entry has a chance to appear if the triggers are met.
		1 = { #Random Physicist (fallback and to make it uncertain for historical once to appear)
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = curie_new_physicist_scope
					}
					scope:curie_new_physicist_scope = {
						add_trait = curie_physicist
						set_variable = mr_is_physicist_var
						mr_trait_generation_physicist_effect = yes
						physicist_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
		
					set_variable = {
						name = curie_new_physicist_var
						value = scope:curie_new_physicist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = curie_new_physicist_scope
					}
					scope:curie_new_physicist_scope = {
						add_trait = curie_physicist
						set_variable = mr_is_physicist_var
						mr_trait_generation_physicist_effect = yes
						physicist_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
		
					set_variable = {
						name = curie_new_physicist_var
						value = scope:curie_new_physicist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:curie_new_physicist_var = {
		save_scope_as = curie_new_physicist_scope
	}
}

# Set new Physicist as official Physicist
curie_set_new_physicist_as_physicist_effect = {
	custom_tooltip = {
		text = curie_replace_physicist_with_new_physicist_tt
	
		if = {
			limit = {
				has_variable = curie_physicist_var
			}
			var:curie_physicist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = curie_physicist_var
			value = scope:curie_new_physicist_scope
		}
	}
}

# Remove new Physicist
curie_remove_new_physicist_effect = {
	scope:curie_new_physicist_scope = {
		free_character_from_void = no
	}
}

# Used to set up the Experience of a character
physicist_experience_set_up_effect = {
	#Adds physicist experience (see effect for further information)
	general_experience_set_up_effect = {
		TYPE = curie_physicist_experience
		UNI_PM = pm_dubois_university_mathematics
	}
	
	if = { #Adds the Experienced Astronomer Trait if Experience is above 100
		limit = {
			var:curie_physicist_experience >= 100
			NOT = {
				var:curie_physicist_experience >= 300
			}
			NOR = {
				has_trait = curie_physicist_experienced
				has_trait = curie_physicist_famous
			}
		}
		remove_trait = curie_physicist
		add_trait = curie_physicist_experienced
	}
	if = { #Adds the Famous Astronomer Trait if Experience is above 300
		limit = {
			var:curie_physicist_experience >= 300
			NOT = {
				has_trait = curie_physicist_famous
			}
		}
		remove_trait = curie_physicist
		remove_trait = curie_physicist_experienced
		add_trait = curie_physicist_famous
	}
}

#Physicist Experience gain
physicist_experience_gain_effect = { #adds XP to the Physicist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = curie_physicist_var #should only add experience if there actually is an Physicist
		}
		custom_tooltip = {
			text = curie_physicist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:curie_physicist_var = { #Fallback to make sure there are no errors if the Physicist does not have the variable yet
							has_variable = curie_physicist_experience
						}
					}
				}
				var:curie_physicist_var = { #Sets the experience in case it was not set yet
					physicist_experience_set_up_effect = yes
				}
			}
			var:curie_physicist_var = {
				change_variable = {
					name = curie_physicist_experience
					add = $AMOUNT$
				}
			}
		}
		var:curie_physicist_var = {
			if = {
				limit = {
					var:curie_physicist_experience >= 100
					NOT = {
						var:curie_physicist_experience >= 300
					}
					NOR = {
						has_trait = curie_physicist_experienced
						has_trait = curie_physicist_famous
					}
				}
				root = {
					trigger_event = {
						id = academics.106
						popup = yes
					}
					var:curie_physicist_var = {
						remove_trait = curie_physicist
						add_trait = curie_physicist_experienced
					}
				}
			}
			if = {
				limit = {
					var:curie_physicist_experience >= 300
					NOT = {
						has_trait = curie_physicist_famous
					}
				}
				root = {
					trigger_event = {
						id = academics.107
						popup = yes
					}
					var:curie_physicist_var = {
						if = {
							limit = { has_trait = curie_physicist }
							remove_trait = curie_physicist
						}
						remove_trait = curie_physicist_experienced
						add_trait = curie_physicist_famous
					}
				}
			}
		}
	}
}

######GEOLOGIST######

#Effect to kill the current Geologist
# !!! Change stuff in both of the following effects !!!
kill_geologist_effect = {
	var:dubois_geologist_var = {
		free_character_from_void = no
	}

	remove_variable = dubois_geologist_var
	if = {
		limit = { has_modifier = academics_geologist_emeritus_delayed_modifier }
		remove_modifier = academics_geologist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Geologist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_geologist_effect = {
	custom_tooltip = {
		text = retire_geologist_effect_tt

		var:dubois_geologist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = dubois_geologist_var
	if = {
		limit = { has_modifier = academics_geologist_emeritus_delayed_modifier }
		remove_modifier = academics_geologist_emeritus_delayed_modifier
	}
}

# Creates a new Geologist without losing the old one
create_new_geologist_effect = {
	random_list = { #Each Entry has a chance to appear if the triggers are met.
		4 = { #Louis Agassiz, Switzerland
			trigger = {
				NOT = { has_global_variable = agassiz_agassiz_created }
				OR = {
					mr_country_owns_fribourg_trigger = yes
					has_state_in_state_region = STATE_MASSACHUSETTS
				}
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1862.5.28 #Age 55
				year > 1832 #Professor in Neuchâtel
			}
			create_character = {
				template = mr_swi_agassiz_louis_character_template

				save_scope_as = dubois_new_geologist_scope
			}
			scope:dubois_new_geologist_scope = {
				set_variable = mr_is_geologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				geologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_geologist_var
				value = scope:dubois_new_geologist_scope
			}

			set_global_variable = agassiz_agassiz_created
		}
		1 = { #Random Geologist (fallback and to make it uncertain for historical once to appear)
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = dubois_new_geologist_scope
					}
					scope:dubois_new_geologist_scope = {
						add_trait = dubois_geologist
						set_variable = mr_is_geologist_var
						mr_trait_generation_geologist_effect = yes
						geologist_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
		
					set_variable = {
						name = dubois_new_geologist_var
						value = scope:dubois_new_geologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = dubois_new_geologist_scope
					}
					scope:dubois_new_geologist_scope = {
						add_trait = dubois_geologist
						set_variable = mr_is_geologist_var
						mr_trait_generation_geologist_effect = yes
						geologist_experience_set_up_effect = yes
						place_character_in_void = 1200
					}
		
					set_variable = {
						name = dubois_new_geologist_var
						value = scope:dubois_new_geologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}
	var:dubois_new_geologist_var = {
		save_scope_as = dubois_new_geologist_scope
	}
}

# Set new Geologist as official Geologist
dubois_set_new_geologist_as_geologist_effect = {
	custom_tooltip = {
		text = dubois_replace_geologist_with_new_geologist_tt
	
		if = {
			limit = {
				has_variable = dubois_geologist_var
			}
			var:dubois_geologist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = dubois_geologist_var
			value = scope:dubois_new_geologist_scope
		}
	}
}

# Remove new Geologist
dubois_remove_new_geologist_effect = {
	scope:dubois_new_geologist_scope = {
		free_character_from_void = no
	}
}

# Used to set up the Experience of a character 
geologist_experience_set_up_effect = {
	general_experience_set_up_effect = {
		TYPE = dubois_geologist_experience
		UNI_PM = pm_dubois_university_natural_history
	}
	
	if = { #Adds the Experienced Geologist Trait if Experience is above 100
		limit = {
			var:dubois_geologist_experience >= 100
			NOT = {
				var:dubois_geologist_experience >= 300
			}
			NOR = {
				has_trait = dubois_geologist_experienced
				has_trait = dubois_geologist_famous
			}
		}
		remove_trait = dubois_geologist
		add_trait = dubois_geologist_experienced
	}
	if = { #Adds the Famous Geologist Trait if Experience is above 100
		limit = {
			var:dubois_geologist_experience >= 300
			NOT = {
				has_trait = dubois_geologist_famous
			}
		}
		remove_trait = dubois_geologist
		remove_trait = dubois_geologist_experienced
		add_trait = dubois_geologist_famous
	}
}

#Geologist Experience gain
geologist_experience_gain_effect = { #adds XP to the Geologist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = dubois_geologist_var #should only add experience if there actually is an Geologist
		}
		custom_tooltip = {
			text = dubois_geologist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:dubois_geologist_var = { #Fallback to make sure there are no errors if the Geologist does not have the variable yet
							has_variable = dubois_geologist_experience
						}
					}
				}
				var:dubois_geologist_var = { #Sets the experience in case it was not set yet
					geologist_experience_set_up_effect = yes
				}
			}
			var:dubois_geologist_var = {
				change_variable = {
					name = dubois_geologist_experience
					add = $AMOUNT$
				}
			}
		}
		var:dubois_geologist_var = {
			if = {
				limit = {
					var:dubois_geologist_experience >= 100
					NOT = {
						var:dubois_geologist_experience >= 300
					}
					NOR = {
						has_trait = dubois_geologist_experienced
						has_trait = dubois_geologist_famous
					}
				}
				hidden_effect = {
					remove_trait = lepsius_anthropologist
					add_trait = lepsius_anthropologist_experienced
				}
				root = {
					trigger_event = {
						id = academics.108
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:dubois_geologist_experience >= 300
					NOT = {
						has_trait = dubois_geologist_famous
					}
				}
				hidden_effect = {
					remove_trait = lepsius_anthropologist
					remove_trait = lepsius_anthropologist_experienced
					add_trait = lepsius_anthropologist_famous
				}
				root = {
					trigger_event = {
						id = academics.109
						popup = yes
					}
				}
			}
		}
	}
}

######NATURALIST######

# !!! Change stuff in both of the following effects !!!
#This Effect kills the current Naturalist
kill_naturalist_effect = {
	var:dubois_naturalist_var = {
		free_character_from_void = no
	}

	remove_variable = dubois_naturalist_var

	if = {
		limit = {
			has_modifier = academics_naturalist_emeritus_delayed_modifier
		}
		remove_modifier = academics_naturalist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Naturalist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_naturalist_effect = {
	custom_tooltip = {
		text = retire_naturalist_effect_tt

		var:dubois_naturalist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = dubois_naturalist_var

	if = {
		limit = {
			has_modifier = academics_naturalist_emeritus_delayed_modifier
		}
		remove_modifier = academics_naturalist_emeritus_delayed_modifier
	}
}

# Creates a new Naturalist without losing the old one
create_new_naturalist_effect = {
	random_list = {
		4 = { #Carlos Berg, Argentina
			trigger = {
				NOT = { has_global_variable = dubois_berg_created_global_var }
				OR = {
					c:ARG ?= this
					was_formed_from = ARG
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1898.3.21 #Age 55
				year >= 1878 #arrival in Argentina
			}
			create_character = {
				template = mr_arg_berg_carlos_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_berg_created_global_var
		}
		4 = { #Eduardo Holmberg, Argentina
			trigger = {
				NOT = { has_global_variable = dubois_holmberg_created_global_var }
				OR = {
					c:ARG ?= this
					was_formed_from = ARG
				}
				game_date < 1907.6.27 #Age 55
				year >= 1878 #participated in the conquest of the desert
			}
			create_character = {
				template = mr_arg_holmberg_eduardo_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_holmberg_created_global_var
		}
		4 = { #Joseph Roman Lorenz, Austria
			trigger = {
				NOT = { has_global_variable = dubois_lorenz_created_global_var }
				has_state_in_state_region = STATE_AUSTRIA
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1880.11.26 #Age 55
				year >= 1861 #doctorate
			}
			create_character = {
				template = mr_lorenz_josef_roman_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_lorenz_created_global_var
		}
		4 = { #Georg von Freuenfeld, Austria
			trigger = {
				NOT = { has_global_variable = dubois_von_frauenfeld_created_global_var }
				has_state_in_state_region = STATE_AUSTRIA
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1862.6.3 #Age 55
				year >= 1847 #worked as an educator to broaden his knowledge of Natural History
			}
			create_character = {
				template = mr_aus_von_frauenfeld_georg_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_von_frauenfeld_created_global_var
		}
		4 = { #Frederick McCoy, Australia (and Ireland)
			trigger = {
				NOT = { has_global_variable = dubois_mccoy_created_global_var }
				OR = {
					country_has_primary_culture = cu:irish
					country_has_primary_culture = cu:australian
				}
				game_date < 1872.03.11 #Age 55
				year >= 1841 #published first book
			}
			create_character = {
				template = mr_ast_mccoy_frederick_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_mccoy_created_global_var
		}
		4 = { #Alexander Walker Scott, Australia
			trigger = {
				NOT = {
					any_character = {
						has_template = mr_ast_scott_alexander_walker_character_template
					}
				}
				country_has_primary_culture = cu:australian
				has_state_in_state_region = STATE_NEW_SOUTH_WALES
				game_date < 1855.11.10 #Age 55
				year >= 1830 #random date actually
			}
			create_character = {
				template = mr_ast_scott_alexander_walker_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}
		}
		2 = { #Harriet Scott, Australia
			trigger = {
				NOT = { has_global_variable = dubois_scott_harriett_created_global_var }
				NOT = {
					has_law = law_type:law_no_womens_rights
				}
				country_has_primary_culture = cu:australian
				has_state_in_state_region = STATE_NEW_SOUTH_WALES
				game_date < 1885.03.11 #Age 55
				year >= 1868 #Becomes member of the Entomological Society of NSW
			}
			create_character = {
				template = mr_ast_scott_harriett_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_scott_harriett_created_global_var
		}
		4 = { #Pierre-Joseph van Beneden, Belgium
			trigger = {
				NOT = { has_global_variable = dubois_van_beneden_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1864.12.19 #Age 55
				year >= 1836 #professor of Zoology and Anatomy
			}
			create_character = {
				template = mr_bel_van_beneden_pierre_joseph_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_van_beneden_created_global_var
		}
		4 = { #Alphonse Dubois, Belgium
			trigger = {
				NOT = { has_global_variable = dubois_dubois_alphonse_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1899.10.18 #Age 55
				year >= 1869 #curator of the department of vertebrates at the Royal Museum of Natural History in Brussels
			}
			create_character = {
				template = mr_bel_dubois_alphonse_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_dubois_alphonse_created_global_var
		}
		4 = { #Antoine Payen, Belgium
			trigger = {
				NOT = { has_global_variable = dubois_payen_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1847.11.12 #Age 55
				year >= 1819 #Travelling in Indonesia
			}
			create_character = {
				template = mr_bel_payen_antoine_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_payen_created_global_var
		}
		2 = { #Marietta Roussea, Belgium
			trigger = {
				NOT = { has_global_variable = dubois_dubois_rousseau_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				OR = {
					has_law = law_type:law_women_own_property
					has_law = law_type:law_women_in_the_workplace
					has_law = law_type:law_womens_suffrage
				}
				game_date < 1905.3.20 #Age 55
				year >= 1879 #First Publication
			}
			create_character = {
				template = mr_bel_rousseau_marietta_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_dubois_rousseau_created_global_var
		}
		4 = { #Ladislau de Souza Mello Netto, Brasil
			trigger = {
				NOT = { has_global_variable = dubois_de_souza_mello_netto_ladislau_created_global_var }
				has_state_in_state_region = STATE_RIO_DE_JANEIRO
				NOT = {
					cu:brazilian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1893.6.27 #Age 55
				year >= 1870 #Appointed as museum director
			}
			create_character = {
				template = mr_bra_de_souza_mello_netto_ladislau_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_de_souza_mello_netto_ladislau_created_global_var
		}
		4 = { #Emílio Goeldi, Brasil
			trigger = {
				NOT = { has_global_variable = dubois_goeldi_created_global_var }
				OR = {
					has_state_in_state_region = STATE_RIO_DE_JANEIRO
					has_state_in_state_region = STATE_PARA
				}
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1914.8.28 #Age 55
				year >= 1884 #Went to Brazil
			}
			create_character = {
				template = mr_bra_goeldi_emilio_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_goeldi_created_global_var
		}
		4 = { #Jaques Huber, Brasil
			trigger = {
				NOT = { has_global_variable = dubois_huber_created_global_var }
				any_scope_state = {
					OR = {
						has_state_trait = state_trait_amazon_rainforest
						has_state_trait = state_trait_amazon_rainforest_level_1
						has_state_trait = state_trait_amazon_rainforest_level_2
					}
				}
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1922.10.13 #Age 55
				year >= 1895 #Started work on the Flora of the Amazon
			}
			create_character = {
				template = mr_bra_huber_jaques_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_huber_created_global_var
		}
		4 = { #Juraj Kolombatović, Croatia
			trigger = {
				NOT = { has_global_variable = dubois_kolombatovic_created_global_var }
				has_state_in_state_region = STATE_DALMATIA
				NOT = {
					cu:croat = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1898.12.8 #Age 55
				year >= 1864 #Became High School Professor
			}
			create_character = {
				template = mr_cro_kolombatovic_juraj_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_kolombatovic_created_global_var
		}
		4 = { #Japetus Steenstrup, Denmark
			trigger = {
				NOT = { has_global_variable = dubois_steenstrup_created_global_var }
				has_state_in_state_region = STATE_JUTLAND
				NOT = {
					cu:danish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1868.3.8 #Age 55
				year >= 1845 #Professor of Zoology at University of Copenhagen
			}
			create_character = {
				template = mr_den_steenstrup_japetus_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_steenstrup_created_global_var
		}
		4 = { #Paul Gervais, France
			trigger = {
				NOT = { has_global_variable = dubois_gervais_created_global_var }
				c:FRA ?= this
				game_date < 1871.9.26 #Age 55
				year >= 1835 #First job as assistant at the French Museum of Natural History
			}
			create_character = {
				template = mr_fra_gervais_paul_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_gervais_created_global_var
		}
		4 = { #Henry Dubois, France
			trigger = {
				NOT = { has_global_variable = dubois_dupont_henry_created_global_var }
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				OR = {
					has_state_in_state_region = STATE_NORMANDY
					has_state_in_state_region = STATE_ILE_DE_FRANCE
				}
				game_date < 1853.11.1 #Age 55
				year >= 1828 #already found 10'000 Specimen
			}
			create_character = {
				template = mr_fra_dupont_henry_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_dupont_henry_created_global_var
		}
		4 = { #Alfred Brehm, Germany
			trigger = {
				NOT = { has_global_variable = dubois_brehm_created_global_var }
				country_has_primary_culture = cu:north_german
				has_state_in_state_region = STATE_SAXONY
				game_date < 1884.2.2 #Age 55
				year >= 1855 #Finished studies
			}
			create_character = {
				template = mr_ger_brehm_alfred_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_brehm_created_global_var
		}
		4 = { #Hermann Burmeister, Germany and Argentina
			trigger = {
				NOT = { has_global_variable = dubois_burmeister_created_global_var }
				OR = {
					country_has_primary_culture = cu:north_german
					AND = {
						OR = {
							c:ARG ?= this
							was_formed_from = ARG
						}
						NOT = {
							cu:north_german = {
								culture_is_discriminated_in = root
							}
						}
					}
				}
				game_date < 1862.1.15 #Age 55
				year >= 1842 #Published Geschichte der Schöpfung
			}
			create_character = {
				template = mr_ger_burmeister_hermann_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_burmeister_created_global_var
		}
		4 = { #Matthias Jacob Schleiden, Germany
			trigger = {
				NOT = { has_global_variable = dubois_schleiden_created_global_var }
				OR = {
					country_has_primary_culture = cu:north_german
					AND = {
						has_state_in_state_region = STATE_TARTU
						NOT = {
							cu:north_german = {
								culture_is_discriminated_in = root
							}
						}
					}
				}
				game_date < 1859.4.5 #Age 55
				year >= 1839 #Doctorate
			}
			create_character = {
				template = mr_ger_schleiden_matthias_jacob_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_schleiden_created_global_var
		}
		4 = { #Ludwig Leichhardt, Germany and South America
			trigger = {
				NOT = { has_global_variable = dubois_leichhardt_created_global_var }
				OR = {
					AND = {
						country_has_primary_culture = cu:north_german
						has_state_in_state_region = STATE_BRANDENBURG
					}
					any_scope_building = {
						is_building_type = building_university
						has_active_production_method = pm_dubois_university_natural_history
						level >= 5
					}
					c:NSW ?= this
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1868.10.23 #Age 55
				year >= 1842 #Started exploring
			}
			create_character = {
				template = mr_leichhardt_ludwig_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_leichhardt_created_global_var
		}
		4 = { #Alexander von Frantzius, Germany
			trigger = {
				NOT = { has_global_variable = dubois_von_frantzius_created_global_var }
				OR = {
					country_has_primary_culture = cu:north_german
					has_state_in_state_region = STATE_COSTA_RICA
				}
				game_date < 1876.6.10 #Age 55
				year >= 1853 #First journey to Costa Rica
			}
			create_character = {
				template = mr_ger_von_frantzius_alexander_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_von_frantzius_created_global_var
		}
		2 = { #Maria von Linden, Germany
			trigger = {
				NOT = { has_global_variable = dubois_von_linden_created_global_var }
				OR = {
					country_has_primary_culture = cu:south_german
					has_state_in_state_region = STATE_WURTTEMBERG
				}
				game_date < 1924.7.18 #Age 55
				year >= 1895 #Got her doctor of natural sciences
			}
			create_character = {
				template = mr_ger_von_linden_maria_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_von_linden_created_global_var
		}
		4 = { #David Livingstone, Great Britain or Scottland
			trigger = {
				NOT = { has_global_variable = dubois_livingstone_created_global_var }
				OR = {
					AND = {
						NOT = { exists = c:SCO }
						c:GBR ?= this
					}
					c:SCO ?= this
				}
				game_date < 1873.5.1 #Historical Death date
				year >= 1840 #Moved to South Africa
			}
			create_character = {
				template = ecchi_gbr_livingstone_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_livingstone_created_global_var
		}
		4 = { #Alfred Russell Wallace, Great Britain or Wales
			trigger = {
				NOT = { has_global_variable = dubois_wallace_created_global_var }
				OR = {
					c:GBR ?= this
					c:WLS ?= this
				}
				game_date < 1878.1.8 #Age 55
				year >= 1848 #First Expedition of Wallace to Brazil
			}
			create_character = {
				template = mr_bel_quetelet_adolphe_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_wallace_created_global_var
		}
		4 = { #Stephan Endlicher, Hungary
			trigger = {
				NOT = { has_global_variable = dubois_endlicher_created_global_var }
				OR = {
					has_state_in_state_region = STATE_WEST_SLOVAKIA
					has_state_in_state_region = STATE_AUSTRIA
				}
				NOT = {
					cu:hungarian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1859.6.24 #Age 55
				year >= 1836 #keeper of the court cabinet of natural history
			}
			create_character = {
				template = mr_hun_endlicher_stephan_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_endlicher_created_global_var
		}
		4 = { #Birbal Sahni, India
			trigger = {
				NOT = { has_global_variable = dubois_sahni_created_global_var }
				OR = {
					has_state_in_state_region = STATE_AWADH
					has_state_in_state_region = STATE_PUNJAB
				}
				NOT = {
					cu:panjabi = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1946.11.14 #Age 55
				year >= 1920 #Return to India
			}
			create_character = {
				template = mr_hnd_sahni_birbal_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_sahni_created_global_var
		}
		4 = { #Giovanni Battista Amici, Italy
			trigger = {
				NOT = { has_global_variable = dubois_amici_created_global_var }
				OR = {
					has_state_in_state_region = STATE_ROMAGNA
					has_state_in_state_region = STATE_EMILIA
					has_state_in_state_region = STATE_TUSCANY
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1841.3.25 #Age 55
				year >= 1810 #Professor of Geometry and Algebra
			}
			create_character = {
				template = mr_ita_amici_giovanni_battista_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_amici_created_global_var
		}
		4 = { #Odoardo Beccari, Italy
			trigger = {
				NOT = { has_global_variable = dubois_beccari_created_global_var }
				has_state_in_state_region = STATE_TUSCANY
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1898.11.16 #Age 55
				year >= 1865 #First Expedition of Beccari to Borneo
			}
			create_character = {
				template = mr_ita_beccari_odoardo_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_beccari_created_global_var
		}
		4 = { #Oreste Mattirolo, Italy
			trigger = {
				NOT = { has_global_variable = dubois_mattirolo_created_global_var }
				OR = {
					has_state_in_state_region = STATE_PIEDMONT
					has_state_in_state_region = STATE_TUSCANY
					has_state_in_state_region = STATE_ROMAGNA
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}

				game_date < 1911.12.3 #Age 55
				year >= 1894 #associate Professor
			}
			create_character = {
				template = mr_ita_mattirolo_oreste_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_mattirolo_created_global_var
		}
		4 = { #Federico Delpino, Italy
			trigger = {
				NOT = { has_global_variable = dubois_delpino_created_global_var }
				has_state_in_state_region = STATE_PIEDMONT
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1888.12.27 #Age 55
				year >= 1871 #became Professor
			}
			create_character = {
				template = mr_ita_delpino_federico_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_delpino_created_global_var
		}
		4 = { #Pellegrino Strobel, Italy
			trigger = {
				NOT = { has_global_variable = dubois_strobel_created_global_var }
				has_state_in_state_region = STATE_EMILIA
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1876.8.22 #Age 55
				year >= 1857 #Professor of Natural History in Piacenza
			}
			create_character = {
				template = mr_ita_strobel_pellegrino_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_strobel_created_global_var
		}
		4 = { #Filippo Parlatore, Italy
			trigger = {
				NOT = { has_global_variable = dubois_parlatore_created_global_var }
				OR = {
					has_state_in_state_region = STATE_CAMPANIA
					has_state_in_state_region = STATE_TUSCANY
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}

				game_date < 1871.8.8 #Age 55
				year >= 1838 #studied the Flora in Sicily
			}
			create_character = {
				template = mr_ita_parlatore_filippo_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_parlatore_created_global_var
		}
		4 = { #Jagadish Chandra Bose, India
			trigger = {
				NOT = { has_global_variable = dubois_bose_created_global_var }
				OR = {
					has_state_in_state_region = STATE_NORTH_BENGAL
					has_state_in_state_region = STATE_SOUTH_BENGAL
				}
				NOT = {
					cu:bengali = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1913.11.30 #Age 55
				year >= 1885 #Professor at Presidency College Calcutta
			}
			create_character = {
				template = mr_hnd_bose_jagadish_chandra_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_bose_created_global_var
		}
		4 = { #Keisuke Ito, Japan
			trigger = {
				NOT = { has_global_variable = dubois_ito_created_global_var }
				country_has_primary_culture = cu:japanese
				game_date < 1858.2.18 #Age 55
				year >= 1829 #First botanical book published
			}
			create_character = {
				template = mr_jap_ito_keisuke_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_ito_created_global_var
		}
		4 = { #Hendrik van Rijgersma, Netherlands
			trigger = {
				NOT = { has_global_variable = dubois_van_rijgersma_created_global_var }
				OR = {
					has_state_in_state_region = STATE_HOLLAND
					AND = {
						country_has_primary_culture = cu:dutch
						has_state_in_state_region = STATE_WEST_INDIES
					}
				}
				NOT = {
					cu:dutch = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1890.1.5 #Age 55
				year >= 1863 #Started work in St. Martin
			}
			create_character = {
				template = mr_net_van_rijgersma_hendrik_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}
			set_global_variable = dubois_van_rijgersma_created_global_var
		}
		4 = { #Fridtjof Nansen, Norway
			trigger = {
				NOT = {
					any_character = {
						has_template = mr_nor_nansen_fridtjof_character_template
					}
				}
				has_state_in_state_region = STATE_EASTERN_NORWAY
				NOT = {
					cu:norwegian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1916.10.10 #Age 55
				year >= 1888 #First Greenland Expedition
			}
			create_character = {
				template = mr_nor_nansen_fridtjof_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}
		}
		4 = { #Józef Paczoski, Poland
			trigger = {
				NOT = {
					any_character = {
						has_template = mr_pol_jozef_paczoski_character_template
					}
				}
				OR = {
					has_state_in_state_region = STATE_BREST
					has_state_in_state_region = STATE_POSEN
					has_state_in_state_region = STATE_MAZOVIA
				}
				NOT = {
					cu:polish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1919.12.6 #Age 55
				year >= 1896 #coined the term "phytosociology"
			}
			create_character = {
				template = mr_pol_jozef_paczoski_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}
		}
		4 = { #Julio Augusto Henriques, Portugal
			trigger = {
				NOT = { has_global_variable = dubois_henriques_created_global_var }
				has_state_in_state_region = STATE_ESTREMADURA
				NOT = {
					cu:portuguese = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1893.1.15 #Age 55
				year >= 1869 #Substitute Lecturer in botany, agriculture, zoology, chemistry and mineralogy
			}
			create_character = {
				template = mr_por_henriques_julio_augusto_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}
			
			set_global_variable = dubois_henriques_created_global_var
		}
		4 = { #Miguel Colmeiro, Spain
			trigger = {
				NOT = { has_global_variable = dubois_colmeiro_created_global_var }
				OR = {
					has_state_in_state_region = STATE_CATALONIA
					has_state_in_state_region = STATE_ANDALUSIA
					mr_country_owns_toledo_trigger = yes
				}
				NOT = {
					cu:spanish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1871.10.22 #Age 55
				year >= 1846 #held the chair of Agriculture and Botanical at Barcelona University
			}
			create_character = {
				template = mr_spa_colmeiro_miguel_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_colmeiro_created_global_var
		}
		4 = { #Johan Jacob Wahlberg, Sweden
			trigger = {
				NOT = { has_global_variable = dubois_wahlberg_created_global_var }
				country_has_primary_culture = cu:swedish
				game_date < 1865.10.9 #Age 55
				year >= 1832 #First Collection Trip to Norway
			}
			create_character = {
				template = mr_swe_wahlberg_johan_august_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_wahlberg_created_global_var
		}
		4 = { #Dimitrie Călugăreanu, Romania
			trigger = {
				NOT = { has_global_variable = dubois_calugareanu_created_global_var }
				has_state_in_state_region = STATE_MOLDAVIA
				NOT = {
					cu:romanian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1923.10.18 #Age 55
				year >= 1902 #Started working at University
			}
			create_character = {
				template = mr_rom_calugareanu_dimitrie_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_calugareanu_created_global_var
		}
		4 = { #Daniil Popovici-Barcianu, Romania
			trigger = {
				NOT = { has_global_variable = dubois_popovici_barcianu_created_global_var }
				has_state_in_state_region = STATE_SOUTHERN_TRANSYLVANIA
				NOT = {
					cu:romanian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1902.10.19 #Age 55
				year >= 1874 #Received Doctorate
			}
			create_character = {
				template = mr_rom_popovici_barcianu_daniil_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_popovici_barcianu_created_global_var
		}
		4 = { #Emil Racoviță, Romania
			trigger = {
				NOT = { has_global_variable = dubois_racovita_created_global_var }
				has_state_in_state_region = STATE_MOLDAVIA
				NOT = {
					cu:romanian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1923.11.15 #Age 55
				year >= 1896 #Got his PhD
			}
			create_character = {
				template = mr_rom_racovita_emil_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_no_headgear_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_racovita_created_global_var
		}
		4 = { #Johann Wilhelm Coaz, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_coaz_created_global_var }
				country_has_primary_culture = cu:alemannic
				mr_country_owns_grisons_trigger = yes
				game_date < 1877.5.31 #Age 55
				year >= 1851 #Chief Forest Inspector
			}
			create_character = {
				template = mr_swi_coaz_johann_wilhelm_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_coaz_created_global_var
		}
		4 = { #Carl Eduard Cramer, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_cramer_created_global_var }
				country_has_primary_culture = cu:alemannic
				mr_country_owns_zurich_trigger = yes
				game_date < 1886.3.4 #Age 55
				year >= 1861 #Professor of Botany at the Polytechnikum
			}
			create_character = {
				template = mr_swi_cramer_carl_eduard_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_cramer_created_global_var
		}
		4 = { #Alphonse Pyrame de Candolle, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_de_candolle_created_global_var }
				mr_country_owns_geneve_trigger = yes
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1861.10.28 #Age 55
				year >= 1835 #Took over his fathers job as a professor in Geneva
			}
			create_character = {
				template = mr_swi_de_condolle_alphonse_pyrame_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_de_candolle_created_global_var
		}
		4 = { #Karl Nägeli, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_naegeli_created_global_var }
				country_has_primary_culture = cu:alemannic
				OR = {
					mr_country_owns_zurich_trigger = yes
					has_state_in_state_region = STATE_BADEN
					has_state_in_state_region = STATE_BAVARIA
				}
				game_date < 1882.3.27 #Age 55
				year >= 1849 #Started work at Polytechnikum Zürich
			}
			create_character = {
				template = mr_swi_naegeli_karl_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_naegeli_created_global_var
		}
		4 = { #Henri François Pittier, Switzerland / America
			trigger = {
				NOT = { has_global_variable = dubois_pittier_created_global_var }
				OR = {
					country_has_primary_culture = cu:francoprovencal
					AND = {
						OR = {
							country_is_in_north_america = yes
							country_is_in_central_america = yes
							country_is_in_south_america = yes
						}
						NOT = {
							cu:francoprovencal = {
								culture_is_discriminated_in = root
							}
						}
					}
				}
				game_date < 1912.8.13 #Age 55
				year >= 1887 #Went to Costa Rica
			}
			create_character = {
				template = mr_swi_pittier_henri_francois_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_pittier_created_global_var
		}
		4 = { #Martin Rikli, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_rikli_created_global_var }
				country_has_primary_culture = cu:alemannic
				mr_country_owns_basel_trigger = yes
				game_date < 1923.9.23 #Age 55
				year >= 1895 #Received his Doctorate
			}
			create_character = {
				template = mr_swi_rikli_martin_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_rikli_created_global_var
		}
		4 = { #Stephen Alfred Forbes, USA
			trigger = {
				NOT = { has_global_variable = dubois_forbes_created_global_var }
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				has_state_in_state_region = STATE_ILLINOIS
				game_date < 1899.5.29 #Age 55
				year >= 1867 #Interest in biology sparked by buying a strawberry farm
			}
			create_character = {
				template = mr_usa_forbes_stephen_alfred_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_forbes_created_global_var
		}
		4 = { #John Thomas Gulick, USA
			trigger = {
				NOT = { has_global_variable = dubois_gulick_created_global_var }
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				OR = {
					has_state_in_state_region = STATE_HAWAIIAN_ISLANDS
					has_state_in_state_region = STATE_CALIFORNIA
					has_state_in_state_region = STATE_OREGON
				}
				game_date < 1887.3.13 #Age 55
				year >= 1851 #Started studying land snails in Hawaii
			}
			create_character = {
				template = mr_usa_gulick_john_thomas_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_gulick_created_global_var
		}
		4 = { #Ora Willis Knight, USA
			trigger = {
				NOT = { has_global_variable = dubois_knight_created_global_var }
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				has_state_in_state_region = STATE_MAINE
				game_date < 1929.7.15 #Age 55
				year >= 1895 #Finished Bachelor of Science
			}
			create_character = {
				template = mr_knight_ora_willis_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_knight_created_global_var
		}
		4 = { #John Muir, USA
			trigger = {
				NOT = { has_global_variable = dubois_muir_created_global_var }
				country_has_primary_culture = cu:yankee
				has_state_in_state_region = STATE_CALIFORNIA
				game_date < 1893.4.21 #Age 55
				year >= 1868 #First journey to Yosemite
			}
			create_character = {
				template = mr_usa_muir_john_character_template

				save_scope_as = dubois_new_naturalist_scope
			}
			scope:dubois_new_naturalist_scope = {
				set_variable = mr_is_naturalist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_naturalist_var
				value = scope:dubois_new_naturalist_scope
			}

			set_global_variable = dubois_muir_created_global_var
		}
		1 = { #Random Naturalist
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = dubois_new_naturalist_scope
					}
					scope:dubois_new_naturalist_scope = {
						add_trait = dubois_naturalist
						set_variable = mr_is_naturalist_var
						naturalist_experience_set_up_effect = yes
						mr_trait_generation_naturalist_effect = yes
						place_character_in_void = 1200	
					}
					set_variable = {
						name = dubois_new_naturalist_var
						value = scope:dubois_new_naturalist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = dubois_new_naturalist_scope
					}
					scope:dubois_new_naturalist_scope = {
						add_trait = dubois_naturalist
						set_variable = mr_is_naturalist_var
						naturalist_experience_set_up_effect = yes
						mr_trait_generation_naturalist_effect = yes
						place_character_in_void = 1200	
					}
					set_variable = {
						name = dubois_new_naturalist_var
						value = scope:dubois_new_naturalist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:dubois_new_naturalist_var = {
		save_scope_as = dubois_new_naturalist_scope
	}
}

# Set new Naturalist as official Naturalist
dubois_set_new_naturalist_as_naturalist_effect = {
	custom_tooltip = {
		text = dubois_replace_naturalist_with_new_naturalist_tt
	
		if = {
			limit = {
				has_variable = dubois_naturalist_var
			}
			var:dubois_naturalist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = dubois_naturalist_var
			value = scope:dubois_new_naturalist_scope
		}

		remove_variable = dubois_new_naturalist_var
	}
}

# Remove new Naturalist
dubois_remove_new_naturalist_effect = {
	scope:dubois_new_naturalist_scope = {
		free_character_from_void = no
	}

	remove_variable = dubois_new_naturalist_var
}

# Used to set up the Experience of a character 
naturalist_experience_set_up_effect = {
	general_experience_set_up_effect = {
		TYPE = dubois_naturalist_experience
		UNI_PM = pm_dubois_university_natural_history
	}
	
	if = { #Adds the Experienced Astronomer Trait if Experience is above 100
		limit = {
			var:dubois_naturalist_experience >= 100
			NOT = {
				var:dubois_naturalist_experience >= 300
			}
			NOR = {
				has_trait = dubois_naturalist_experienced
				has_trait = dubois_naturalist_famous
			}
		}
		remove_trait = dubois_naturalist
		add_trait = dubois_naturalist_experienced
	}
	if = { #Adds the Famous Astronomer Trait if Experience is above 300
		limit = {
			var:dubois_naturalist_experience >= 300
			NOT = {
				has_trait = dubois_naturalist_famous
			}
		}
		remove_trait = dubois_naturalist
		remove_trait = dubois_naturalist_experienced
		add_trait = dubois_naturalist_famous
	}

	set_variable = {
		name = dubois_character_num_animal_documentations_var
		value = 0
	}
}

#Naturalist Experience gain
naturalist_experience_gain_effect = { #adds XP to the Naturalist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = dubois_naturalist_var #should only add experience if there actually is an Naturalist
		}
		custom_tooltip = {
			text = dubois_naturalist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:dubois_naturalist_var = { #Fallback to make sure there are no errors if the Naturalist does not have the variable yet
							has_variable = dubois_naturalist_experience
						}
					}
				}
				var:dubois_naturalist_var = { #Sets the experience in case it was not set yet
					naturalist_experience_set_up_effect = yes
				}
			}
			var:dubois_naturalist_var = {
				change_variable = {
					name = dubois_naturalist_experience
					add = $AMOUNT$
				}
			}
		}
		var:dubois_naturalist_var = {
			if = {
				limit = {
					var:dubois_naturalist_experience >= 100
					NOT = {
						var:dubois_naturalist_experience >= 300
					}
					NOR = {
						has_trait = dubois_naturalist_experienced
						has_trait = dubois_naturalist_famous
					}
				}
				remove_trait = dubois_naturalist
				add_trait = dubois_naturalist_experienced
				root = {
					trigger_event = {
						id = academics.110
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:dubois_naturalist_experience >= 300
					NOT = {
						has_trait = dubois_naturalist_famous
					}
				}
				remove_trait = dubois_naturalist
				remove_trait = dubois_naturalist_experienced
				add_trait = dubois_naturalist_famous
				root = {
					trigger_event = {
						id = academics.111
						popup = yes
					}
				}
			}
		}
	}
}

######PALEONTOLOGIST######

#Effect to kill the current Paleontologist
# !!! Change stuff in both of the following effects !!!
kill_paleontologist_effect = {
	var:dubois_paleontologist_var = {
		free_character_from_void = no
	}
	
	#Additional effects
	dubois_set_paleontologist_to_default = yes
	if = {
		limit = { has_modifier = dubois_paleontological_research_modifier }
		remove_modifier = dubois_paleontological_research_modifier
	}
	remove_variable = dubois_paleontologist_var
	if = {
		limit = { has_modifier = academics_paleontologist_emeritus_delayed_modifier }
		remove_modifier = academics_paleontologist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Paleontologist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_paleontologist_effect = {
	custom_tooltip = {
		text = retire_paleontologist_effect_tt

		var:dubois_paleontologist_var = {
			free_character_from_void = no
		}
	}

	#Additional effects
	dubois_set_paleontologist_to_default = yes
	if = {
		limit = { has_modifier = dubois_paleontological_research_modifier }
		remove_modifier = dubois_paleontological_research_modifier
	}
	remove_variable = dubois_paleontologist_var
	if = {
		limit = { has_modifier = academics_paleontologist_emeritus_delayed_modifier }
		remove_modifier = academics_paleontologist_emeritus_delayed_modifier
	}
}

# Creates a new Paleontologist without losing the old one
create_new_paleontologist_effect = {
	random_list = { #Each Entry has a chance to appear if the triggers are met.
		4 = { #Florentino Ameghino, Argentina
			trigger = {
				NOT = { has_global_variable = dubois_ameghino_created }
				OR = {
					country_has_primary_culture = cu:platinean
					c:ARG ?= this
				}
				game_date < 1908.9.19 #Age 55
				year >= 1878 #The Antiquity of Man in the Río de la Plata published
			}
			create_character = {
				template = mr_arg_florentino_ameghino_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_ameghino_created #Makes sure Ameghino is not already created
		}
		4 = { #Frederick McCoy, Australia (and Ireland)
			trigger = {
				NOT = { has_global_variable = dubois_mccoy_created_global_var }
				OR = {
					country_has_primary_culture = cu:irish
					country_has_primary_culture = cu:australian
				}
				game_date < 1872.03.11 #Age 55
				year >= 1841 #published first book
			}
			create_character = {
				template = mr_ast_mccoy_frederick_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_mccoy_created_global_var
		}
		4 = { #Pierre-Joseph van Beneden, Belgium
			trigger = {
				NOT = { has_global_variable = dubois_van_beneden_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1864.12.19 #Age 55
				year >= 1836 #professor of Zoology and Anatomy
			}
			create_character = {
				template = mr_bel_van_beneden_pierre_joseph_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_van_beneden_created_global_var
		}
		4 = { #Louis Dollo, Belgium / France
			trigger = {
				NOT = { has_global_variable = dubois_dollo_created_global_var }
				OR = {
					c:FRA ?= this

					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1912.12.7 #Age 55
				year >= 1881 #Moving to Belgium to focus on Paleontology
			}
			create_character = {
				template = mr_bel_dollo_louis_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_dollo_created_global_var
		}
		4 = { #Laurent-Guillaume de Koninck, Belgium
			trigger = {
				NOT = { has_global_variable = dubois_de_koninck_created_global_var }
				OR = {
					c:BEL ?= this
					country_has_primary_culture = cu:wallonian
					country_has_primary_culture = cu:flemish
				}
				game_date < 1864.5.3 #Age 55
				year >= 1835 #Started investigating Carboniferous fossils around Liège
			}
			create_character = {
				template = mr_bel_de_koninck_laurent_guillaume_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_de_koninck_created_global_var
		}
		4 = { #Paul Gervais, France
			trigger = {
				NOT = { has_global_variable = dubois_gervais_created_global_var }
				c:FRA ?= this
				game_date < 1871.9.26 #Age 55
				year >= 1835 #First job as assistant at the French Museum of Natural History
			}
			create_character = {
				template = mr_fra_gervais_paul_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_gervais_created_global_var
		}
		4 = { #Alcide d'Orbigny, France
			trigger = {
				NOT = { has_global_variable = dubois_d_orbigny_created }
				c:FRA ?= this
				game_date < 1857.9.6 #Age 55
				year >= 1833 #Return from America
			}
			create_character = {
				template = mr_fra_d_orbigny_alcide_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_d_orbigny_created #Makes sure d'Orbigny is not already created
		}
		1 = { #Mary Anning, Great Britain
			trigger = {
				NOT = { has_global_variable = dubois_anning_created }
				p:x6060C0 = {
					owner = root
				}
				OR = {
					has_law = law_type:law_women_own_property
					has_law = law_type:law_women_in_the_workplace
					has_law = law_type:law_womens_suffrage
				}
				game_date < 1854.5.21 #Age 55
				year >= 1825 #Taking over the Family business
			}
			create_character = {
				template = mr_gbr_anning_mary_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var #This is basically the role of Paleontologist for a country, makes it possible to access character
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_anning_created #Makes sure Anning is not already created
		}
		4 = { #Richard Owen, Great Britain
			trigger = {
				NOT = { has_global_variable = dubois_owen_created_var }
				has_state_in_state_region = STATE_HOME_COUNTIES
				NOT = {
					cu:british = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1859.7.20 #Age 55
				year >= 1827 #Started Work on the Hunter collection
			}
			create_character = {
				template = mr_gbr_owen_richard_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var #This is basically the role of Paleontologist for a country, makes it possible to access character
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_owen_created_var #Makes sure Owen is not already created
		}
		4 = { #Birbal Sahni, India
			trigger = {
				NOT = { has_global_variable = dubois_sahni_created_global_var }
				OR = {
					has_state_in_state_region = STATE_AWADH
					has_state_in_state_region = STATE_PUNJAB
				}
				NOT = {
					cu:panjabi = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1946.11.14 #Age 55
				year >= 1920 #Return to India
			}
			create_character = {
				template = mr_hnd_sahni_birbal_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var
				set_variable = mr_no_headgear_var
				naturalist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_sahni_created_global_var
		}
		4 = { #Francesco Bassani, Italy
			trigger = {
				NOT = { has_global_variable = dubois_bassani_created_global_var }
				has_state_in_state_region = STATE_VENETIA
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1908.10.29 #Age 55
				year >= 1879 #Finished his education
			}
			create_character = {
				template = mr_ita_bassani_francesco_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_bassani_created_global_var #Makes sure Bassani is not already created
		}
		4 = { #Giovanni Capellini, Italy
			trigger = {
				NOT = { has_global_variable = dubois_capellini_created_global_var }
				has_state_in_state_region = STATE_PIEDMONT
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1888.8.23 #Age 55
				year >= 1860 #Professor of natural history
			}
			create_character = {
				template = mr_ita_capellini_giovanni_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_capellini_created_global_var #Makes sure Capellini is not already created
		}
		4 = { #Carlo Fornasini, Italy
			trigger = {
				NOT = { has_global_variable = dubois_fornasini_created_global_var }
				has_state_in_state_region = STATE_ROMAGNA
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1909.11.3 #Age 55
				year >= 1877 #Graduated at Bologna
			}
			create_character = {
				template = mr_ita_formasini_carlo_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_fornasini_created_global_var #Makes sure Fornasini is not already created
		}
		4 = { #Gaetano Giorgio Gemmellaro, Italy
			trigger = {
				NOR = {
					has_global_variable = dubois_gemmellaro_created_global_var
					any_character = {
						has_template = mr_ita_gemmellaro_gaetano_gemmellaro_character_template
					}
				}
				has_state_in_state_region = STATE_SICILY
				NOT = {
					cu:south_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1887.2.24 #Age 55
				year >= 1858 #Professor at University of Naples Federico II
			}
			create_character = {
				template = mr_ita_gemmellaro_gaetano_gemmellaro_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_gemmellaro_created_global_var #Makes sure Gemmellaro is not already created
		}
		4 = { #Arturo Issel, Italy
			trigger = {
				NOT = { has_global_variable = dubois_issel_created_global_var }
				OR = {
					has_state_in_state_region = STATE_PIEDMONT
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1897.4.11 #Age 55
				year >= 1866 #Professor in Genova
			}
			create_character = {
				template = mr_ita_issel_arturo_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_issel_created_global_var #Makes sure Issel is not already created
		}
		4 = { #Giuseppe Giovanni Antonio Meneghini, Italy
			trigger = {
				NOT = { has_global_variable = dubois_meneghini_created_global_var }
				OR = {
					has_state_in_state_region = STATE_VENETIA
					has_state_in_state_region = STATE_TUSCANY
					has_state_in_state_region = STATE_LOMBARDY
				}
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1866.7.30 #Age 55
				year >= 1839 #Professor in Padua
			}
			create_character = {
				template = mr_ita_meneghini_giuseppe_giovanni_antonio_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_meneghini_created_global_var #Makes sure Meneghini is not already created
		}
		4 = { #Jalal al-Din Muhammad al-Isfahani, Persia
			trigger = {
				NOT = { has_global_variable = dubois_al_din_muhammad_al_isfahani_created }
				has_state_in_state_region = STATE_ISFAHAN
				NOT = {
					cu:persian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1853.12.9 #Age 55
				year >= 1828 #Published a Treatise
			}
			create_character = {
				template = mr_per_al_din_muhammad_al_isfahani_jalal_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_al_din_muhammad_al_isfahani_created
		}
		4 = { #Venceslau de Lima, Portugal
			trigger = {
				NOT = { has_global_variable = dubois_de_lima_created }
				has_state_in_state_region = STATE_ESTREMADURA
				NOT = {
					cu:portuguese = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1913.11.15 #Age 55
				year >= 1883 #Started work at the Polytechnic Academy of Porto
			}
			create_character = {
				template = mr_por_de_lima_venceslau_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_de_lima_created #Makes sure de Lima is not already created
		}
		4 = { #Vladimir Prokhorovich Amalitskii, Russia
			trigger = {
				NOT = { has_global_variable = dubois_amalitskii_created }
				OR = {
					c:RUS ?= this
					AND = {
						country_has_primary_culture = cu:russian
						has_state_in_state_region = STATE_ARKHANGELSK
					}
				}
				game_date < 1905.7.13 #Age 55
				year >= 1890 #Extraordinary professor at the Warsaw University
			}
			create_character = {
				template = mr_rus_amalitskii_vladimir_prokhorovich_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_female_glasses_var #Unique for Amalitskii, mostly used for clothing
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_amalitskii_created #Makes sure Amalitskii is not already created
		}
		4 = { #Lucas Mallada, Spain
			trigger = {
				NOT = { has_global_variable = dubois_mallada_created }
				has_state_in_state_region = STATE_ARAGON
				NOT = {
					cu:spanish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1896.10.18 #Age 55
				year >= 1880 #Professor of Paleontology in Madrid
			}
			create_character = {
				template = mr_spa_mallada_lucas_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_mallada_created #Makes sure Mallada is not already created
		}
		4 = { #Oswald Heer, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_heer_created }
				mr_country_owns_glarus_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1864.8.31 #Age 55
				year >= 1834 #Finished studies in Zürich
			}
			create_character = {
				template = mr_swi_heer_oswald_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_heer_created #Makes sure Heer is not already created
		}
		4 = { #Ludwig Rütimeyer, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_rutimeyer_created }
				mr_country_owns_bern_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1880.2.26 #Age 55
				year >= 1854 #Habilitated
			}
			create_character = {
				template = mr_swi_rutimeyer_ludwig_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_rutimeyer_created #Makes sure Rütimeyer is not already created
		}
		4 = { #Hans Georg Stehlin, Switzerland
			trigger = {
				NOT = { has_global_variable = dubois_stehlin_created }
				mr_country_owns_basel_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1925.1.13 #Age 55
				year >= 1893 #Earned his doctorate
			}
			create_character = {
				template = mr_swi_stehlin_hans_georg_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_stehlin_created #Makes sure Stehlin is not already created
		}
		4 = { #Edward Drinker Cope, USA
			trigger = {
				NOT = { has_global_variable = dubois_cope_created }
				c:USA ?= this
				game_date < 1895.6.28 #Age 55
				year >= 1864 #Became Professor at Haverford College
			}
			create_character = {
				template = mr_usa_cope_edward_drinker_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_cope_created #Makes sure Cope is not already created
		}
		4 = { #Othniel Charles Marsh, USA
			trigger = {
				NOT = { has_global_variable = dubois_marsh_created }
				c:USA ?= this
				game_date < 1886.10.29 #Age 55
				year >= 1866 #Became Professor at Yale College
			}
			create_character = {
				template = mr_usa_marsh_othniel_charles_character_template

				save_scope_as = dubois_new_paleontologist_scope
			}
			scope:dubois_new_paleontologist_scope = {
				set_variable = mr_is_paleontologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				paleontologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = dubois_new_paleontologist_var
				value = scope:dubois_new_paleontologist_scope
			}

			set_global_variable = dubois_marsh_created #Makes sure Marsh is not already created
		}
		1 = { #Random Paleontologist (fallback and to make it uncertain for historical ones to appear)
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = dubois_new_paleontologist_scope
					}
					scope:dubois_new_paleontologist_scope = {
						add_trait = dubois_paleontologist
						set_variable = mr_is_paleontologist_var
						paleontologist_experience_set_up_effect = yes
						mr_trait_generation_paleontologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = dubois_new_paleontologist_var
						value = scope:dubois_new_paleontologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = dubois_new_paleontologist_scope
					}
					scope:dubois_new_paleontologist_scope = {
						add_trait = dubois_paleontologist
						set_variable = mr_is_paleontologist_var
						paleontologist_experience_set_up_effect = yes
						mr_trait_generation_paleontologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = dubois_new_paleontologist_var
						value = scope:dubois_new_paleontologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:dubois_new_paleontologist_var = {
		save_scope_as = dubois_new_paleontologist_scope
	}
}

# Set new Paleontologist as official Paleontologist
dubois_set_new_paleontologist_as_paleontologist_effect = {
	custom_tooltip = {
		text = dubois_replace_paleontologist_with_new_paleontologist_tt
	
		if = {
			limit = {
				has_variable = dubois_paleontologist_var
			}
			var:dubois_paleontologist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = dubois_paleontologist_var
			value = scope:dubois_new_paleontologist_scope
		}

		remove_variable = dubois_new_paleontologist_var
	}
}

# Remove new Paleontologist
dubois_remove_new_paleontologist_effect = {
	scope:dubois_new_paleontologist_scope = {
		free_character_from_void = no
	}

	remove_variable = dubois_new_paleontologist_var
}

# Used to set up the Experience of a character 
paleontologist_experience_set_up_effect = {
	general_experience_set_up_effect = {
		TYPE = dubois_paleontologist_experience
		UNI_PM = pm_dubois_university_natural_history
	}
	if = { #Adds the Experienced Paleontologist Trait if Experience is above 100
		limit = {
			var:dubois_paleontologist_experience >= 100
			NOT = {
				var:dubois_paleontologist_experience >= 300
			}
			NOR = {
				has_trait = dubois_paleontologist_experienced
				has_trait = dubois_paleontologist_famous
			}
		}
		remove_trait = dubois_paleontologist
		add_trait = dubois_paleontologist_experienced
	}
	if = { #Adds the Famous Paleontologist Trait if Experience is above 100
		limit = {
			var:dubois_paleontologist_experience >= 300
			NOT = {
				has_trait = dubois_paleontologist_famous
			}
		}
		remove_trait = dubois_paleontologist
		remove_trait = dubois_paleontologist_experienced
		add_trait = dubois_paleontologist_famous
	}
}

#Paleontologist Experience gain
paleontologist_experience_gain_effect = { #adds XP to the Paleontologist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = dubois_paleontologist_var #should only add experience if there actually is an Paleontologist
		}
		custom_tooltip = {
			text = dubois_paleontologist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:dubois_paleontologist_var = { #Fallback to make sure there are no errors if the Paleontologist does not have the variable yet
							has_variable = dubois_paleontologist_experience
						}
					}
				}
				var:dubois_paleontologist_var = { #Sets the experience in case it was not set yet
					paleontologist_experience_set_up_effect = yes
				}
			}
			var:dubois_paleontologist_var = {
				change_variable = {
					name = dubois_paleontologist_experience
					add = $AMOUNT$
				}
			}
		}
		var:dubois_paleontologist_var = {
			if = {
				limit = {
					var:dubois_paleontologist_experience >= 100
					NOT = {
						var:dubois_paleontologist_experience >= 300
					}
					NOR = {
						has_trait = dubois_paleontologist_experienced
						has_trait = dubois_paleontologist_famous
					}
				}
				remove_trait = dubois_paleontologist
				add_trait = dubois_paleontologist_experienced
				root = {
					trigger_event = {
						id = academics.112
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:dubois_paleontologist_experience >= 300
					NOT = {
						has_trait = dubois_paleontologist_famous
					}
				}
				remove_trait = dubois_paleontologist
				remove_trait = dubois_paleontologist_experienced
				add_trait = dubois_paleontologist_famous
				root = {
					trigger_event = {
						id = academics.113
						popup = yes
					}
				}
			}
		}
	}
}

######Biologist######

#This effect kills the current Biologist
# !!! Change stuff in both of the following effects !!!
kill_biologist_effect = {
	var:theiler_biologist_var = {
		free_character_from_void = no
	}

	remove_variable = theiler_biologist_var
	if = {
		limit = { has_modifier = academics_biologist_emeritus_delayed_modifier }
		remove_modifier = academics_biologist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Biologist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_biologist_effect = {
	custom_tooltip = {
		text = retire_biologist_effect_tt

		var:theiler_biologist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = theiler_biologist_var
	if = {
		limit = { has_modifier = academics_biologist_emeritus_delayed_modifier }
		remove_modifier = academics_biologist_emeritus_delayed_modifier
	}
}

# Creates a new Biologist without losing the old one
create_new_biologist_effect = {
	random_list = {
		1 = { #Random Biologist
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = theiler_new_biologist_scope
					}
					scope:theiler_new_biologist_scope = {
						add_trait = theiler_biologist
						set_variable = mr_is_biologist_var
						biologist_experience_set_up_effect = yes
						mr_trait_generation_biologist_effect = yes
						place_character_in_void = 1200	
					}
					set_variable = {
						name = theiler_new_biologist_var
						value = scope:theiler_new_biologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = theiler_new_biologist_scope
					}
					scope:theiler_new_biologist_scope = {
						add_trait = theiler_biologist
						set_variable = mr_is_biologist_var
						biologist_experience_set_up_effect = yes
						mr_trait_generation_biologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = theiler_new_biologist_var
						value = scope:theiler_new_biologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:theiler_new_biologist_var = {
		save_scope_as = theiler_new_biologist_scope
	}
}

# Set new Biologist as official Biologist
theiler_set_new_biologist_as_biologist_effect = {
	custom_tooltip = {
		text = theiler_replace_biologist_with_new_biologist_tt
	
		if = {
			limit = {
				has_variable = theiler_biologist_var
			}
			var:theiler_biologist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = theiler_biologist_var
			value = scope:theiler_new_biologist_scope
		}

		remove_variable = theiler_new_biologist_var
	}
}

# Remove new Biologist
theiler_remove_new_biologist_effect = {
	scope:theiler_new_biologist_scope = {
		free_character_from_void = no
	}
	remove_variable = theiler_new_biologist_var
}

# Used to set up the Experience of a character 
biologist_experience_set_up_effect = {
	#Adds biologist experience (see effect for further information)
	general_experience_set_up_effect = {
		TYPE = theiler_biologist_experience
		UNI_PM = pm_dubois_university_natural_history
	}
	
	if = { #Adds the Experienced biologist Trait if Experience is above 100
		limit = {
			var:theiler_biologist_experience >= 100
			NOT = {
				var:theiler_biologist_experience >= 300
			}
			NOR = {
				has_trait = theiler_biologist_experienced
				has_trait = theiler_biologist_famous
			}
		}
		remove_trait = theiler_biologist
		add_trait = theiler_biologist_experienced
	}
	if = { #Adds the Famous biologist Trait if Experience is above 300
		limit = {
			var:theiler_biologist_experience >= 300
			NOT = {
				has_trait = theiler_biologist_famous
			}
		}
		remove_trait = theiler_biologist
		remove_trait = theiler_biologist_experienced
		add_trait = theiler_biologist_famous
	}
}

#Biologist Experience gain
biologist_experience_gain_effect = { #adds XP to the Biologist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = theiler_biologist_var #should only add experience if there actually is an Biologist
		}
		custom_tooltip = {
			text = theiler_biologist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:theiler_biologist_var = { #Fallback to make sure there are no errors if the Biologist does not have the variable yet
							has_variable = theiler_biologist_experience
						}
					}
				}
				var:theiler_biologist_var = { #Sets the experience in case it was not set yet
					biologist_experience_set_up_effect = yes
				}
			}
			var:theiler_biologist_var = {
				change_variable = {
					name = theiler_biologist_experience
					add = $AMOUNT$
				}
			}
		}
		var:theiler_biologist_var = {
			if = {
				limit = {
					var:theiler_biologist_experience >= 100
					NOT = {
						var:theiler_biologist_experience >= 300
					}
					NOR = {
						has_trait = theiler_biologist_experienced
						has_trait = theiler_biologist_famous
					}
				}
				remove_trait = theiler_biologist
				add_trait = theiler_biologist_experienced
				root = {
					trigger_event = {
						id = academics.114
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:theiler_biologist_experience >= 300
					NOT = {
						has_trait = theiler_biologist_famous
					}
				}
				remove_trait = theiler_biologist
				remove_trait = theiler_biologist_experienced
				add_trait = theiler_biologist_famous
				root = {
					trigger_event = {
						id = academics.115
						popup = yes
					}
				}
			}
		}
	}
}

######ARCHAEOLOGIST######

#Effect to kill the current Archaeologist
# !!! Change stuff in both of the following effects !!!
kill_archaeologist_effect = {
	var:lepsius_archaeologist_var = {
		free_character_from_void = no
	}

	remove_variable = lepsius_archaeologist_var
	if = {
		limit = { has_modifier = academics_archaeologist_emeritus_delayed_modifier }
		remove_modifier = academics_archaeologist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Archaeologist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_archaeologist_effect = {
	custom_tooltip = {
		text = retire_archaeologist_effect_tt

		var:lepsius_archaeologist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = lepsius_archaeologist_var
	if = {
		limit = { has_modifier = academics_archaeologist_emeritus_delayed_modifier }
		remove_modifier = academics_archaeologist_emeritus_delayed_modifier
	}
}

# Creates a new Archaeologist without losing the old one
create_new_archaeologist_effect = {
	random_list = { #Each Entry has a chance to appear if the triggers are met.
		100 = { #Teoberto Maler, Austria
			trigger = {
				NOT = { has_global_variable = lepsius_maler_created }
				OR = {
					has_state_in_state_region = STATE_AUSTRIA
					has_state_in_state_region = STATE_OAXACA
				}
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1897.1.12 #Age 55
				year >= 1867 #Not exact. Came to Mexico around that time
			}
			create_character = {
				template = mr_aus_maler_teoberto_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #This is basically the role of Archaeologist for a country, makes it possible to access character
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_maler_created #Makes sure Maler is not already created
		}
		100 = { #Guowei Wang, China
			trigger = {
				NOT = { has_global_variable = lepsius_wang_created }
				OR = {
					c:CHI ?= this
					country_has_primary_culture = cu:han
				}
				game_date < 1932.12.3 #Age 55
				year >= 1902 #Returned from Japan to China
			}
			create_character = {
				template = mr_chi_wang_guowei_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_chinese_headgear_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #This is basically the role of Archaeologist for a country, makes it possible to access character
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_wang_created #Makes sure Wang is not already created
		}
		100 = { #Paul-Émile Botta
			trigger = {
				NOT = { has_global_variable = lepsius_botta_created }
				c:FRA ?= this
				game_date < 1857.12.6 #Age 55
				year >= 1831 #Travel to Cairo
			}
			create_character = {
				template = mr_fra_botta_paul_emile_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_botta_created #Makes sure Botta is not already created
		}
		100 = { #Auguste Mariette, France
			trigger = {
				NOT = { has_global_variable = lepsius_mariette_created }
				c:FRA ?= this
				game_date < 1876.2.11 #Age 55
				year >= 1850 #First Journey to Egypt
			}
			create_character = {
				template = mr_fra_mariette_auguste_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_mariette_created #Makes sure Mariette is not already created
		}
		100 = { #Howard Carter, Great Britain
			trigger = {
				NOT = { has_global_variable = lepsius_carter_created }
				c:GBR ?= this
				game_date < 1929.5.9 #Age 55
				year >= 1899 #Inspector of Monuments for Upper Egypt in the Egyptian Antiquities Service 
			}
			create_character = {
				template = mr_gbr_carter_howard_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_bowlerhat_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_carter_created #Makes sure Carter is not already created
		}
		100 = { #Alfred Maudslay, Great Britain
			trigger = {
				NOT = { has_global_variable = lepsius_maudslay_created }
				OR = {
					has_state_in_state_region = STATE_GUATEMALA
					c:GBR ?= this
					country_has_primary_culture = cu:british
				}
				NOT = {
					cu:british = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1905.3.18 #Age 55
				year >= 1880 #Inspector of Monuments for Upper Egypt in the Egyptian Antiquities Service 
			}
			create_character = {
				template = mr_gbr_maudslay_alfred_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_maudslay_created #Makes sure Maudslay is not already created
		}
		100 = { #Flinders Petrie
			trigger = {
				NOT = { has_global_variable = lepsius_petrie_created }
				c:GBR ?= this
				game_date < 1908.6.3 #Age 55
				year >= 1880 #First Travel to Giza
			}
			create_character = {
				template = mr_gbr_petrie_flinders_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_petrie_created #Makes sure Petrie is not already created
		}
		100 = { #Henry Creswicke Rawlinson
			trigger = {
				NOT = { has_global_variable = lepsius_rawlinson_created }
				c:GBR ?= this
				game_date < 1865.4.11 #Age 55
				year >= 1836 #Started Transcription of inscription at Behistun
			}
			create_character = {
				template = mr_gbr_rawlinson_henry_creswick_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_no_headgear_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_rawlinson_created #Makes sure Rawlinson is not already created
		}
		100 = { #Émile Gilliéron
			trigger = {
				NOT = { has_global_variable = lepsius_gillieron_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1906.10.26 #Age 55
				year >= 1877 #Artist in Athens
			}
			create_character = {
				template = mr_gre_gillieron_emile_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_gillieron_created #Makes sure Gilliéron is not already created
		}
		100 = { #Semni Karouzou
			trigger = {
				NOT = { has_global_variable = lepsius_karouzou_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					has_law = law_type:law_no_womens_rights
				}
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1952.4.2 #Age 55
				year >= 1921 #Joined Archaeological Service
			}
			create_character = {
				template = mr_gre_karouzou_semni_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_karouzou_created #Makes sure Karouzou is not already created
		}
		100 = { #Panagiotis Kavvadias
			trigger = {
				NOT = { has_global_variable = lepsius_kavvadias_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1905.5.14 #Age 55
				year >= 1879 #Entered Archaeological Service
			}
			create_character = {
				template = mr_gre_kavvadias_panagiotis_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_kavvadias_created #Makes sure Kavvadias is not already created
		}
		100 = { #Stefanos Koumanoudis
			trigger = {
				NOT = { has_global_variable = lepsius_koumanoudis_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1873.4.2 #Age 55
				year >= 1850 #became the secretary of the Archaeological Society of Athens around this time
			}
			create_character = {
				template = mr_gre_stefanos_koumanoudis_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_koumanoudis_created #Makes sure Koumanoudis is not already created
		}
		100 = { #Kyriakos Pittakis
			trigger = {
				NOT = { has_global_variable = lepsius_pittakis_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1853.4.2 #Age 55
				year >= 1832 #custodian of the antiquities in Athens
			}
			create_character = {
				template = mr_gre_pittakis_kyriakos_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_pittakis_created #Makes sure Pittakis is not already created
		}
		100 = { #Valerios Stais
			trigger = {
				NOT = { has_global_variable = lepsius_stais_created }
				has_state_in_state_region = STATE_ATTICA
				NOT = {
					cu:greek = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1912.4.2 #Age 55
				year >= 1887 #started work for the National Archaeological Museum of Athens
			}
			create_character = {
				template = mr_gre_stais_valerios_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_stais_created #Makes sure Stais is not already created
		}
		100 = { #Ernst Curtius, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_curtius_created }
				OR = {
					country_has_primary_culture = cu:north_german
					c:GER ?= this
				}
				game_date < 1869.9.2 #Age 55
				year >= 1844 #Praeceptor of Prince Friedrich Wilhelm
			}
			create_character = {
				template = mr_ger_curtius_ernst_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_curtius_created #Makes sure Curtius is not already created
		}
		100 = { #Friedrich Delitzsch, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_delitzsch_created }
				OR = {
					has_state_in_state_region = STATE_FRANCONIA
					has_state_in_state_region = STATE_SAXONY
					has_state_in_state_region = STATE_SILESIA
					has_state_in_state_region = STATE_BRANDENBURG
				}
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1905.9.3 #Age 55
				year >= 1877 #Professor in Leipzig
			}
			create_character = {
				template = mr_ger_delitzsch_friedrich_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_delitzsch_created #Makes sure Delitzsch is not already created
		}
		100 = { #Robert Koldewey, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_koldewey_created }
				OR = {
					country_has_primary_culture = cu:north_german
					c:GER ?= this
				}
				game_date < 1910.9.10 #Age 55
				year >= 1882 #First Excavation
			}
			create_character = {
				template = mr_ger_koldewey_robert_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_koldewey_created #Makes sure Koldewey is not already created
		}
		100 = { #Franz Xaver Kugler, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_kugler_created }
				OR = {
					has_state_in_state_region = STATE_BAVARIA
					has_state_in_state_region = STATE_RHINELAND
					has_state_in_state_region = STATE_GELRE
				}
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1917.11.27 #Age 55
				year >= 1897 #Professor in Valkenburg
			}
			create_character = {
				template = mr_ger_kugler_franz_xaver_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_kugler_created #Makes sure Kugler is not already created
		}
		100 = { #Eduard Meyer, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_meyer_created }
				OR = {
					has_state_in_state_region = STATE_SAXONY
					has_state_in_state_region = STATE_SILESIA
					has_state_in_state_region = STATE_BRANDENBURG
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1910.1.25 #Age 55
				year >= 1879 #habilitated in Leipzig
			}
			create_character = {
				template = mr_ger_meyer_eduard_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_meyer_created #Makes sure Meyer is not already created
		}
		100 = { #Hugo Winckler, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_winckler_created }
				OR = {
					has_state_in_state_region = STATE_SAXONY
					has_state_in_state_region = STATE_BRANDENBURG
				}
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1918.7.4 #Age 55
				year >= 1886 #Finished Doctorate
			}
			create_character = {
				template = mr_ger_winckler_hugo_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_normal_glasses_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_winckler_created #Makes sure Winckler is not already created
		}
		100 = { #Pellegrino Strobel, Italy
			trigger = {
				NOT = { has_global_variable = dubois_strobel_created_global_var }
				has_state_in_state_region = STATE_EMILIA
				NOT = {
					cu:north_italian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1876.8.22 #Age 55
				year >= 1857 #Professor of Natural History in Piacenza
			}
			create_character = {
				template = mr_ita_strobel_pellegrino_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = lepsius_new_archaeologist_var
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = dubois_strobel_created_global_var
		}
		100 = { #Giuseppe Fiorelli
			trigger = {
				NOT = { has_global_variable = lepsius_fiorelli_created }
				OR = {
					country_has_primary_culture = cu:north_italian
					country_has_primary_culture = cu:south_italian
				}
				has_state_in_state_region = STATE_CAMPANIA
				game_date < 1878.6.7 #Age 55
				year >= 1844 #First work in Pompeii
			}
			create_character = {
				template = mr_ita_fiorelli_giuseppe_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_fiorelli_created #Makes sure Fiorelli is not already created
		}
		100 = { #Ernesto Schiaparelli
			trigger = {
				NOT = { has_global_variable = lepsius_schiaparelli_created }
				OR = {
					country_has_primary_culture = cu:north_italian
					country_has_primary_culture = cu:south_italian
				}
				p:xA9397D = {
					owner = root
				}
				game_date < 1911.7.12 #Age 55
				year >= 1881 #First time as a director of Egyptian Museum
			}
			create_character = {
				template = mr_ita_schiaparelli_ernesto_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_schiaparelli_created #Makes sure Schiaparelli is not already created
		}
		100 = { #Ryūzō Torii
			trigger = {
				NOT = { has_global_variable = mr_torii_created_global_var }
				has_state_in_state_region = STATE_SHIKOKU
				NOT = {
					cu:japanese = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1925.5.4 #Age 55
				year >= 1895 #First time abroad
			}
			create_character = {
				template = mr_jap_torii_ryuzo_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_normal_glasses_var
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = mr_torii_created_global_var #Makes sure Torii is not already created
		}
		100 = { #Leopoldo Batres, Mexico
			trigger = {
				NOT = { has_global_variable = lepsius_batres_created }
				has_state_in_state_region = STATE_MEXICO
				NOT = {
					cu:mexican = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1911.7.12 #Age 55
				year >= 1884 #Started excavations in Teotihuacan
			}
			create_character = {
				template = mr_mex_batres_leopoldo_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_tophat_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_batres_created #Makes sure Batres is not already created
		}
		100 = { #Estácio da Veiga, Portugal
			trigger = {
				NOT = { has_global_variable = lepsius_da_veiga_created }
				has_state_in_state_region = STATE_ALENTEJO
				NOT = {
					cu:portuguese = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1883.5.6 #Age 55
				year >= 1876 #Started inventory of archaeological finds in the Algarve
			}
			create_character = {
				template = mr_por_estacio_da_veiga_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_da_veiga_created #Makes sure da Veiga is not already created
		}
		100 = { #Federico Baraibar, Spain
			trigger = {
				NOT = { has_global_variable = lepsius_baraibar_created }
				has_state_in_state_region = STATE_NAVARRA
				NOT = {
					cu:basque = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1906.5.28 #Age 55
				year >= 1876 #Professor of Spanish and Latin
			}
			create_character = {
				template = mr_spa_federico_baraibar_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_normal_glasses_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_baraibar_created #Makes sure Baraibar is not already created
		}
		100 = { #Aureliano Fernández-Guerra, Spain
			trigger = {
				NOT = { has_global_variable = lepsius_fernandez_guerra_created }
				mr_country_owns_toledo_trigger = yes
				NOT = {
					cu:spanish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1871.6.16 #Age 55
				year >= 1853 #Member of the Historical part of the Real Academia Española
			}
			create_character = {
				template = mr_spa_fernandez_guerra_aureliano_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_fernandez_guerra_created #Makes sure Fernández-Guerra is not already created
		}
		100 = { #Louis Siret, Spain
			trigger = {
				NOT = { has_global_variable = lepsius_siret_created }
				OR = {
					has_state_in_state_region = STATE_GRANADA
					has_state_in_state_region = STATE_VALENCIA
				}
				NOT = {
					cu:wallonian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1915.8.26 #Age 55
				year >= 1885 #Sometimes around then he started archaeological work
			}
			create_character = {
				template = mr_spa_siret_louis_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_siret_created #Makes sure Siret is not already created
		}
		100 = { #Carl Gustav Bernoulli, Switzerland
			trigger = {
				NOT = { has_global_variable = lepsius_bernoulli_created }
				OR = {
					mr_country_owns_basel_trigger = yes
					has_state_in_state_region = STATE_GUATEMALA
				}
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1889.1.24 #Age 55
				year >= 1858 #Arrival in Guatemala
			}
			create_character = {
				template = mr_swi_bernoulli_carl_gustav_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_bernoulli_created #Makes sure Bernoulli is not already created
		}
		100 = { #Johann Jacob Bernoulli, Switzerland
			trigger = {
				NOT = { has_global_variable = lepsius_bernoulli_johann_jacob_created }
				mr_country_owns_basel_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1886.1.18 #Age 55
				year >= 1854 #Teacher in Basel
			}
			create_character = {
				template = mr_swi_bernoulli_johann_jacob_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_bernoulli_johann_jacob_created #Makes sure Bernoulli is not already created
		}
		100 = { #Ferdinand Keller, Switzerland
			trigger = {
				NOT = { has_global_variable = lepsius_keller_created }
				mr_country_owns_zurich_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1855.12.24 #Age 55
				year >= 1831 #Instructor in Zürich
			}
			create_character = {
				template = mr_swi_keller_ferdinand_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_keller_created #Makes sure Keller is not already created
		}
		100 = { #Jakob Messikommer, Switzerland
			trigger = {
				NOT = { has_global_variable = lepsius_messikommer_created }
				mr_country_owns_zurich_trigger = yes
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1883.08.18 #Age 55
				year >= 1857 #Started searching for archaeological remains
			}
			create_character = {
				template = mr_swi_messikommer_jakob_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_messikommer_created #Makes sure Messikommer is not already created
		}
		50 = { #Frances Eliza Babbitt, USA
			trigger = {
				NOT = { has_global_variable = lepsius_babbitt_created }
				c:USA ?= this
				OR = {
					has_law = law_type:law_women_own_property
					has_law = law_type:law_women_in_the_workplace
					has_law = law_type:law_womens_suffrage
				}
				game_date < 1879.1.24 #Age 55
				year >= 1854 #Age 30 (she was mostly active in 1879 and afterwards but then she will be retired soon).
			}
			create_character = {
				template = mr_usa_babbitt_frances_eliza_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_babbitt_created #Makes sure Babbitt is not already created
		}
		100 = { #Adolph Bandelier, USA
			trigger = {
				NOT = { has_global_variable = lepsius_bandelier_created }
				OR = {
					has_state_in_state_region = STATE_NEW_MEXICO
					has_state_in_state_region = STATE_ARIZONA
					has_state_in_state_region = STATE_COLORADO
					has_state_in_state_region = STATE_UTAH
				}
				NOT = {
					cu:alemannic = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1895.8.6 #Age 55
				year >= 1870 #Random year when he was 30
			}
			create_character = {
				template = mr_usa_bandelier_adolph_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_bandelier_created #Makes sure Bandelier is not already created
		}
		50 = { #Harriet Ann Boyd, USA
			trigger = {
				NOT = { has_global_variable = lepsius_boyd_created }
				c:USA ?= this
				OR = {
					has_law = law_type:law_women_own_property
					has_law = law_type:law_women_in_the_workplace
					has_law = law_type:law_womens_suffrage
				}
				game_date < 1926.10.11 #Age 55
				year >= 1899 #First journey to Crete
			}
			create_character = {
				template = mr_usa_boyd_harriet_ann_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_female_agitator_clothes_var
				set_variable = mr_agitator_headgear
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_boyd_created #Makes sure Boyd is not already created
		}
		100 = { #Samuel Foster Haven, USA
			trigger = {
				NOT = { has_global_variable = lepsius_haven_created }
				c:USA ?= this
				game_date < 1861.5.28 #Age 55
				year >= 1836 #Started interest in Archaeology
			}
			create_character = {
				template = mr_usa_haven_samuel_foster_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_haven_created #Makes sure Haven is not already created
		}
		10 = { #Henry Jones Sr.
			trigger = {
				NOT = { has_global_variable = lepsius_jones_sr_created }
				c:USA ?= this
				game_date < 1927.12.12 #Age 55
				year >= 1912 #Arrival in Utah
			}
			create_character = {
				template = mr_usa_jones_sr_henry_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = lepsius_jones_sr_created #Makes sure Jones is not already created
		}
		1 = { #Isaac Lincoln
			trigger = {
				NOT = { has_global_variable = mr_isaac_lincoln_created }
				c:USA ?= this
				game_date < 1864.2.12 #Age 55
				game_date >= 1839.2.12
			}
			create_character = {
				template = mr_usa_lincoln_isaac_character_template

				save_scope_as = lepsius_new_archaeologist_scope
			}
			scope:lepsius_new_archaeologist_scope = {
				set_variable = mr_tophat_var
				set_variable = mr_is_archaeologist_var #Could be used for clothing or a role in the future
				archaeologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_archaeologist_var #Used to set the scope again
				value = scope:lepsius_new_archaeologist_scope
			}

			set_global_variable = mr_isaac_lincoln_created #Makes sure Lincoln is not already created
		}
		25 = { #Random Archaeologist (fallback and to make it uncertain for historical once to appear)
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = lepsius_new_archaeologist_scope
					}
					scope:lepsius_new_archaeologist_scope = {
						add_trait = lepsius_archaeologist
						set_variable = mr_is_archaeologist_var
						archaeologist_experience_set_up_effect = yes
						mr_trait_generation_archaeologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = lepsius_new_archaeologist_var
						value = scope:lepsius_new_archaeologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = lepsius_new_archaeologist_scope
					}
					scope:lepsius_new_archaeologist_scope = {
						add_trait = lepsius_archaeologist
						set_variable = mr_is_archaeologist_var
						archaeologist_experience_set_up_effect = yes
						mr_trait_generation_archaeologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = lepsius_new_archaeologist_var
						value = scope:lepsius_new_archaeologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:lepsius_new_archaeologist_var = {
		save_scope_as = lepsius_new_archaeologist_scope
	}
}

# Set new Archaeologist as official Archaeologist
lepsius_set_new_archaeologist_as_archaeologist_effect = {
	custom_tooltip = {
		text = lepsius_replace_archaeologist_with_new_archaeologist_tt
	
		if = {
			limit = {
				has_variable = lepsius_archaeologist_var
			}
			var:lepsius_archaeologist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = lepsius_archaeologist_var
			value = scope:lepsius_new_archaeologist_scope
		}

		remove_variable = lepsius_new_archaeologist_var
	}
}

# Remove new Archaeologist
lepsius_remove_new_archaeologist_effect = {
	scope:lepsius_new_archaeologist_scope = {
		free_character_from_void = no
	}

	remove_variable = lepsius_new_archaeologist_var
}

# Used to set up the Experience of a character 
archaeologist_experience_set_up_effect = { #This effect needs to be placed in the scope of the new character!
	general_experience_set_up_effect = {
		TYPE = lepsius_archaeologist_experience
		UNI_PM = pm_dubois_university_humanities
	}
	if = { #Adds the Experienced Archaeologist Trait if Experience is above 100
		limit = {
			var:lepsius_archaeologist_experience >= 100
			NOT = {
				var:lepsius_archaeologist_experience >= 300
			}
			NOR = {
				has_trait = lepsius_archaeologist_experienced
				has_trait = lepsius_archaeologist_famous
			}
		}
		remove_trait = lepsius_archaeologist
		add_trait = lepsius_archaeologist_experienced
	}
	if = { #Adds the Famous Archaeologist Trait if Experience is above 100
		limit = {
			var:lepsius_archaeologist_experience >= 300
			NOT = {
				has_trait = lepsius_archaeologist_famous
			}
		}
		remove_trait = lepsius_archaeologist
		remove_trait = lepsius_archaeologist_experienced
		add_trait = lepsius_archaeologist_famous
	}
}

#Archaeologist Experience gain
archaeologist_experience_gain_effect = { #adds XP to the Archaeologist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = lepsius_archaeologist_var #should only add experience if there actually is an archaeologist
		}
		custom_tooltip = {
			text = lepsius_archaeologist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:lepsius_archaeologist_var = { #Fallback to make sure there are no errors if the archaeologist does not have the variable yet
							has_variable = lepsius_archaeologist_experience
						}
					}
				}
				var:lepsius_archaeologist_var = { #Sets the experience in case it was not set yet
					archaeologist_experience_set_up_effect = yes
				}
			}
			var:lepsius_archaeologist_var = {
				change_variable = {
					name = lepsius_archaeologist_experience
					add = $AMOUNT$
				}
			}
		}
		var:lepsius_archaeologist_var = {
			if = {
				limit = {
					var:lepsius_archaeologist_experience >= 100
					NOT = {
						var:lepsius_archaeologist_experience >= 300
					}
					NOR = {
						has_trait = lepsius_archaeologist_experienced
						has_trait = lepsius_archaeologist_famous
					}
				}
				remove_trait = lepsius_archaeologist
				add_trait = lepsius_archaeologist_experienced
				root = {
					trigger_event = {
						id = academics.116
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:lepsius_archaeologist_experience >= 300
					NOT = {
						has_trait = lepsius_archaeologist_famous
					}
				}
				remove_trait = lepsius_archaeologist
				remove_trait = lepsius_archaeologist_experienced
				add_trait = lepsius_archaeologist_famous
				root = {
					trigger_event = {
						id = academics.117
						popup = yes
					}
				}
			}
		}
	}
}

######ANTHROPOLOGIST######

#Effect to kill the current Anthropologist
# !!! Change stuff in both of the following effects !!!
kill_anthropologist_effect = {
	var:lepsius_anthropologist_var = {
		free_character_from_void = no
	}

	remove_variable = lepsius_anthropologist_var
	if = {
		limit = { has_modifier = academics_anthropologist_emeritus_delayed_modifier }
		remove_modifier = academics_anthropologist_emeritus_delayed_modifier
	}
}
#This Effect retires the current Anthropologist
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_anthropologist_effect = {
	custom_tooltip = {
		text = retire_anthropologist_effect_tt

		var:lepsius_anthropologist_var = {
			free_character_from_void = no
		}
	}

	remove_variable = lepsius_anthropologist_var
	if = {
		limit = { has_modifier = academics_anthropologist_emeritus_delayed_modifier }
		remove_modifier = academics_anthropologist_emeritus_delayed_modifier
	}
}

# Creates a new Anthropologist without losing the old one
create_new_anthropologist_effect = {
	random_list = { #Each Entry has a chance to appear if the triggers are met.
		4 = { #Davidson Black, Canada
			trigger = {
				NOT = { has_global_variable = lepsius_black_created }
				OR = {
					has_state_in_state_region = STATE_ONTARIO
					has_state_in_state_region = STATE_BEIJING
				}
				NOT = {
					cu:anglo_canadian = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1939.7.25 #Age 55
				year > 1914 #Interest in Paleoanthropology started
			}
			create_character = {
				template = mr_can_davidson_black_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_female_glasses_var
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = lepsius_black_created #Makes sure Black is not already created
		}
		4 = { #Henri Breuil, France
			trigger = {
				NOT = { has_global_variable = lepsius_breuil_created }
				OR = {
					has_state_in_state_region = STATE_WEST_SWITZERLAND
					has_state_in_state_region = STATE_ILE_DE_FRANCE
					has_state_in_state_region = STATE_GUYENNE
				}
				NOT = {
					cu:french = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1932.2.28 #Age 55
				year > 1901 #Found caves of Les Combarelles
			}
			create_character = {
				template = mr_fra_breuil_henri_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_devout_clothing
				set_variable = mr_bowlerhat_var
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = lepsius_breuil_created #Makes sure Breuil is not already created
		}
		4 = { #Johann Carl Fuhlrott, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_fuhlrott_created }
				has_state_in_state_region = STATE_SAXONY
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1858.12.31 #Age 55
				year > 1835 #Got his Dr. degree
			}
			create_character = {
				template = mr_ger_fuhlrott_johann_carl_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = lepsius_fuhlrott_created #Makes sure Fuhlrott is not already created
		}
		4 = { #Hermann Schaafhausen, Germany
			trigger = {
				NOT = { has_global_variable = lepsius_schaafhausen_created }
				has_state_in_state_region = STATE_NORTH_RHINE
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1871.7.19 #Age 55
				year > 1839 #received his doctorate degree
			}
			create_character = {
				template = mr_ger_schaafhausen_hermann_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = lepsius_schaafhausen_created #Makes sure Schaafhausen is not already created
		}
		4 = { #Thomas Henry Huxley, Great Britain
			trigger = {
				NOT = { has_global_variable = lepsius_huxley_created }
				c:GBR ?= this
				game_date < 1880.5.4 #Age 55
				year > 1846 #First Expedition
			}
			create_character = {
				template = mr_gbr_huxley_thomas_henry_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = lepsius_huxley_created #Makes sure Huxley is not already created
		}
		4 = { #Ryūzō Torii
			trigger = {
				NOT = { has_global_variable = mr_torii_created_global_var }
				has_state_in_state_region = STATE_SHIKOKU
				NOT = {
					cu:japanese = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1925.5.4 #Age 55
				year >= 1895 #First time abroad
			}
			create_character = {
				template = mr_jap_torii_ryuzo_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				set_variable = mr_normal_glasses_var
				set_variable = mr_no_headgear_var
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var #Used to set the scope again
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = mr_torii_created_global_var #Makes sure Torii is not already created
		}
		4 = { #Johan Gunnar Andersson, Sweden
			trigger = {
				NOT = { has_global_variable = lepsius_andersson_created }
				OR = {
					has_state_in_state_region = STATE_SVEALAND
					has_state_in_state_region = STATE_BEIJING
				}
				NOT = {
					cu:swedish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1929.7.3 #Age 55
				year > 1901 #First Expedition to Antarctica
			}
			create_character = {
				template = mr_swe_andersson_johan_gunnar_character_template

				save_scope_as = lepsius_new_anthropologist_scope
			}
			scope:lepsius_new_anthropologist_scope = {
				set_variable = mr_is_anthropologist_var #Could be used for clothing or a role in the future
				set_variable = mr_no_headgear_var
				anthropologist_experience_set_up_effect = yes #sets up experience for the character (0 till 30 and then 10 Experience per year)
				place_character_in_void = 1200 #This is needed so the character doesn't disappear
			}

			set_variable = {
				name = lepsius_new_anthropologist_var
				value = scope:lepsius_new_anthropologist_scope
			}

			set_global_variable = lepsius_andersson_created #Makes sure Andersson is not already created
		}
		1 = { #Random Anthropologist (fallback and to make it uncertain for historical once to appear)
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = lepsius_new_anthropologist_scope
					}
					scope:lepsius_new_anthropologist_scope = {
						add_trait = lepsius_anthropologist
						set_variable = mr_is_anthropologist_var
						anthropologist_experience_set_up_effect = yes
						mr_trait_generation_anthropologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = lepsius_new_anthropologist_var
						value = scope:lepsius_new_anthropologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = lepsius_new_anthropologist_scope
					}
					scope:lepsius_new_anthropologist_scope = {
						add_trait = lepsius_anthropologist
						set_variable = mr_is_anthropologist_var
						anthropologist_experience_set_up_effect = yes
						mr_trait_generation_anthropologist_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = lepsius_new_anthropologist_var
						value = scope:lepsius_new_anthropologist_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:lepsius_new_anthropologist_var = {
		save_scope_as = lepsius_new_anthropologist_scope
	}
}

# Set new Anthropologist as official Anthropologist
lepsius_set_new_anthropologist_as_anthropologist_effect = {
	custom_tooltip = {
		text = lepsius_replace_anthropologist_with_new_anthropologist_tt
	
		if = {
			limit = {
				has_variable = lepsius_anthropologist_var
			}
			var:lepsius_anthropologist_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = lepsius_anthropologist_var
			value = scope:lepsius_new_anthropologist_scope
		}

		remove_variable = lepsius_new_anthropologist_var
	}
}

# Remove new Anthropologist
lepsius_remove_new_anthropologist_effect = {
	scope:lepsius_new_anthropologist_scope = {
		free_character_from_void = no
	}

	remove_variable = lepsius_new_anthropologist_var
}

# Used to set up the Experience of a character 
anthropologist_experience_set_up_effect = {
	general_experience_set_up_effect = {
		TYPE = lepsius_anthropologist_experience
		UNI_PM = pm_dubois_university_humanities
	}
	if = { #Adds the Experienced Anthropologist Trait if Experience is above 100
		limit = {
			var:lepsius_anthropologist_experience >= 100
			NOT = {
				var:lepsius_anthropologist_experience >= 300
			}
			NOR = {
				has_trait = lepsius_anthropologist_experienced
				has_trait = lepsius_anthropologist_famous
			}
		}
		remove_trait = lepsius_anthropologist
		add_trait = lepsius_anthropologist_experienced
	}
	if = { #Adds the Famous Anthropologist Trait if Experience is above 100
		limit = {
			var:lepsius_anthropologist_experience >= 300
			NOT = {
				has_trait = lepsius_anthropologist_famous
			}
		}
		remove_trait = lepsius_anthropologist
		remove_trait = lepsius_anthropologist_experienced
		add_trait = lepsius_anthropologist_famous
	}
}

#Anthropologist Experience gain
anthropologist_experience_gain_effect = { #adds XP to the Anthropologist
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = lepsius_anthropologist_var #should only add experience if there actually is an Anthropologist
		}
		custom_tooltip = {
			text = lepsius_anthropologist_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:lepsius_anthropologist_var = { #Fallback to make sure there are no errors if the Anthropologist does not have the variable yet
							has_variable = lepsius_anthropologist_experience
						}
					}
				}
				var:lepsius_anthropologist_var = { #Sets the experience in case it was not set yet
					anthropologist_experience_set_up_effect = yes
				}
			}
			var:lepsius_anthropologist_var = {
				change_variable = {
					name = lepsius_anthropologist_experience
					add = $AMOUNT$
				}
			}
		}
		var:lepsius_anthropologist_var = {
			if = {
				limit = {
					var:lepsius_anthropologist_experience >= 100
					NOT = {
						var:lepsius_anthropologist_experience >= 300
					}
					NOR = {
						has_trait = lepsius_anthropologist_experienced
						has_trait = lepsius_anthropologist_famous
					}
				}
				remove_trait = lepsius_anthropologist
				add_trait = lepsius_anthropologist_experienced
				root = {
					trigger_event = {
						id = academics.118
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:lepsius_anthropologist_experience >= 300
					NOT = {
						has_trait = lepsius_anthropologist_famous
					}
				}
				remove_trait = lepsius_anthropologist
				remove_trait = lepsius_anthropologist_experienced
				add_trait = lepsius_anthropologist_famous
				root = {
					trigger_event = {
						id = academics.119
						popup = yes
					}
				}
			}
		}
	}
}

######Physician######

#This effect kills the current Physician
# !!! Change stuff in both of the following effects !!!
kill_physician_effect = {
	var:panum_physician_var = {
		free_character_from_void = no
	}

	remove_variable = panum_physician_var
	if = {
		limit = { has_modifier = academics_physician_emeritus_delayed_modifier }
		remove_modifier = academics_physician_emeritus_delayed_modifier
	}
}
#This Effect retires the current Physician
# Use "set_retirement_variable_effect" in the immediate effect when using this effect.
retire_physician_effect = {
	custom_tooltip = {
		text = retire_physician_effect_tt

		var:panum_physician_var = {
			free_character_from_void = no
		}
	}

	remove_variable = panum_physician_var
	if = {
		limit = { has_modifier = academics_physician_emeritus_delayed_modifier }
		remove_modifier = academics_physician_emeritus_delayed_modifier
	}
}

# Creates a new Physician without losing the old one
create_new_physician_effect = {
	random_list = {
		4 = { #Ignaz Semmelweis, Austria
			trigger = {
				NOT = { has_global_variable = panum_semmelweis_created_global_var }
				has_state_in_state_region = STATE_CENTRAL_HUNGARY
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1873.07.01 #Age 55
				year >= 1844 #Finished studies
			}
			create_character = {
				template = mr_aus_semmelweis_ignaz_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_semmelweis_created_global_var
		}
		4 = { #Carlos Finlay, Cuba
			trigger = {
				NOT = { has_global_variable = panum_finlay_created_global_var }
				has_state_in_state_region = STATE_CUBA
				NOT = {
					cu:caribeno = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1888.12.3 #Age 55
				year >= 1855 #Graduated
			}
			create_character = {
				template = mr_cub_finlay_carlos_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_finlay_created_global_var
		}
		4 = { #Peter Panum, Denmark
			trigger = {
				NOT = { has_global_variable = panum_panum_created_global_var }
				OR = {
					has_state_in_state_region = STATE_SCHLESWIG_HOLSTEIN
					has_state_in_state_region = STATE_ZEALAND
				}
				NOT = {
					cu:danish = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1875.12.19 #Age 55
				year >= 1845 #Finished studies
			}
			create_character = {
				template = mr_den_panum_peter_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_panum_created_global_var
		}
		4 = { #Robert Koch, Germany
			trigger = {
				NOT = { has_global_variable = panum_koch_created_global_var }
				has_state_in_state_region = STATE_BRUNSWICK #Born in Clausthal
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1898.11.11 #Age 55
				year >= 1866 #finished studies
			}
			create_character = {
				template = mr_ger_koch_robert_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_koch_created_global_var
		}
		4 = { #Robert Koch, Germany
			trigger = {
				NOT = { has_global_variable = panum_koch_created_global_var }
				has_state_in_state_region = STATE_BRUNSWICK #Born in Clausthal
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1898.11.11 #Age 55
				year >= 1866 #finished studies
			}
			create_character = {
				template = mr_ger_koch_robert_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_koch_created_global_var
		}
		4 = { #Johann Lukas Schönlein, Germany
			trigger = {
				NOT = { has_global_variable = panum_schonlein_created_global_var }
				has_state_in_state_region = STATE_FRANCONIA
				NOT = {
					cu:south_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1848.11.30 #Age 55
				year >= 1817 #Finished studies
			}
			create_character = {
				template = mr_ger_schonlein_johann_lukas_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_schonlein_created_global_var
		}
		4 = { #Rudolf Virchow, Germany
			trigger = {
				NOT = { has_global_variable = panum_virchow_created_global_var }
				has_state_in_state_region = STATE_POMERANIA #Born in Schiefelbein
				NOT = {
					cu:north_german = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1876.10.13 #Age 55
				year >= 1843 #Worked as a military physician
			}
			create_character = {
				template = mr_ger_virchow_rudolf_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_virchow_created_global_var
		}
		4 = { #John Snow, Great Britain
			trigger = {
				NOT = { has_global_variable = panum_snow_created_global_var }
				has_state_in_state_region = STATE_YORKSHIRE
				NOT = {
					cu:british = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1868.03.15 #Age 55
				year >= 1836 #Slightly too early but we want him to be a possible starting character
			}
			create_character = {
				template = mr_gbr_snow_john_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_snow_created_global_var
		}
		4 = { #John Snow, Great Britain
			trigger = {
				NOT = { has_global_variable = panum_lombroso_created_global_var }
				has_state_in_state_region = STATE_VENETIA
				NOT = {
					cu:ashkenazi = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1890.11.06 #Age 55
				year >= 1859 #Started working as an army surgeon
			}
			create_character = {
				template = mr_ita_lombroso_cesare_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_lombroso_created_global_var
		}
		4 = { #Alexandre Yersin, Switzerland
			trigger = {
				NOT = { has_global_variable = panum_yersin_created_global_var }
				OR = {
					mr_country_owns_vaud_trigger = yes
					has_state_in_state_region = STATE_ILE_DE_FRANCE
				}
				NOT = {
					cu:francoprovencal = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1918.09.22 #Age 55
				year >= 1886 #Worked at Pasteur Institute
			}
			create_character = {
				template = mr_swi_yersin_alexandre_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200	
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_yersin_created_global_var
		}
		4 = { #William Wood Gerhard, USA
			trigger = {
				NOT = { has_global_variable = panum_gerhard_created_global_var }
				has_state_in_state_region = STATE_PENNSYLVANIA
				NOT = {
					cu:yankee = {
						culture_is_discriminated_in = root
					}
				}
				game_date < 1854.07.23 #Age 55
				year >= 1836 #Active during a typhus outbreak
			}
			create_character = {
				template = mr_usa_gerhard_william_wood_character_template

				save_scope_as = panum_new_physician_scope
			}
			scope:panum_new_physician_scope = {
				set_variable = mr_is_physician_var
				set_variable = mr_no_headgear_var
				set_variable = mr_female_glasses_var
				physician_experience_set_up_effect = yes
				place_character_in_void = 1200
			}

			set_variable = {
				name = panum_new_physician_var
				value = scope:panum_new_physician_scope
			}

			set_global_variable = panum_gerhard_created_global_var
		}
		1 = { #Random Physician
			random_list = {
				1 = {
					create_character = {
						female = yes
						trait_generation = {}
						save_scope_as = panum_new_physician_scope
					}
					scope:panum_new_physician_scope = {
						add_trait = panum_physician
						set_variable = mr_is_physician_var
						physician_experience_set_up_effect = yes
						mr_trait_generation_physician_effect = yes
						place_character_in_void = 1200	
					}
					set_variable = {
						name = panum_new_physician_var
						value = scope:panum_new_physician_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = 4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = 9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = 19
						}
					}
				}
				99 = {
					create_character = {
						trait_generation = {}
						save_scope_as = panum_new_physician_scope
					}
					scope:panum_new_physician_scope = {
						add_trait = panum_physician
						set_variable = mr_is_physician_var
						physician_experience_set_up_effect = yes
						mr_trait_generation_physician_effect = yes
						place_character_in_void = 1200
					}
					set_variable = {
						name = panum_new_physician_var
						value = scope:panum_new_physician_scope
					}

					modifier = {
						if = {
							limit = { has_law = law_type:law_women_own_property }
							add = -4
						}
						if = {
							limit = { has_law = law_type:law_women_in_the_workplace }
							add = -9
						}
						if = {
							limit = { has_law = law_type:law_womens_suffrage }
							add = -19
						}
					}
				}
			}
		}
	}

	var:panum_new_physician_var = {
		save_scope_as = panum_new_physician_scope
		set_start_physician_stats_effect = yes
	}
}

# Set new Physician as official Physician
panum_set_new_physician_as_physician_effect = {
	custom_tooltip = {
		text = panum_replace_physician_with_new_physician_tt
	
		if = {
			limit = {
				has_variable = panum_physician_var
			}
			var:panum_physician_var = {
				free_character_from_void = no
			}
		}

		set_variable = {
			name = panum_physician_var
			value = scope:panum_new_physician_scope
		}

		remove_variable = panum_new_physician_var
	}
}

# Remove new Physician
panum_remove_new_physician_effect = {
	scope:panum_new_physician_scope = {
		free_character_from_void = no
	}
	remove_variable = panum_new_physician_var
}

# Used to set up the Experience of a character 
physician_experience_set_up_effect = {
	#Adds physician experience (see effect for further information)
	general_experience_set_up_effect = {
		TYPE = panum_physician_experience
		UNI_PM = pm_dubois_university_humanities
	}
	
	if = { #Adds the Experienced physician Trait if Experience is above 100
		limit = {
			var:panum_physician_experience >= 100
			NOT = {
				var:panum_physician_experience >= 300
			}
			NOR = {
				has_trait = panum_physician_experienced
				has_trait = panum_physician_famous
			}
		}
		remove_trait = panum_physician
		add_trait = panum_physician_experienced
	}
	if = { #Adds the Famous physician Trait if Experience is above 300
		limit = {
			var:panum_physician_experience >= 300
			NOT = {
				has_trait = panum_physician_famous
			}
		}
		remove_trait = panum_physician
		remove_trait = panum_physician_experienced
		add_trait = panum_physician_famous
	}
}

#Physician Experience gain
physician_experience_gain_effect = { #adds XP to the Physician
	# Amount = amount of XP to add
	save_temporary_scope_value_as = { #This is used to display the amount in the tooltip
		name = xp_amount
		value = $AMOUNT$
	}

	if = {
		limit = {
			has_variable = panum_physician_var #should only add experience if there actually is an Physician
		}
		custom_tooltip = {
			text = panum_physician_experience_gain_tt
			if = {
				limit = {
					NOT = {
						var:panum_physician_var = { #Fallback to make sure there are no errors if the Physician does not have the variable yet
							has_variable = panum_physician_experience
						}
					}
				}
				var:panum_physician_var = { #Sets the experience in case it was not set yet
					physician_experience_set_up_effect = yes
				}
			}
			var:panum_physician_var = {
				change_variable = {
					name = panum_physician_experience
					add = $AMOUNT$
				}
			}
		}
		var:panum_physician_var = {
			if = {
				limit = {
					var:panum_physician_experience >= 100
					NOT = {
						var:panum_physician_experience >= 300
					}
					NOR = {
						has_trait = panum_physician_experienced
						has_trait = panum_physician_famous
					}
				}
				remove_trait = panum_physician
				add_trait = panum_physician_experienced
				root = {
					trigger_event = {
						id = academics.120
						popup = yes
					}
				}
			}
			if = {
				limit = {
					var:panum_physician_experience >= 300
					NOT = {
						has_trait = panum_physician_famous
					}
				}
				remove_trait = panum_physician
				remove_trait = panum_physician_experienced
				add_trait = panum_physician_famous
				root = {
					trigger_event = {
						id = academics.121
						popup = yes
					}
				}
			}
		}
	}
}

set_start_physician_stats_effect = {
	random_list = {
		1 = { add_trait = panum_epidemiologist }
		1 = { add_trait = panum_surgeon }
		1 = { add_trait = panum_psychiatrist }
		1 = { add_trait = panum_military_physician }
		4 = {}
	}
}

##########################################################################

######ACADEMIC FOCUS######

academics_remove_focus = {
	if = {
		limit = {
			has_modifier = academics_avantgarde_intelligentsia_modifier
		}
		remove_modifier = academics_avantgarde_intelligentsia_modifier
	}
	if = {
		limit = {
			has_modifier = academics_practical_academia_modifier
		}
		remove_modifier = academics_practical_academia_modifier
	}
	if = {
		limit = {
			has_modifier = academics_military_industrial_complex_modifier
		}
		remove_modifier = academics_military_industrial_complex_modifier
	}
	if = {
		limit = {
			has_modifier = academics_business_schools_tycoon_industrialism_modifier
		}
		remove_modifier = academics_business_schools_tycoon_industrialism_modifier
	}
	if = {
		limit = {
			has_modifier = academics_sea_power_merchant_marine_modifier
		}
		remove_modifier = academics_sea_power_merchant_marine_modifier
	}
	if = {
		limit = {
			has_modifier = academics_useful_ivory_tower_modifier
		}
		remove_modifier = academics_useful_ivory_tower_modifier
	}
}

academics_add_historical_tech_schools = {
	every_country = { #Avantgarde Intelligentsia
		limit = {
			OR = {
				c:FRA ?= this
				c:RUS ?= this
			}
		}
		add_modifier = {
			name = academics_avantgarde_intelligentsia_modifier
		}
	}
	every_country = { #Practical Academia
		limit = {
			OR = {
				c:SWE ?= this
			}
		}
		add_modifier = {
			name = academics_practical_academia_modifier
		}
	}
	every_country = { #Military-Industrial Compley
		limit = {
			OR = {
				c:PRU ?= this
				c:SAR ?= this
			}
		}
		add_modifier = {
			name = academics_military_industrial_complex_modifier
		}
	}
	every_country = { #Business Schools & Tycoon Capitalism
		limit = {
			OR = {
				c:USA ?= this
				c:SWI ?= this
				c:BEL ?= this
			}
		}
		add_modifier = {
			name = academics_business_schools_tycoon_industrialism_modifier
		}
	}
	every_country = { #Sea Power & Merchant Marine
		limit = {
			OR = {
				c:GBR ?= this
				c:NET ?= this
			}
		}
		add_modifier = {
			name = academics_sea_power_merchant_marine_modifier
		}
	}
	every_country = { #Useful Ivory Tower
		limit = {
			OR = {
				c:AUS ?= this
				c:BAV ?= this
				c:SAX ?= this
				c:DEN ?= this
			}
		}
		add_modifier = {
			name = academics_useful_ivory_tower_modifier
		}
	}
}

### ACADEMIC MISSION EFFECTS ###

academics_set_mission_timer_effect = {
	set_variable = { #Is used to not send new missions shortly after a first mission
		name = academics_mission_timer_var
		years = { 5 10 }
	}
}

#Astronomical missions
academics_add_astronomical_mission = {
	if = {
		limit = { #Fallback if the variable doesn't exist
			NOT = { has_variable = academics_mission_counter_var }
		}
		set_variable = { #used to count the academic missions
			name = academics_mission_counter_var
			value = 0
		}
	}
	change_variable = { #The mission counter is used to not flood the player with missions. It is raised by 1 for each mission and gets checked before adding a new mission.
		name = academics_mission_counter_var
		add = 1
	}
	set_variable = academics_astronomical_mission_var #A country should have maximum one astronomical mission. This variable is used to check that
	academics_set_mission_timer_effect = yes #Sets a timer for New missions to be unavailable
}

academics_remove_astronomical_mission = {
	change_variable = { #Removes the mission from the mission counter
		name = academics_mission_counter_var
		add = -1
	}
	remove_variable = academics_astronomical_mission_var #removes the astronomical mission and allows new astronomical missions
}

#Archaeological missions
academics_add_archaeological_mission = {
	if = {
		limit = { #Fallback if the variable doesn't exist
			NOT = { has_variable = academics_mission_counter_var }
		}
		set_variable = { #used to count the academic missions
			name = academics_mission_counter_var
			value = 0
		}
	}
	change_variable = { #The mission counter is used to not flood the player with missions. It is raised by 1 for each mission and gets checked before adding a new mission.
		name = academics_mission_counter_var
		add = 1
	}
	set_variable = academics_archaeological_mission_var #A country should have maximum one archaeological mission. This variable is used to check that
	academics_set_mission_timer_effect = yes #Sets a timer for New missions to be unavailable
}

academics_remove_archaeological_mission = {
	change_variable = { #Removes the mission from the mission counter
		name = academics_mission_counter_var
		add = -1
	}
	remove_variable = academics_archaeological_mission_var #removes the archaeological mission and allows new astronomical missions
}

#Naturalist missions
academics_add_naturalist_mission = {
	if = {
		limit = { #Fallback if the variable doesn't exist
			NOT = { has_variable = academics_mission_counter_var }
		}
		set_variable = { #used to count the academic missions
			name = academics_mission_counter_var
			value = 0
		}
	}
	change_variable = { #The mission counter is used to not flood the player with missions. It is raised by 1 for each mission and gets checked before adding a new mission.
		name = academics_mission_counter_var
		add = 1
	}
	set_variable = academics_naturalist_mission_var #A country should have maximum one Naturalist mission. This variable is used to check that
	academics_set_mission_timer_effect = yes #Sets a timer for New missions to be unavailable
}

academics_remove_naturalist_mission = {
	change_variable = { #Removes the mission from the mission counter
		name = academics_mission_counter_var
		add = -1
	}
	remove_variable = academics_naturalist_mission_var #removes the Naturalist mission and allows new astronomical missions
}

#Paleontologist missions
academics_add_paleontologist_mission = {
	if = {
		limit = { #Fallback if the variable doesn't exist
			NOT = { has_variable = academics_mission_counter_var }
		}
		set_variable = { #used to count the academic missions
			name = academics_mission_counter_var
			value = 0
		}
	}
	change_variable = { #The mission counter is used to not flood the player with missions. It is raised by 1 for each mission and gets checked before adding a new mission.
		name = academics_mission_counter_var
		add = 1
	}
	set_variable = academics_paleontologist_mission_var #A country should have maximum one Paleontologist mission. This variable is used to check that
	academics_set_mission_timer_effect = yes #Sets a timer for New missions to be unavailable
}

academics_remove_paleontologist_mission = {
	change_variable = { #Removes the mission from the mission counter
		name = academics_mission_counter_var
		add = -1
	}
	remove_variable = academics_paleontologist_mission_var #removes the Paleontologist mission and allows new astronomical missions
}

##############################################################

#Chooses random animal for the exotic animal mission
academics_random_animal_chooser_je_effect = {
	random_list = {
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_polar } }
			set_variable = je_academics_get_exotic_animal_polar
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_grizzly } }
			set_variable = je_academics_get_exotic_animal_grizzly
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_eagle } }
			set_variable = je_academics_get_exotic_animal_eagle
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_bison } }
			set_variable = je_academics_get_exotic_animal_bison
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_panther } }
			set_variable = je_academics_get_exotic_animal_panther
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_alligator } }
			set_variable = je_academics_get_exotic_animal_alligator
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_axolotl } }
			set_variable = je_academics_get_exotic_animal_axolotl
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_gila } }
			set_variable = je_academics_get_exotic_animal_gila
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_sloth } }
			set_variable = je_academics_get_exotic_animal_sloth
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_jaguar } }
			set_variable = je_academics_get_exotic_animal_jaguar
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_anteater } }
			set_variable = je_academics_get_exotic_animal_anteater
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_armadillo } }
			set_variable = je_academics_get_exotic_animal_armadillo
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_condor } }
			set_variable = je_academics_get_exotic_animal_condor
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_manatee } }
			set_variable = je_academics_get_exotic_animal_manatee
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_monkey } }
			set_variable = je_academics_get_exotic_animal_monkey
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_capybara } }
			set_variable = je_academics_get_exotic_animal_capybara
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_lynx } }
			set_variable = je_academics_get_exotic_animal_lynx
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_wolf } }
			set_variable = je_academics_get_exotic_animal_wolf
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_badger } }
			set_variable = je_academics_get_exotic_animal_badger
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_stoat } }
			set_variable = je_academics_get_exotic_animal_stoat
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_otter } }
			set_variable = je_academics_get_exotic_animal_otter
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_ibex } }
			set_variable = je_academics_get_exotic_animal_ibex
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_wisent } }
			set_variable = je_academics_get_exotic_animal_wisent
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_elk } }
			set_variable = je_academics_get_exotic_animal_elk
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_hippopotamus } }
			set_variable = je_academics_get_exotic_animal_hippopotamus
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_lion } }
			set_variable = je_academics_get_exotic_animal_lion
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_elephant } }
			set_variable = je_academics_get_exotic_animal_elephant
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_giraffe } }
			set_variable = je_academics_get_exotic_animal_giraffe
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_penguin } }
			set_variable = je_academics_get_exotic_animal_penguin
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_mole } }
			set_variable = je_academics_get_exotic_animal_mole
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_zebra } }
			set_variable = je_academics_get_exotic_animal_zebra
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_meerkat } }
			set_variable = je_academics_get_exotic_animal_meerkat
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_gorilla } }
			set_variable = je_academics_get_exotic_animal_gorilla
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_panda } }
			set_variable = je_academics_get_exotic_animal_panda
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_orangutan } }
			set_variable = je_academics_get_exotic_animal_orangutan
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_tiger } }
			set_variable = je_academics_get_exotic_animal_tiger
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_tapir } }
			set_variable = je_academics_get_exotic_animal_tapir
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_dragon } }
			set_variable = je_academics_get_exotic_animal_dragon
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_leopard } }
			set_variable = je_academics_get_exotic_animal_leopard
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_cheetah } }
			set_variable = je_academics_get_exotic_animal_cheetah
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_pallas } }
			set_variable = je_academics_get_exotic_animal_pallas
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_turtle } }
			set_variable = je_academics_get_exotic_animal_turtle
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_manta } }
			set_variable = je_academics_get_exotic_animal_manta
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_kangaroo } }
			set_variable = je_academics_get_exotic_animal_kangaroo
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_koala } }
			set_variable = je_academics_get_exotic_animal_koala
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_platypus } }
			set_variable = je_academics_get_exotic_animal_platypus
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_cassowary } }
			set_variable = je_academics_get_exotic_animal_cassowary
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_sealion } }
			set_variable = je_academics_get_exotic_animal_sealion
		}
		1 = {
			trigger = { NOT = { has_variable = dubois_zoo_animal_thylacine } }
			set_variable = je_academics_get_exotic_animal_thylacine
		}
	}
}

#Effect used to remove all the JE-Variables that could possibly be set
je_academics_get_exotic_animal_variable_remover_effect = {
	remove_variable = je_academics_get_exotic_animal_polar
	remove_variable = je_academics_get_exotic_animal_grizzly
	remove_variable = je_academics_get_exotic_animal_eagle
	remove_variable = je_academics_get_exotic_animal_bison
	remove_variable = je_academics_get_exotic_animal_panther
	remove_variable = je_academics_get_exotic_animal_alligator
	remove_variable = je_academics_get_exotic_animal_axolotl
	remove_variable = je_academics_get_exotic_animal_gila
	remove_variable = je_academics_get_exotic_animal_sloth
	remove_variable = je_academics_get_exotic_animal_jaguar
	remove_variable = je_academics_get_exotic_animal_anteater
	remove_variable = je_academics_get_exotic_animal_armadillo
	remove_variable = je_academics_get_exotic_animal_manatee
	remove_variable = je_academics_get_exotic_animal_monkey
	remove_variable = je_academics_get_exotic_animal_capybara
	remove_variable = je_academics_get_exotic_animal_lynx
	remove_variable = je_academics_get_exotic_animal_wolf
	remove_variable = je_academics_get_exotic_animal_badger
	remove_variable = je_academics_get_exotic_animal_stoat
	remove_variable = je_academics_get_exotic_animal_otter
	remove_variable = je_academics_get_exotic_animal_ibex
	remove_variable = je_academics_get_exotic_animal_wisent
	remove_variable = je_academics_get_exotic_animal_elk
	remove_variable = je_academics_get_exotic_animal_hippopotamus
	remove_variable = je_academics_get_exotic_animal_lion
	remove_variable = je_academics_get_exotic_animal_elephant
	remove_variable = je_academics_get_exotic_animal_giraffe
	remove_variable = je_academics_get_exotic_animal_penguin
	remove_variable = je_academics_get_exotic_animal_mole
	remove_variable = je_academics_get_exotic_animal_zebra
	remove_variable = je_academics_get_exotic_animal_panda
	remove_variable = je_academics_get_exotic_animal_orangutan
	remove_variable = je_academics_get_exotic_animal_tiger
	remove_variable = je_academics_get_exotic_animal_tapir
	remove_variable = je_academics_get_exotic_animal_dragon
	remove_variable = je_academics_get_exotic_animal_leopard
	remove_variable = je_academics_get_exotic_animal_cheetah
	remove_variable = je_academics_get_exotic_animal_pallas
	remove_variable = je_academics_get_exotic_animal_turtle
	remove_variable = je_academics_get_exotic_animal_manta
	remove_variable = je_academics_get_exotic_animal_kangaroo
	remove_variable = je_academics_get_exotic_animal_koala
	remove_variable = je_academics_get_exotic_animal_platypus
	remove_variable = je_academics_get_exotic_animal_cassowary
	remove_variable = je_academics_get_exotic_animal_sealion
	remove_variable = je_academics_get_exotic_animal_thylacine
}

set_variables_nthropologist_test = {
	var:lepsius_anthropologist_var = {
		set_variable = {
			name = lepsius_total_human_fossils_anthropologist_var
			value = 42
		}
		set_variable = {
			name = lepsius_total_cromagnon_fossils_anthropologist_var
			value = 7
		}
		set_variable = {
			name = lepsius_total_neanderthalensis_fossils_anthropologist_var
			value = 8
		}
		set_variable = {
			name = lepsius_total_erectus_fossils_anthropologist_var
			value = 9
		}
		set_variable = {
			name = lepsius_total_australopithecus_fossils_anthropologist_var
			value = 10
		}
		set_variable = {
			name = lepsius_total_paranthropus_fossils_anthropologist_var
			value = 8
		}
		set_variable = {
			name = lepsius_total_identified_human_fossils_anthropologist_var
			value = 3
		}
		set_variable = dubois_attended_origin_congress_var
		set_variable = lepsius_completed_cromagnon_anthropologist_var
		set_variable = lepsius_completed_neanderthalensis_anthropologist_var
		set_variable = lepsius_completed_erectus_anthropologist_var
		set_variable = lepsius_completed_australopithecus_anthropologist_var
		set_variable = lepsius_completed_paranthropus_anthropologist_var
	}
}

###

academics_academic_progress_gain_effect = {
	if = {
		limit = {
			NOT = { has_variable = dubois_academy_progress }
		}
		set_variable = {
			name = dubois_academy_progress
			value = 0
		}
	}

	### Actual calculation done in script_value ###
	if = {
		limit = { academics_academic_progress_add_value > 0 }
		set_variable = {
			name = academics_estimated_monthly_academy_progress_var
			value = academics_academic_progress_add_value
		}
	}
	else = {
		set_variable = {
			name = academics_estimated_monthly_academy_progress_var
			value = 0
		}
	}

	if = {
		limit = { var:academics_estimated_monthly_academy_progress_var > 0 }
		change_variable = {
			name = dubois_academy_progress
			add = var:academics_estimated_monthly_academy_progress_var
		}
	}
	if = {
		limit = {
			var:dubois_academy_progress >= academics_academic_progress_goal
		}
		academics_academic_recruited_effect = yes
	}
}

academics_academic_recruited_effect = {
	change_variable = {
		name = dubois_academy_progress
		subtract = academics_academic_progress_goal
	}
	if = {
		limit = {
			has_variable = academics_promote_engineer_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_mathematics
			}
		}
		trigger_event = {
			id = academics.51 #Engineer
			popup = yes
		}
	}
	else_if = {
		limit = {
			has_variable = academics_promote_astronomer_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_mathematics
			}
		}
		trigger_event = {
			id = academics.52 #Astronomer
			popup = yes
		}
	}
	else_if = {
		limit = {
			has_variable = academics_promote_chemist_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_mathematics
			}
		}
		trigger_event = {
			id = academics.53 #Chemist
			popup = yes
		}
	}
	#	else_if = {
	#		limit = {
	#			has_variable = academics_promote_physicist_active
	#			any_scope_building = {
	#				is_building_type = building_university
	#				has_active_production_method = pm_dubois_university_mathematics
	#			}
	#		}
	#		trigger_event = {
	#			id = academics.54 #Physicist
	#			popup = yes
	#		}
	#	}
	else_if = {
		limit = {
			has_variable = academics_promote_geologist_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_natural_history
			}
		}
		trigger_event = {
			id = academics.55 #Geologist
			popup = yes
		}
	}
	else_if = {
		limit = {
			has_variable = academics_promote_naturalist_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_natural_history
			}
		}
		trigger_event = {
			id = academics.56 #Naturalist
			popup = yes
		}
	}
	else_if = {
		limit = {
			has_variable = academics_promote_paleontologist_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_natural_history
			}
		}
		trigger_event = {
			id = academics.57 #Paleontologist
			popup = yes
		}
	}
#	else_if = {
#		limit = {
#			has_variable = academics_promote_biologist_active
#			any_scope_building = {
#				is_building_type = building_university
#				has_active_production_method = pm_dubois_university_natural_history
#			}
#		}
#		trigger_event = {
#			id = academics.58 #Biologist
#			popup = yes
#		}
#	}
	else_if = {
		limit = {
			has_variable = academics_promote_archaeologist_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_humanities
			}
		}
		trigger_event = {
			id = academics.59 #Archaeologist
			popup = yes
		}
	}
	else_if = {
		limit = {
			has_variable = academics_promote_anthropologist_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_humanities
			}
		}
		trigger_event = {
			id = academics.60 #Anthropologist
			popup = yes
		}
	}
	else_if = {
		limit = {
			has_variable = academics_promote_physician_active
			any_scope_building = {
				is_building_type = building_university
				has_active_production_method = pm_dubois_university_humanities
			}
		}
		trigger_event = {
			id = academics.61 #Physician
			popup = yes
		}
	}
	else = {
		random_list = {
			1 = { #Engineer
				trigger_event = {
					id = academics.51
					popup = yes
				}
			}
			1 = { #Astronomer
				trigger_event = {
					id = academics.52
					popup = yes
				}
			}
			1 = { #Chemist
				trigger_event = {
					id = academics.53
					popup = yes
				}
			}
#			1 = { #Physicist
#				trigger_event = {
#					id = academics.54
#					popup = yes
#				}
#			}
			1 = { #Geologist
				trigger_event = {
					id = academics.55
					popup = yes
				}
			}
			1 = { #Naturalist
				trigger_event = {
					id = academics.56
					popup = yes
				}
			}
			1 = { #Paleontologist
				trigger_event = {
					id = academics.57
					popup = yes
				}
			}
#			1 = { #Biologist
#				trigger_event = {
#					id = academics.58
#					popup = yes
#				}
#			}
			1 = { #Archaeologist
				trigger_event = {
					id = academics.59
					popup = yes
				}
			}
			1 = { #Anthropologist
				trigger = { has_technology_researched = lepsius_anthropology_tech }
				trigger_event = {
					id = academics.60
					popup = yes
				}
			}
			1 = { #Physician
				trigger_event = {
					id = academics.61
					popup = yes
				}
			}
		}	
	}
}

#This Effect sets up a specific kind of experience, depending on the input
### TYPE = experience type
### UNI_PM = Production Method of the University
general_experience_set_up_effect = {
	if = {
		limit = {
			NOT = {
				has_variable = $TYPE$
			}
		}
		if = { #Each year over 30 gives 9 Experience
			limit = {
				age > 30
			}
			set_variable = {
				name = $TYPE$
				value = age
			}
			change_variable = {
				name = $TYPE$
				subtract = 30
			}
			change_variable = {
				name = $TYPE$
				multiply = 9
			}
		}
		else = {
			set_variable = {
				name = $TYPE$
				value = 0
			}
		}
		# 5 Experience per 10% of Technical-Mathematical Universities
		if = { #Added a first check to reduce number of checks (divide and conquer)
			limit = {
				owner = {
					any_scope_building = {
						filter = {
							is_building_type = building_university
						}
						percent >= 0.5
						has_active_production_method = $UNI_PM$
					}
				}
			}
			if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 1
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 50
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.9
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 45
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.8
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 40
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.7
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 35
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.6
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 30
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.5
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 25
				}
			}
		}
		else = {
			if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.4
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 20
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.3
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 15
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.2
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 10
				}
			}
			else_if = {
				limit = {
					owner = {
						any_scope_building = {
							filter = {
								is_building_type = building_university
							}
							percent >= 0.1
							has_active_production_method = $UNI_PM$
						}
					}
				}
				change_variable = {
					name = $TYPE$
					add = 5
				}
			}
		}
		# -10 per negative trait up to -30
		if = {
			limit = {
				calc_true_if = {
					amount >= 3
					has_trait = alcoholic
					has_trait = opium_addiction
					has_trait = cocaine_addiction
					has_trait = senile
					has_trait = psychological_affliction
					has_trait = kidney_stones	
				}
			}
			change_variable = {
				name = $TYPE$
				subtract = 30
			}
		}
		else_if = {
			limit = {
				calc_true_if = {
					amount >= 2
					has_trait = alcoholic
					has_trait = opium_addiction
					has_trait = cocaine_addiction
					has_trait = senile
					has_trait = psychological_affliction
					has_trait = kidney_stones	
				}
			}
			change_variable = {
				name = $TYPE$
				subtract = 20
			}
		}
		else_if = {
			limit = {
				calc_true_if = {
					amount >= 1
					has_trait = alcoholic
					has_trait = opium_addiction
					has_trait = cocaine_addiction
					has_trait = senile
					has_trait = psychological_affliction
					has_trait = kidney_stones	
				}
			}
			change_variable = {
				name = $TYPE$
				subtract = 10
			}
		}
		# + random number between 1 and 10
		set_local_variable = {
			name = random_amount_local_var
			value = { 1 20 }
		}
		round_local_variable = {
			name = random_amount_local_var
			nearest = 1
		}
		change_variable = {
			name = $TYPE$
			add = local_var:random_amount_local_var
		}
		#If under 0 normalize to 0
		if = {
			limit = {
				var:$TYPE$ < 0
			}
			set_variable = {
				name = $TYPE$
				value = 0
			}
		}
	}
}
