############################
# VERRIER SCRIPTED EFFECTS #
############################

#by Marco Dandolo

#############################

###Create Le Verrier###

create_verrier_effect = {
	create_character = {
		dna = mr_fra_verrier
		first_name = verrier_urbain
		last_name = verrier_le_verrier
		culture = cu:french
		religion = catholic
		interest_group = ig_intelligentsia
		female = no
		birth_date = 1811.3.11
		historical = yes
		traits = { 
			innovative
			meticulous
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200
		set_variable = verrier_verrier_character_var
	}	
}

###Create Argelander###

create_argelander_effect = {
	create_character = {
		first_name = mr_friedrich_wilhelm
		last_name = mr_argelander
		dna = mr_ger_argelander_friedrich
		ruler = no
		birth_date = 1799.3.22
		historical = yes
		ig_leader = no
		interest_group = ig_intelligentsia
		traits = {
			meticulous
			innovative
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200
		set_variable = verrier_argelander_character_var
	}
}

###Create Schiaparelli###

create_schiaparelli_effect = {
	create_character = {
		first_name = mr_giovanni
		last_name = mr_schiaparelli
		dna = mr_ita_schiaparelli_giovanni
		ruler = no
		birth_date = 1835.3.14
		historical = yes
		culture = cu:north_italian
		religion = rel:catholic
		ig_leader = no
		interest_group = ig_intelligentsia
		traits = {
			meticulous
			innovative
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200
		set_variable = verrier_schiaparelli_character_var
	}
}

###Create Planck###

create_planck_effect = {
	create_character = {
		first_name = mr_max
		last_name = mr_planck
		dna = mr_ger_planck_max
		ruler = no
		birth_date = 1858.4.23
		historical = yes
		ig_leader = no
		culture = cu:north_german
		religion = rel:protestant
		interest_group = ig_intelligentsia
		traits = {
			meticulous
			innovative
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200	
		set_variable = verrier_planck_character_var
	}
}

###Create Hubble###

create_hubble_effect = {
	create_character = {
		first_name = mr_edwin
		last_name = mr_hubble
		dna = mr_usa_hubble_edwin
		ruler = no
		birth_date = 1889.11.20
		historical = yes
		ig_leader = no
		culture = cu:yankee
		religion = rel:protestant
		interest_group = ig_intelligentsia
		traits = {
			meticulous
			innovative
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200	
		set_variable = verrier_hubble_character_var
	}
}

###Create Möbius###

create_moebius_effect = {
	create_character = {
		first_name = mr_august_ferdinand
		last_name = mr_moebius
		dna = mr_sax_moebius_august
		ruler = no
		birth_date = 1790.11.17
		historical = yes
		ig_leader = no
		culture = cu:north_german
		religion = rel:protestant
		interest_group = ig_intelligentsia
		traits = {
			meticulous
			innovative
			verrier_mathematician
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200	
		set_variable = verrier_moebius_character_var
	}
}

###Create Vouris###

create_vouris_effect = {
	create_character = {
		first_name = cow_Georgios_Konstantinos
		last_name = cow_Vouris
		dna = mr_gre_vouris
		ruler = no
		birth_date = 1802.7.20
		historical = yes
		ig_leader = no
		interest_group = ig_intelligentsia
		culture = cu:greek
		religion = rel:orthodox
		ideology = ideology_royalist
		traits = {
			meticulous
			innovative
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200
		set_variable = verrier_vouris_character_var
	}
}

###Create Wolf###

create_wolf_rudolf_effect = {
	create_character = {
		first_name = cow_rudolf
		last_name = cow_wolf
		dna = mr_swi_wolf
		ruler = no
		birth_date = 1817.7.7
		historical = yes
		ig_leader = no
		culture = cu:alemannic
		religion = rel:protestant
		interest_group = ig_intelligentsia
		traits = {
			meticulous
			innovative
		}

		save_scope_as = verrier_new_astronomer_scope
	}
		
	scope:verrier_new_astronomer_scope = {
		add_trait = verrier_astronomer
		place_character_in_void = 1200	
		set_variable = verrier_wolf_character_var
	}
}

#############################

###Add Technology###

#Small Add

verrier_small_add_technology = {
	if = {
		limit = {
			has_technology_researched = mechanical_tools
			NOT = {
				has_technology_researched = verrier_astronomy_tech
			}
			can_research = verrier_astronomy_tech
		}
		add_technology_progress = { progress = 1500 technology = verrier_astronomy_tech }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			NOT = {
				has_technology_researched = verrier_electromagnetism_tech
			}
			can_research = verrier_electromagnetism_tech
		}
		add_technology_progress = { progress = 1500 technology = verrier_electromagnetism_tech }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			has_technology_researched = verrier_electromagnetism_tech
			NOT = {
				has_technology_researched = electrical_generation
			}
			can_research = electrical_generation
		}
		add_technology_progress = { progress = 3000 technology = electrical_generation }
	}
	if = {
		limit = {
			has_technology_researched = electrical_generation
			NOT = {
				has_technology_researched = combustion_engine
			}
			can_research = combustion_engine
		}
		add_technology_progress = { progress = 3000 technology = combustion_engine }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			has_technology_researched = electrical_generation
			has_technology_researched = combustion_engine
			has_technology_researched = verrier_electromagnetism_tech
		}
	}
}

#Medium Add

verrier_medium_add_technology = {
	if = {
		limit = {
			has_technology_researched = mechanical_tools
			NOT = {
				has_technology_researched = verrier_astronomy_tech
			}
			can_research = verrier_astronomy_tech
		}
		add_technology_progress = { progress = 3500 technology = verrier_astronomy_tech }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			NOT = {
				has_technology_researched = verrier_electromagnetism_tech
			}
			can_research = verrier_electromagnetism_tech
		}
		add_technology_progress = { progress = 3500 technology = verrier_electromagnetism_tech }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			has_technology_researched = verrier_electromagnetism_tech
			NOT = {
				has_technology_researched = electrical_generation
			}
			can_research = electrical_generation
		}
		add_technology_progress = { progress = 5500 technology = electrical_generation }
	}
	if = {
		limit = {
			has_technology_researched = electrical_generation
			NOT = {
				has_technology_researched = combustion_engine
			}
			can_research = combustion_engine
		}
		add_technology_progress = { progress = 5500 technology = combustion_engine }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			has_technology_researched = electrical_generation
			has_technology_researched = combustion_engine
			has_technology_researched = verrier_electromagnetism_tech
		}
	}
}

#Large Add

verrier_large_add_technology = {
	if = {
		limit = {
			has_technology_researched = mechanical_tools
			NOT = {
				has_technology_researched = verrier_astronomy_tech
			}
			can_research = verrier_astronomy_tech
		}
		add_technology_progress = { progress = 6000 technology = verrier_astronomy_tech }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			NOT = {
				has_technology_researched = verrier_electromagnetism_tech
			}
			can_research = verrier_electromagnetism_tech
		}
		add_technology_progress = { progress = 6000 technology = verrier_electromagnetism_tech }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			has_technology_researched = verrier_electromagnetism_tech
			NOT = {
				has_technology_researched = electrical_generation
			}
			can_research = electrical_generation
		}
		add_technology_progress = { progress = 9000 technology = electrical_generation }
	}
	if = {
		limit = {
			has_technology_researched = electrical_generation
			NOT = {
				has_technology_researched = combustion_engine
			}
			can_research = combustion_engine
		}
		add_technology_progress = { progress = 9000 technology = combustion_engine }
	}
	if = {
		limit = {
			has_technology_researched = verrier_astronomy_tech
			has_technology_researched = electrical_generation
			has_technology_researched = combustion_engine
			has_technology_researched = verrier_electromagnetism_tech
		}
	}
}

#############################

###ASTRONOMICAL OBJECTS###

#Effect to add a specific amount of astronomical objects to the astronomer and the the yearly discovered objects
#NUMBER = How many astronomical objects will be added
verrier_set_objects_astronomer_yearly = {
	if = {
		limit = {
			NOT = {
				has_variable = verrier_yearly_astronomical_objects_var
			}
		}
		set_variable = {
			name = verrier_yearly_astronomical_objects_var
			value = 0
		}
	}
	if = {
		limit = {
			NOT = {
				has_variable = verrier_astronomer_var
				var:verrier_astronomer_var = {
					has_variable = verrier_astronomer_total_objects_var
				}
			}
		}
		var:verrier_astronomer_var = {
			set_variable = {
				name = verrier_astronomer_total_objects_var
				value = 0
			}
		}
	}
	change_variable = {
		name = verrier_yearly_astronomical_objects_var
		add = $NUMBER$
	}
	if = {
		limit = {
			has_variable = verrier_astronomer_var
		}
		var:verrier_astronomer_var = {
			change_variable = {
				name = verrier_astronomer_total_objects_var
				add = $NUMBER$
			}
		}
	}
}

#Add 1 astronomical object

verrier_add_1_astronomical_object = {
	change_variable = {
 		name = verrier_astronomical_objects
 		add = 1
	}
	change_global_variable = {
 		name = verrier_total_astronomical_objects
 		add = 1
	}
	verrier_set_objects_astronomer_yearly = {
		NUMBER = 1
	}
	custom_tooltip = verrier_add_1_astronomical_object_tt
}

#Add 2 astronomical object

verrier_add_2_astronomical_object = {
	change_variable = {
 		name = verrier_astronomical_objects
 		add = 2
	}
	change_global_variable = {
 		name = verrier_total_astronomical_objects
 		add = 2
	}
	verrier_set_objects_astronomer_yearly = {
		NUMBER = 2
	}
	custom_tooltip = verrier_add_2_astronomical_object_tt
}

#Add 3 astronomical object

verrier_add_3_astronomical_object = {
	change_variable = {
 		name = verrier_astronomical_objects
 		add = 3
	}
	change_global_variable = {
 		name = verrier_total_astronomical_objects
 		add = 3
	}
	verrier_set_objects_astronomer_yearly = {
		NUMBER = 3
	}
	custom_tooltip = verrier_add_3_astronomical_object_tt
}

#Add 5 astronomical objects

verrier_add_5_astronomical_object = {
	change_variable = {
 		name = verrier_astronomical_objects
 		add = 5
	}
	change_global_variable = {
 		name = verrier_total_astronomical_objects
 		add = 5
	}
	verrier_set_objects_astronomer_yearly = {
		NUMBER = 5
	}
	custom_tooltip = verrier_add_5_astronomical_object_tt
}

#Add 10 astronomical objects

verrier_add_10_astronomical_object = {
	change_variable = {
 		name = verrier_astronomical_objects
 		add = 10
	}
	change_global_variable = {
 		name = verrier_total_astronomical_objects
 		add = 10
	}
	verrier_set_objects_astronomer_yearly = {
		NUMBER = 10
	}
	custom_tooltip = verrier_add_10_astronomical_object_tt
}

#Sub 3 astronomical objects

verrier_sub_3_astronomical_object = {
	change_variable = {
 		name = verrier_astronomical_objects
 		add = -3
	}
	change_global_variable = {
 		name = verrier_total_astronomical_objects
 		add = -3
	}verrier_set_objects_astronomer_yearly = {
		NUMBER = -3
	}
	custom_tooltip = verrier_sub_3_astronomical_object_tt
}

#############################

###MOON PHOTOS###

#1 moon photo

verrier_add_1_moon_photo = {
	change_variable = {
 		name = verrier_moon_photo
 		add = 1
	}
	custom_tooltip = verrier_add_1_moon_photo_tt
}

#2 moon photos

verrier_add_2_moon_photo = {
	change_variable = {
 		name = verrier_moon_photo
 		add = 2
	}
	custom_tooltip = verrier_add_2_moon_photo_tt
}

#3 moon photos

verrier_add_3_moon_photo = {
	change_variable = {
 		name = verrier_moon_photo
 		add = 3
	}
	custom_tooltip = verrier_add_3_moon_photo_tt
}

#############################

###GREAT COMETS###

verrier_add_great_comet_object = {
	change_variable = {
 		name = verrier_great_comet
 		add = 1
	}
	change_global_variable = {
 		name = verrier_total_verrier_great_comet
 		add = 1
	}
	custom_tooltip = verrier_add_great_comet_object_tt
}


##############################

verrier_add_variables = {
	set_variable = {
        name = verrier_astronomical_objects
        value = 0
	}
	set_variable = {
        name = verrier_moon_photo
        value = 0
	}
	set_variable = {
        name = verrier_great_comet
        value = 0
	}
	set_variable = verrier_variables_var
}

##############################

#Script to research astronomy technologies
verrier_astronomy_research_boost = {
	if = {
		limit = {
			can_research = verrier_physics_tech
		}
		add_technology_progress = {
			progress = 2500
			technology = verrier_physics_tech
		}
	}
	else_if = {
		limit = {
			can_research = verrier_astronomy_tech
		}
		add_technology_progress = {
			progress = 2000
			technology = verrier_astronomy_tech
		}
	}
}