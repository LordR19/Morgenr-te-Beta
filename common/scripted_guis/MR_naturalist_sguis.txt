### NATURALIST BUTTONS ###
#MR_SAFARI_EXPEDITION_BUTTON
mr_safari_expedition_button = {
    scope = country
    is_valid = {
        has_technology_researched = dubois_theory_of_evolution_tech
		has_technology_researched = civilizing_mission
		any_scope_state = {
			is_capital = yes
			OR = {
				is_production_method_active = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_2
				}
				is_production_method_active = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_3
				}
				is_production_method_active = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_4
				}
			}
		}
		dubois_has_active_naturalist = yes
		custom_tooltip = {
			text = dubois_safari_possible_tt
			dubois_safari_possible = yes
		}
		NOR = {
			has_modifier = dubois_on_safari_modifier
			has_modifier = dubois_had_safari_modifier
		}
    }
    effect = {
        add_modifier = {
			name = dubois_on_safari_modifier
		}
		trigger_event = {
			id = dubois.31
			popup = yes
		}
		hidden_effect = {
			if = {
				limit = { has_variable = dubois_naturalist_var }
				var:dubois_naturalist_var = {
					add_modifier = {
						name = dubois_animal_hunter_modifier
					}
					set_character_busy = yes
				}
			}
		}
    }
    ai_chance = {
		base = 1000
	}
}

#MR_ZOOLOGICAL_EXPEDITION_BUTTON
mr_zoological_expedition_button = {
    scope = country
    is_valid = {
        has_technology_researched = dubois_theory_of_evolution_tech
		dubois_has_active_naturalist = yes
		custom_tooltip = {
			text = dubois_has_local_animal_tt
			dubois_has_local_animal = yes
		}
		NOT = {
			has_modifier = dubois_search_local_animal_modifier
		}
    }
    effect = {
        add_modifier = {
			name = dubois_search_local_animal_modifier
		}
		hidden_effect = {
			dubois_set_catch_animals = yes
			if = {
				limit = { has_variable = dubois_naturalist_var }
				var:dubois_naturalist_var = {
					add_modifier = {
						name = dubois_animal_hunter_modifier
					}
					set_character_busy = yes
				}
			}
			trigger_event = {
				id = dubois.21
				days = 365
			}
		}
    }
    ai_chance = {
		base = 1000
	}
}

#MR_BOTANICAL_EXPEDITION_BUTTON
mr_botanical_expedition_button = {
    scope = country
    is_valid = {
		### This part should make it visible. How do I do that
		NOT = {
			has_modifier = dubois_botanical_expedition_modifier
		}
		### End ###
        has_technology_researched = dubois_theory_of_evolution_tech
		has_technology_researched = malaria_prevention
		dubois_has_active_naturalist = yes
		dubois_botanical_expedition_banned = no
		OR = {
			dubois_has_rainforest = yes
			any_country = {
				has_diplomatic_pact = {
					who = ROOT
					type = botanical_license
				}				
				dubois_has_rainforest = yes
			}
		}
    }
    effect = {
        trigger_event = { 
			id = dubois.301
			popup = yes 
		}
    }
    ai_chance = {
		base = 0
		modifier = {
			trigger = { 
				weekly_net_fixed_income > money_amount_multiplier_medium
				gold_reserves > 0
			}
			add = 100
		}
		modifier = {
			trigger = {
				var:dubois_specimen < 35000
			}
			add = 100
		}		
		modifier = {
			trigger = {
				var:dubois_specimen < 45000
			}
			add = 25
		}	
		modifier = {
			trigger = {
				var:dubois_specimen >= 50000
			}
			add = -200
		}
	}
}
