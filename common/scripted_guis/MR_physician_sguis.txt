### PHYSICIAN BUTTONS ###

#by Lord R & Marco Dandolo

#Does the country have a physician
mr_has_physician_sgui = {
	scope = country
	is_shown = {
		has_variable = panum_physician_var
	}
}

#MR_PHYSICIAN_DESCRIBE_DISEASE_BUTTON
mr_physician_describe_disease_button = {
    scope = country
    is_valid = {
		hidden_trigger = {
			NOT = {
				has_variable = panum_physician_action_active_var
			}
		}
		custom_tooltip = {
			text = MR_ACTIVE_PHYSICIAN_TRIGGER
			has_variable = panum_physician_var
			var:panum_physician_var = {
				is_busy = no
			}
		}
		custom_tooltip = {
			text = MR_PHYSICIAN_CAN_DESCRIBE_LOCAL_DISEASE_TRIGGER_TT
			panum_can_describe_local_disease_trigger = yes
		}
    }
    effect = {
		set_variable = panum_physician_action_active_var
		set_variable = panum_physician_describe_disease_active_var
		trigger_event = { 
			id = panum.51
			popup = yes 
		}
    }
}
#Checks if this is button is active
mr_physician_describe_disease_active = {
	is_shown = {
		has_variable = panum_physician_describe_disease_active_var
	}
}

#MR_PHYSICIAN_DESCRIBE_DISEASE_FOREIGN_BUTTON
mr_physician_describe_disease_foreign_button = {
    scope = country
    is_valid = {
		hidden_trigger = {
			NOT = {
				has_variable = panum_physician_action_active_var
			}
		}
		custom_tooltip = {
			text = MR_ACTIVE_PHYSICIAN_TRIGGER
			has_variable = panum_physician_var
			var:panum_physician_var = {
				is_busy = no
			}
		}
		custom_tooltip = {
			text = MR_PHYSICIAN_CAN_DESCRIBE_FOREIGN_DISEASE_TRIGGER_TT
			panum_can_describe_foreign_disease_trigger = yes
		}
		custom_tooltip = {
			text = MR_CIVILIZING_MISSION_TECH_TRIGGER_TT
			has_technology_researched = civilizing_mission
		}
    }
    effect = {
		set_variable = panum_physician_action_active_var
		set_variable = panum_physician_describe_disease_foreign_active_var
		trigger_event = { 
			id = panum.52
			popup = yes
		}
    }
}
#Checks if this is button is active
mr_physician_describe_disease_foreign_active = {
	is_shown = {
		has_variable = panum_physician_describe_disease_foreign_active_var
	}
}

#MR_PHYSICIAN_FIND_TREATMENT_BUTTON
mr_physician_find_treatment_button = {
    scope = country
    is_valid = {
		hidden_trigger = {
			NOT = {
				has_variable = panum_physician_action_active_var
			}
		}
		custom_tooltip = {
			text = MR_ACTIVE_PHYSICIAN_TRIGGER
			has_variable = panum_physician_var
			var:panum_physician_var = {
				is_busy = no
			}
		}
		custom_tooltip = {
			text = MR_PHYSICIAN_CAN_FIND_LOCAL_TREATMENT_TRIGGER_TT
			panum_can_find_local_treatment_trigger = yes
		}
    }
    effect = {
		set_variable = panum_physician_action_active_var
		set_variable = panum_physician_find_treatment_active_var
		trigger_event = { 
			id = panum.53
			popup = yes 
		}
    }
}
#Checks if this is button is active
mr_physician_find_treatment_active = {
	is_shown = {
		has_variable = panum_physician_find_treatment_active_var
	}
}

#MR_PHYSICIAN_FIND_TREATMENT_FOREIGN_BUTTON
mr_physician_find_treatment_foreign_button = {
    scope = country
    is_valid = {
		hidden_trigger = {
			NOT = {
				has_variable = panum_physician_action_active_var
			}
		}
		custom_tooltip = {
			text = MR_ACTIVE_PHYSICIAN_TRIGGER
			has_variable = panum_physician_var
			var:panum_physician_var = {
				is_busy = no
			}
		}
		custom_tooltip = {
			text = MR_PHYSICIAN_CAN_FIND_FOREIGN_TREATMENT_TRIGGER_TT
			panum_can_find_foreign_treatment_trigger = yes
		}
		custom_tooltip = {
			text = MR_CIVILIZING_MISSION_TECH_TRIGGER_TT
			has_technology_researched = civilizing_mission
		}
    }
    effect = {
		set_variable = panum_physician_action_active_var
		set_variable = panum_physician_find_treatment_foreign_active_var
		trigger_event = { 
			id = panum.54
			popup = yes 
		}
    }
}
#Checks if this is button is active
mr_physician_find_treatment_foreign_active = {
	is_shown = {
		has_variable = panum_physician_find_treatment_foreign_active_var
	}
}