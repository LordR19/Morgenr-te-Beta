### SPORTS BUTTONS ###

#by Lord R

#MR_AUTORACING_FOUND_AUTOMOBILE_CLUB_BUTTON
mr_autoracing_found_automobile_club_button = {
    scope = country
	is_shown = {
		NOT = {
			has_variable = vikelas_automobile_club_var
		}
	}
    is_valid = {
		custom_tooltip = {
			text = MR_COMBUSTION_ENGINE_TECH_TRIGGER_TT
			has_technology_researched = combustion_engine
		}
    }
    effect = {
		set_variable = vikelas_automobile_club_var
		trigger_event = {
			id = vikelas.501
		}
    }
}

#MR_AUTORACING_LONG_DISTANCE_BUTTON
mr_autoracing_long_distance_button = {
    scope = country
	is_shown = {
		has_variable = vikelas_automobile_club_var
	}
    is_valid = {
		custom_tooltip = {
			text = MR_COMBUSTION_ENGINE_TECH_TRIGGER_TT
			has_technology_researched = combustion_engine
		}
		custom_tooltip = {
			text = MR_ORGANIZED_SPORTS_TECH_TRIGGER_TT
			has_technology_researched = organized_sports
		}
		custom_tooltip = {
			text = MR_AUTORACING_LONG_DISTANCE_MODIFIER_TRIGGER_TT
			NOR = {
				has_modifier = vikelas_recent_autorace_modifier
				has_modifier = vikelas_ongoing_autorace_modifier
			}
		}
		custom_tooltip = {
			text = MR_AUTORACING_LONG_DISTANCE_STATE_TRIGGER_TT
			any_scope_state = {
				count >= 2
			}
		}
    }
    effect = {
		add_modifier = {
			name = vikelas_ongoing_autorace_modifier
		}
		trigger_event = {
			id = vikelas.511
		}
    }
}

#MR_AUTORACING_FOUND_GRAND_PRIX_BUTTON
mr_autoracing_found_grand_prix_button = {
	scope = country
	is_shown = {
		NOT = {
			has_global_variable = vikelas_autoracing_grand_prix_founded_var
		}
		has_variable = vikelas_automobile_club_var
	}
	is_valid = {
		custom_tooltip = {
			text = MR_COMBUSTION_ENGINE_TECH_TRIGGER_TT
			has_technology_researched = combustion_engine
		}
		custom_tooltip = {
			text = MR_ORGANIZED_SPORTS_TECH_TRIGGER_TT
			has_technology_researched = organized_sports
		}
		custom_tooltip = {
			text = MR_MASS_CULTURE_TECH_TRIGGER_TT
			has_technology_researched = elgar_mass_culture_tech
		}
		custom_tooltip = {
			text = MR_AUTORACING_FOUND_GRAND_PRIX_BUTTON_TT
			any_country = {
				has_variable = vikelas_automobile_club_var
				has_technology_researched = organized_sports
				count >= 5
			}
		}
	}
	effect = {
		add_modifier = {
			name = vikelas_ongoing_autorace_modifier
		}
		trigger_event = {
			id = vikelas.511
		}
	}
}
