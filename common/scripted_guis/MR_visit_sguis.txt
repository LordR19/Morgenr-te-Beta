### VISIT BUTTONS ###

#by Dementive & Lord R

mr_visit_museum = {
    scope = country
    is_valid = {
        any_scope_building = {
            is_building_type = building_lepsius_archaeological_museum
            level >= 1
        }
        custom_tooltip = {
            text = mr_visiting_museum_tt
            NOT = {
                has_variable = lepsius_visiting_museum_var
            }
        }
    }
    effect = {
        set_variable = lepsius_visiting_museum_var
        trigger_event = { 
            id = lepsius.11 
            popup = yes 
        }
    }
}

mr_visit_observatory = {
    scope = country
    is_valid = {
        any_scope_building = {
            is_building_type = building_verrier_observatory
            level >= 1
        }
        custom_tooltip = {
            text = verrier_visiting_observatory_tt
            NOT = {
                has_variable = verrier_visiting_observatory_var
            }
        }
    }
    effect = {
        set_variable = verrier_visiting_observatory_var
        trigger_event = { 
            id = verrier.100 
            popup = yes 
        }
    }  
}

mr_visit_zoo = {
    scope = country
    is_valid = {
        any_scope_building = {
            is_building_type = building_dubois_zoo
            level >= 1
        }
        custom_tooltip = {
            text = mr_visiting_zoo_tt
            NOT = {
                has_variable = dubois_visiting_zoo_var
            }
        }
    }
    effect = {
        set_variable = dubois_visiting_zoo_var
        trigger_event = {
            id = dubois.1001
            popup = yes
        }
        hidden_effect = {
            if = {
                limit = {
                    elgar_has_musician = yes
                    has_variable = dubois_zoo_animal_lion
                    has_variable = dubois_zoo_animal_elephant
                    has_variable = dubois_zoo_animal_turtle
                    has_variable = dubois_zoo_animal_kangaroo
                    NOT = {
                        has_variable = dubois_animal_carnival_var
                    }
                }
                trigger_event = {
                    id = dubois.1000
                }
            }
        }
    }  
}

mr_visit_paleontological_collection = {
    scope = country
    is_valid = {
        OR = {
            dubois_has_paleontologist = yes
            dubois_has_fossil = yes
            dubois_has_dinosaur_bone = yes
        }
        custom_tooltip = {
            text = mr_visiting_fossils_tt
            NOT = {
                has_variable = dubois_visiting_fossils_var
            }
        }
    }

    effect = {
        set_variable = dubois_visiting_fossils_var
        trigger_event = {
            id = dubois.2001
            popup = yes
        }
    }
}

mr_visit_anthropological_collection = {
    scope = country
    is_valid = {
        OR = {
            lepsius_has_anthropologist = yes
            lepsius_has_human_fossil = yes
        }
        custom_tooltip = {
            text = mr_visiting_human_evolution_tt
            NOT = {
                has_variable = lepsius_visiting_human_evolution_var
            }
        }
    }

    effect = {
        set_variable = lepsius_visiting_human_evolution_var
        trigger_event = {
            id = lepsius.1501
            popup = yes
        }
    }
}

mr_visit_scientific_society = {
    scope = country
    is_valid = {
        custom_tooltip = {
            text = mr_visiting_scientific_society_tt
            NOT = {
                has_variable = academics_character_overview_var
            }
        }
    }
    effect = {
        set_variable = academics_character_overview_var
        trigger_event = {
            id = academics.30
            popup = yes
        }
    }
}