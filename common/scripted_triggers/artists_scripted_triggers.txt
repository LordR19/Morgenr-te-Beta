#############################
# ARTISTS SCRPITED TRIGGERS #
#############################

######HAS ACADEMIC######

elgar_has_composer_new = {
	custom_tooltip = {
		text = elgar_has_composer_new_tt
		has_variable = elgar_composer_var
	}
}

elgar_has_great_composer = {
	custom_tooltip = {
		text = elgar_has_great_composer_tt
		has_variable = elgar_composer_var
		var:elgar_composer_var = {
			has_trait = elgar_great_composer
		}
	}
}

#Composer has up to 150 Experience
elgar_tier_1_composer_trigger = {
	has_technology_researched = elgar_classicism_tech
	elgar_has_opera_size_x_trigger = { LEVEL = 1 }
}

#Composer has up to 250 Experience
elgar_tier_1_composer_trigger = {
	elgar_has_opera_size_x_trigger = { LEVEL = 2 }
	has_technology_researched = romanticism
}

#Composer has up to 350 Experience
elgar_tier_2_composer_trigger = {
	elgar_has_opera_size_x_trigger = { LEVEL = 3 }
	OR = {
		has_technology_researched = realism
		has_technology_researched = elgar_irrationalism_tech
	}
	var:elgar_music_tradition >= 100
}

#Composer has up to 450 Experience
elgar_tier_3_composer_trigger = {
	elgar_has_opera_size_x_trigger = { LEVEL = 4 }
	any_scope_state = {
		is_production_method_active = {
			building_type = building_arts_academy
			production_method = pm_artists_arts_academy_conservatory
		}
	}
	has_technology_researched = realism
	has_technology_researched = elgar_irrationalism_tech
	var:elgar_music_tradition >= 200
	country_rank >= rank_value:major_power
}

#Composer has up to 500 Experience
elgar_tier_4_composer_trigger = {
	elgar_has_opera_size_x_trigger = { LEVEL = 5 }
	any_scope_state = {
		is_production_method_active = {
			building_type = building_arts_academy
			production_method = pm_artists_arts_academy_conservatory
		}
	}
	OR = {
		has_technology_researched = elgar_impressionism_tech
		has_technology_researched = elgar_expressionism_tech
		has_technology_researched = elgar_art_nouveau_tech
	}
	var:elgar_music_tradition >= 300
	country_rank >= rank_value:great_power
}

#Composer has 500 or more Experience
elgar_tier_5_composer_trigger = {
	elgar_has_opera_size_x_trigger = { LEVEL = 10 }
	any_scope_state = {
		is_production_method_active = {
			building_type = building_arts_academy
			production_method = pm_artists_arts_academy_conservatory
		}
	}
	OR = {
		has_technology_researched = elgar_impressionism_tech
		has_technology_researched = elgar_expressionism_tech
		has_technology_researched = elgar_art_nouveau_tech
	}
	var:elgar_music_tradition >= 300
	country_rank >= rank_value:great_power
}

#Is used to check if a National Composer can be hired
elgar_national_composer_trigger = {
	trigger_if = { #Only a Trigger if the character is a National Composer
		limit = { has_trait = elgar_national_composer }
		culture = { #This limits National Composers to countries with primary cultures
					#That share at least one heritage trait and one other trait
			shares_non_heritage_trait_with_any_primary_culture = root
			shares_heritage_trait_with_any_primary_culture = root
		}
	}
}

manzoni_has_writer = {
	custom_tooltip = {
		text = manzoni_has_writer_tt
		has_variable = manzoni_writer_var
	}
}

manzoni_has_great_writer = {
	custom_tooltip = {
		text = manzoni_has_great_writer_tt
		has_variable = manzoni_writer_var
		var:manzoni_writer_var = {
			has_trait = manzoni_great_writer
		}
	}
}

klimt_has_painter = {
	custom_tooltip = {
		text = klimt_has_painter_tt
		has_variable = klimt_painter_var
	}
}

klimt_has_great_painter = {
	custom_tooltip = {
		text = klimt_has_great_painter_tt
		has_variable = klimt_painter_var
		var:klimt_painter_var = {
			has_trait = klimt_great_painter
		}
	}
}
