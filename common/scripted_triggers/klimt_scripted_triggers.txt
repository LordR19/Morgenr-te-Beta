############################
# KLIMT SCRIPTED TRIGGERS  #
############################

#by Marco Dandolo

############################

###Painter Existence###

#Trigger if a Painter exists
klimt_has_painter = {
	custom_tooltip = {
		text = klimt_has_painter_tt
		trigger_if = {
			limit = { has_variable = klimt_painter_var }
		}
		trigger_else = {
			always = no
		}
	}
}

#Trigger if an unoccupied painter exists
klimt_has_active_painter = {
	custom_tooltip = {
		text = klimt_has_active_painter_tt
		has_variable = klimt_painter_var
		var:klimt_painter_var ?= {
			is_busy = no
		}
	}
}

#Trigger if a Great painter exists
klimt_has_great_painter = {
	custom_tooltip = {
		text = klimt_has_great_painter_tt
		has_variable = klimt_painter_var
		var:klimt_painter_var = {
			has_trait = klimt_great_painter
		}
	}
}

#Trigger if an unoccupied Great painter exists
klimt_has_active_great_painter = {
	custom_tooltip = {
		text = klimt_has_active_great_painter_tt
		has_variable = klimt_painter_var
		var:klimt_painter_var ?= {
			is_busy = no
			has_trait = klimt_great_painter
		}
	}
}

############################

###Painter trip###

#Trigger if Painter Trip is possible
klimt_painter_trip_possible = {
	custom_tooltip = {
		text = klimt_painter_trip_possible_tt
		var:klimt_painter_var ?= {
			age < 40
		}
		OR = {
			AND = {
				has_global_variable = elgar_classicism_discovered
				NOT = {
					var:klimt_painter_var ?= {
						has_trait = klimt_classic_school
					}
				}
			}
			AND= {
				has_global_variable = elgar_romanticism_discovered
				NOT = {
					var:klimt_painter_var ?= {
						has_trait = klimt_romantic_school
					}
				}
			}
			AND = {
				has_global_variable = artists_center_of_art_realism_founded_var
				NOT = {
					var:klimt_painter_var ?= {
						has_trait = klimt_realistic_school
					}
				}
			}
			AND = {
				has_global_variable = elgar_impressionism_discovered
				NOT = {
					var:klimt_painter_var ?= {
						has_trait = klimt_impressionistic_school
					}
				}
			}
			AND = {
				has_global_variable = elgar_expressionism_discovered
				NOT = {
					var:klimt_painter_var ?= {
						has_trait = klimt_expressionistic_school
					}
				}
			}
			AND = {
				has_global_variable = elgar_art_nouveau_discovered
				NOT = {
					var:klimt_painter_var ?= {
						has_trait = klimt_art_nouveau_school
					}
				}
			}
		}
	}
}

#Trigger when the painter is on the specific trip
klimt_painter_trip_classic = {
	var:klimt_painter_var ?= {
		has_variable = klimt_painter_on_classic_school_trip
	}
}

klimt_painter_trip_romantic = {
	var:klimt_painter_var ?= {
		has_variable = klimt_painter_on_romantic_school_trip
	}
}

klimt_painter_trip_realistic = {
	var:klimt_painter_var ?= {
		has_variable = klimt_painter_on_realistic_school_trip
	}
}

klimt_painter_trip_impressionistic = {
	var:klimt_painter_var ?= {
		has_variable = klimt_painter_on_impressionistic_school_trip
	}
}

klimt_painter_trip_expressionistic = {
	var:klimt_painter_var ?= {
		has_variable = klimt_painter_on_expressionistic_school_trip
	}
}

klimt_painter_trip_art_nouveau = {
	var:klimt_painter_var ?= {
		has_variable = klimt_painter_on_art_nouveau_school_trip
	}
}

############################

###Painter specialization###

klimt_painter_has_specialization = {
	var:klimt_painter_var ?= {
		OR = {
			has_trait = klimt_classic_painter
			has_trait = klimt_romantic_painter
			has_trait = klimt_realistic_painter
			has_trait = klimt_impressionistic_painter
			has_trait = klimt_expressionistic_painter
			has_trait = klimt_art_nouveau_painter
		}
	}
}

############################

###Gallery###

#Trigger if an art academy with gallery exists in the country
klimt_has_gallery = {
	any_scope_building = {
		has_active_production_method = pm_artists_arts_academy_studio
	}
}