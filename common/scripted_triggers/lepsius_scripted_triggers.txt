##############################
# LEPSIUS SCRIPTED TRIGGERS  #
##############################

#by Marco Dandolo

############################

###Has Museum###

lepsius_has_archaeological_museum = {
	any_scope_building = {
		is_building_type = building_lepsius_archaeological_museum
		level = 1
	}
}

############################

###Has artifacts###

lepsius_has_artifacts = {
	var:lepsius_total_artifacts >= 5
}

lepsius_has_100_artifacts = {
	var:lepsius_total_artifacts >= 100
}

lepsius_has_egyptian_artifacts = {
	var:lepsius_egyptian_artifact_minor >= 1
}

lepsius_has_mesopotamian_artifacts = {
	var:lepsius_mesopotamian_artifact_minor >= 1
}

lepsius_has_aegean_artifacts = {
	var:lepsius_aegean_artifact_minor >= 1
}

lepsius_has_precolumbian_artifacts = {
	var:lepsius_precolumbian_artifact_minor >= 1
}

lepsius_has_world_culture_artifacts = {
	OR = {
		var:lepsius_fareastern_artifact_minor >= 1
		var:lepsius_oceanic_artifact_minor >= 1
	}
}

lepsius_has_major_artifacts = {
	OR = {
		var:lepsius_egyptian_artifact_major >= 1
		var:lepsius_mesopotamian_artifact_major >= 1
		var:lepsius_aegean_artifact_major >= 1
		var:lepsius_precolumbian_artifact_major >= 1
		var:lepsius_fareastern_artifact_major >= 1
		var:lepsius_oceanic_artifact_major >= 1
		has_modifier = lepsius_crystall_skull_modifier
		has_modifier = lepsius_arne_saknussemm_modifier
	}
}

lepsius_has_artifacts_for_discovery = {
	OR = {
		AND = {
			has_modifier = lepsius_upper_egypt_excavation_modifier
			var:lepsius_egyptian_artifact_minor >= 30
		}
		AND = {
			has_modifier = lepsius_lower_egypt_excavation_modifier
			var:lepsius_egyptian_artifact_minor >= 30
		}
		AND = {
			has_modifier = lepsius_babylonia_excavation_modifier
			var:lepsius_mesopotamian_artifact_minor >= 30
		}
		AND = {
			has_modifier = lepsius_assyria_excavation_modifier
			var:lepsius_mesopotamian_artifact_minor >= 30
		}
		AND = {
			has_modifier = lepsius_argolis_excavation_modifier
			var:lepsius_aegean_artifact_minor >= 30
		}
		AND = {
			has_modifier = lepsius_yucatan_excavation_modifier
			var:lepsius_precolumbian_artifact_minor >= 30
		}
	}
}

############################

#Has expedition or excavation

lepsius_has_excavation_site = {
	any_scope_state = {
		OR = {
			has_modifier = lepsius_upper_egypt_modifier
			has_modifier = lepsius_lower_egypt_modifier
			has_modifier = lepsius_babylonia_modifier
			has_modifier = lepsius_assyria_modifier
			has_modifier = lepsius_argolis_modifier
			has_modifier = lepsius_crete_modifier
			has_modifier = lepsius_yucatan_modifier
			has_modifier = lepsius_peru_modifier
		}
	}
}

lepsius_on_archaeological_expedition = {
	OR = {
		has_modifier = lepsius_upper_egypt_expedition_modifier
		has_modifier = lepsius_lower_egypt_expedition_modifier
		has_modifier = lepsius_babylonia_expedition_modifier
		has_modifier = lepsius_assyria_expedition_modifier
		has_modifier = lepsius_argolis_expedition_modifier
		has_modifier = lepsius_crete_expedition_modifier
		has_modifier = lepsius_yucatan_expedition_modifier
		has_modifier = lepsius_peru_expedition_modifier
	}
}

lepsius_expedition_in_egypt = {
	OR = {
		has_modifier = lepsius_upper_egypt_expedition_modifier
		has_modifier = lepsius_lower_egypt_expedition_modifier
	}
}

lepsius_expedition_in_mesopotamia = {
	OR = {
		has_modifier = lepsius_babylonia_expedition_modifier
		has_modifier = lepsius_assyria_expedition_modifier
	}
}

lepsius_expedition_in_greece = {
	OR = {
		has_modifier = lepsius_argolis_expedition_modifier
		has_modifier = lepsius_crete_expedition_modifier
	}
}

lepsius_expedition_in_south_america = {
	OR = {
		has_modifier = lepsius_yucatan_expedition_modifier
		has_modifier = lepsius_peru_expedition_modifier
	}
}

lepsius_on_archaeological_excavation = {
	OR = {
		has_modifier = lepsius_upper_egypt_excavation_modifier
		has_modifier = lepsius_lower_egypt_excavation_modifier
		has_modifier = lepsius_babylonia_excavation_modifier
		has_modifier = lepsius_assyria_excavation_modifier
		has_modifier = lepsius_argolis_excavation_modifier
		has_modifier = lepsius_crete_excavation_modifier
		has_modifier = lepsius_yucatan_excavation_modifier
		has_modifier = lepsius_peru_excavation_modifier
	}
}

lepsius_has_discovery_excavation = {
	OR = {
		AND = {
			has_modifier = lepsius_upper_egypt_excavation_modifier
			NOT = {
				has_global_variable = lepsius_discovery_tut_found_var
			}
		}
		AND = {
			has_modifier = lepsius_lower_egypt_excavation_modifier
			NOT = {
				has_global_variable = lepsius_discovery_ship_found_var
			}
		}
		AND = {
			has_modifier = lepsius_babylonia_excavation_modifier
			NOT = {
				has_global_variable = lepsius_discovery_babylon_found_var
			}
		}
		AND = {
			has_modifier = lepsius_assyria_excavation_modifier
			NOT = {
				has_global_variable = lepsius_discovery_semiramis_found_var
			}
		}
		AND = {
			has_modifier = lepsius_argolis_excavation_modifier
			NOT = {
				has_global_variable = lepsius_discovery_mycenae_found_var
			}
		}
		AND = {
			has_modifier = lepsius_yucatan_excavation_modifier
			NOT = {
				has_global_variable = lepsius_discovery_pakal_found_var
			}
		}
	}
}

lepsius_on_excavation_inspection = {
	OR = {
		has_modifier = lepsius_upper_egypt_inspection_modifier
		has_modifier = lepsius_lower_egypt_inspection_modifier
		has_modifier = lepsius_babylonia_inspection_modifier
		has_modifier = lepsius_assyria_inspection_modifier
		has_modifier = lepsius_argolis_inspection_modifier
		has_modifier = lepsius_yucatan_inspection_modifier
	}
}

lepsius_owns_expedition_state = {
	OR = {
		AND = {
			has_modifier = lepsius_upper_egypt_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_upper_egypt_modifier
			}
		}
		AND = {
			has_modifier = lepsius_lower_egypt_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_lower_egypt_modifier
			}
		}
		AND = {
			has_modifier = lepsius_babylonia_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_babylonia_modifier
			}
		}
		AND = {
			has_modifier = lepsius_assyria_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_assyria_modifier
			}
		}
		AND = {
			has_modifier = lepsius_argolis_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_argolis_modifier
			}
		}
		AND = {
			has_modifier = lepsius_crete_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_crete_modifier
			}
		}
		AND = {
			has_modifier = lepsius_yucatan_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_yucatan_modifier
			}
		}
		AND = {
			has_modifier = lepsius_peru_expedition_modifier
			any_scope_state = {
				has_modifier = lepsius_peru_modifier
			}
		}
	}
}

############################

#######ARCHAEOLOGIST######

#Has active archaoelogist

lepsius_has_active_archaeologist = {
	custom_tooltip = {
		text = lepsius_has_active_archaeologist_tt
		trigger_if = {
			limit = { has_variable = lepsius_archaeologist_var }
			var:lepsius_archaeologist_var = {
				is_busy = no
			}
		}
		trigger_else = {
			always = no
		}
	}
}

#Has experienced (active) archaeologist

lepsius_has_experienced_archaeologist = {
	custom_tooltip = {
		text = lepsius_has_experienced_archaeologist_tt
		trigger_if = {
			limit = { has_variable = lepsius_archaeologist_var }
			var:lepsius_archaeologist_var = {
				has_trait = lepsius_archaeologist_experienced
			}
		}
		trigger_else = {
			always = no
		}
	}
}

lepsius_has_active_experienced_archaeologist = {
	custom_tooltip = {
		text = lepsius_has_active_experienced_archaeologist_tt
		trigger_if = {
			limit = { has_variable = lepsius_archaeologist_var }
			var:lepsius_archaeologist_var = {
				has_trait = lepsius_archaeologist_experienced
				is_busy = no
			}
		}
		trigger_else = {
			always = no
		}
	}
}

#Has famous (active) archaeologist

lepsius_has_famous_archaeologist = {
	custom_tooltip = {
		text = lepsius_has_famous_archaeologist_tt
		trigger_if = {
			limit = { has_variable = lepsius_archaeologist_var }
			var:lepsius_archaeologist_var = {
				has_trait = lepsius_archaeologist_famous
			}
		}
		trigger_else = {
			always = no
		}
	}
}

lepsius_has_active_famous_archaeologist = {
	custom_tooltip = {
		text = lepsius_has_active_famous_archaeologist_tt
		trigger_if = {
			limit = { has_variable = lepsius_archaeologist_var }
			var:lepsius_archaeologist_var = {
				has_trait = lepsius_archaeologist_famous
				is_busy = no
			}
		}
		trigger_else = {
			always = no
		}
	}
}

############################

#Clues and Gilgamesh

lepsius_has_clue = {
	OR = {
		var:lepsius_alexander_clue >= 1
		var:lepsius_ark_clue >= 1
		var:lepsius_atlantis_clue >= 1
		var:lepsius_eldorado_clue >= 1
	}
}

lepsius_has_gilgamesh_pieces = {
	var:lepsius_gilgamesh_pieces >= 0
}

############################

######ANTHROPOLOGY######

#Anthropologist

#Has active anthropologist

lepsius_has_active_anthropologist= {
	custom_tooltip = {
		text = lepsius_has_active_anthropologist_tt
		trigger_if = {
			limit = { has_variable = lepsius_anthropologist_var }
			var:lepsius_anthropologist_var = {
				is_busy = no
			}
		}
		trigger_else = {
			always = no
		}
	}
}

#Human Ancestors Regions

lepsius_cromagnon_region = {
	OR = {
		region = sr:region_north_germany
		region = sr:region_south_germany
		region = sr:region_england
		region = sr:region_iberia
		region = sr:region_france
		region = sr:region_occitania
		region = sr:region_rhine
		region = sr:region_italy	
		region = sr:region_poland
		region = sr:region_danubia
		region = sr:region_balkans
	}
}

lepsius_neanderthalensis_region = {
	OR = {
		region = sr:region_north_germany
		region = sr:region_south_germany
		region = sr:region_england
		region = sr:region_iberia
		region = sr:region_france
		region = sr:region_occitania
		region = sr:region_rhine
		region = sr:region_italy	
		region = sr:region_poland
		region = sr:region_danubia
		region = sr:region_balkans
		region = sr:region_baltic
		region = sr:region_anatolia
		region = sr:region_persia
		region = sr:region_caucasus
		region = sr:region_central_asia
	}
}

lepsius_erectus_region = {
	OR = {
		region = sr:region_ethiopia
		region = sr:region_senegal
		region = sr:region_niger
		region = sr:region_congo
		region = sr:region_southern_africa
		region = sr:region_north_africa
		region = sr:region_zanj	
		region = sr:region_arabic
		region = sr:region_caucasus
		region = sr:region_persia
		region = sr:region_south_india
		region = sr:region_north_india
		region = sr:region_south_china
		region = sr:region_north_china
		region = sr:region_manchuria	
		region = sr:region_indonesia
		region = sr:region_indochina
	}
}

lepsius_australopithecus_region = {
	OR = {
		region = sr:region_ethiopia
		region = sr:region_southern_africa
		region = sr:region_zanj
		region = sr:region_nile_basin
	}
}

lepsius_paranthropus_region = {
	OR = {
		region = sr:region_ethiopia
		region = sr:region_southern_africa
	}
}

#Cave trigger

lepsius_has_cave = {
	OR = {
		has_variable = lepsius_cromagnon_cave_var
		has_variable = lepsius_neanderthalensis_cave_var
		has_variable = lepsius_erectus_cave_var
		has_variable = lepsius_australopithecus_cave_var
		has_variable = lepsius_paranthropus_cave_var
	}
}

lepsius_has_discovered_cave = {
	OR = {
		has_modifier = lepsius_cromagnon_cave_modifier
		has_modifier = lepsius_neanderthalensis_cave_modifier
		has_modifier = lepsius_erectus_cave_modifier
		has_modifier = lepsius_australopithecus_cave_modifier
		has_modifier = lepsius_paranthropus_cave_modifier
	}
}