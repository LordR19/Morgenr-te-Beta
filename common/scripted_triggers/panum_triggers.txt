############################
# PANUM SCRIPTED TRIGGERS  #
############################

#by Marco Dandolo

############################

######PHYSICIAN CHARACTER TRIGGERS######

panum_has_physician = {
	custom_tooltip = {
		text = panum_has_physician_tt
		panum_has_physician_no_tooltip_trigger = yes
	}
}
panum_has_physician_no_tooltip_trigger = {
	has_variable = panum_physician_var
}

panum_has_active_physician = {
	custom_tooltip = {
		text = panum_has_active_physician_tt
		panum_has_active_physician_no_tooltip_trigger = yes
	}
}
panum_has_active_physician_no_tooltip_trigger = {
	has_variable = panum_physician_var
	var:panum_physician_var ?= {
		is_busy = no
	}
}

#Trigger if Physician has specialization
panum_physician_has_specialization_trigger = {
	has_variable = panum_physician_var
	var:panum_physician_var ?= {
		OR = {
			has_trait = panum_epidemiologist
			has_trait = panum_surgeon
			has_trait = panum_psychiatrist
			has_trait = panum_military_physician
		}
	}
}

#Trigger if Miasma theory is prevalent
panum_has_miasma_theory_trigger = {
	NOT = {
		has_variable = panum_germ_theory_var
	}
}

#Trigger if State has clinic or hospital
panum_state_has_clinic_trigger = {
	has_building = building_government_administration
	any_scope_building = {
		is_building_type = building_government_administration
		OR = {
			has_active_production_method = pm_panum_clinic
			has_active_production_method = pm_panum_hospital
		}
	}
}

######GENERAL DISEASES TRIGGER######

panum_has_epidemic_trigger = {
	OR = {
		has_journal_entry = je_panum_cholera
		has_journal_entry = je_panum_tuberculosis
		has_journal_entry = je_panum_smallpox
		has_journal_entry = je_panum_typhus
		has_journal_entry = je_panum_yellow_fever
		has_journal_entry = je_panum_measles
		has_journal_entry = je_panum_scarlet
		has_journal_entry = je_panum_plague
		has_journal_entry = je_panum_diphteria
		has_journal_entry = je_panum_polio
	}
}

panum_state_has_epidemic_trigger = {
	OR = {
		panum_state_has_cholera_trigger = yes
		panum_state_has_tuberculosis_trigger = yes
		panum_state_has_smallpox_trigger = yes
		panum_state_has_typhus_trigger = yes
		panum_state_has_yellow_fever_trigger = yes
		panum_state_has_measles_trigger = yes
		panum_state_has_scarlet_trigger = yes
		panum_state_has_plague_trigger = yes
		panum_state_has_diphteria_trigger = yes
		panum_state_has_polio_trigger = yes
	}
}

######DISEASES TRIGGER#####

###Cholera###

panum_country_can_have_cholera_trigger = {
	game_date >= 1852.1.1 #We start with the third wave
	NOT = {
		has_variable = panum_recent_cholera_in_country_var
	}
	panum_has_cholera_prevention_trigger = no
	panum_has_epidemic_trigger = no
	panum_state_can_have_cholera_trigger = yes
}

panum_state_can_have_cholera_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_cholera_var
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 15
		}
		total_urbanization >= 500
	}
}

panum_has_cholera_prevention_trigger = {
	theiler_has_cholera_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 3
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_cholera_trigger = {
	OR = {
		has_modifier = panum_epidemic_cholera_deadly_modifier
		has_modifier = panum_epidemic_cholera_severe_modifier
		has_modifier = panum_epidemic_cholera_normal_modifier
		has_modifier = panum_epidemic_cholera_mild_modifier
	}
}

panum_has_cholera_description_trigger = {
	custom_tooltip = {
		text = panum_has_cholera_description_tt
		has_variable = panum_cholera_description_var
	}
}

panum_has_cholera_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_cholera_treatment_tt
		has_variable = panum_cholera_treatment_var
	}
}

###Tuberculosis###

panum_country_can_have_tuberculosis_trigger = {
	NOT = {
		has_variable = panum_recent_tuberculosis_in_country_var
	}
	panum_has_tuberculosis_prevention_trigger = no
	panum_has_epidemic_trigger = no
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_tuberculosis_var
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 20
		}
		total_urbanization >= 750
	}
}

panum_state_can_have_tuberculosis_trigger = {
	NOT = {
		has_variable = panum_tuberculosis_contagious_var
	}
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_tuberculosis_var
		}
		any_neighbouring_state = {
			panum_state_has_tuberculosis_trigger = yes
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 20
		}
		total_urbanization >= 750
	}
}

panum_has_tuberculosis_prevention_trigger = {
	theiler_has_tuberculosis_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 4
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_tuberculosis_trigger = {
	OR = {
		has_modifier = panum_epidemic_tuberculosis_severe_modifier
		has_modifier = panum_epidemic_tuberculosis_normal_modifier
		has_modifier = panum_epidemic_tuberculosis_mild_modifier
	}
}

panum_has_tuberculosis_description_trigger = {
	custom_tooltip = {
		text = panum_has_tuberculosis_description_tt
		has_variable = panum_tuberculosis_description_var
	}
}

panum_has_tuberculosis_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_tuberculosis_treatment_tt
		has_variable = panum_tuberculosis_treatment_var
	}
}

###Smallpox###

panum_country_can_have_smallpox_trigger = {
	NOT = {
		has_variable = panum_recent_smallpox_in_country_var
	}
	panum_has_smallpox_prevention_trigger = no
	panum_has_epidemic_trigger = no
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_smallpox_var
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 16
		}
	}
}

panum_state_can_have_smallpox_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_smallpox_var
		}
		any_neighbouring_state = {
			panum_state_has_smallpox_trigger = yes
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 16
		}
	}
}

panum_has_smallpox_prevention_trigger = {
	theiler_has_smallpox_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 2
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_smallpox_trigger = {
	OR = {
		has_modifier = panum_epidemic_smallpox_severe_modifier
		has_modifier = panum_epidemic_smallpox_normal_modifier
		has_modifier = panum_epidemic_smallpox_mild_modifier
	}
}

panum_has_smallpox_description_trigger = {
	custom_tooltip = {
		text = panum_has_smallpox_description_tt
		has_variable = panum_smallpox_description_var
	}
}

panum_has_smallpox_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_smallpox_treatment_tt
		has_variable = panum_smallpox_treatment_var
	}
}

###Typhus###

panum_country_can_have_typhus_trigger = {
	NOT = {
		has_variable = panum_recent_typhus_in_country_var
	}
	panum_has_typhus_prevention_trigger = no
	panum_has_epidemic_trigger = no
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_typhus_var
		}
		devastation > 0.15
	}
}

panum_state_can_have_typhus_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_typhus_var
		}
		any_neighbouring_state = {
			panum_state_has_typhus_trigger = yes
		}
		devastation > 0.15
	}
}

panum_has_typhus_prevention_trigger = {
	theiler_has_typhus_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 3
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_typhus_trigger = {
	OR = {
		has_modifier = panum_epidemic_typhus_severe_modifier
		has_modifier = panum_epidemic_typhus_normal_modifier
		has_modifier = panum_epidemic_typhus_mild_modifier
	}
}

panum_has_typhus_description_trigger = {
	custom_tooltip = {
		text = panum_has_typhus_description_tt
		has_variable = panum_typhus_description_var
	}
}

panum_has_typhus_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_typhus_treatment_tt
		has_variable = panum_typhus_treatment_var
	}
}

###Yellow fever###

panum_country_can_have_yellow_fever_trigger = {
	NOT = {
		has_variable = panum_recent_yellow_fever_in_country_var
	}
	panum_has_yellow_fever_prevention_trigger = no
	panum_has_epidemic_trigger = no
	any_scope_state = {
		OR = {
			region = sr:region_dixie
			region = sr:region_mexico
			region = sr:region_central_america
			region = sr:region_caribbean

			region = sr:region_brazil
			region = sr:region_gran_colombia
			state_region = s:STATE_SANTA_CRUZ
			state_region = s:STATE_LA_PAZ
			state_region = s:STATE_PASTAZA
			state_region = s:STATE_ACRE
			state_region = s:STATE_ALTO_PARAGUAY
			state_region = s:STATE_BAJO_PARAGUAY
			state_region = s:STATE_CORRIENTES
			state_region = s:STATE_SANTA_FE
			state_region = s:STATE_BUENOS_AIRES

			AND = {
				state_is_in_africa = yes
				has_state_trait = state_trait_malaria
			}
			AND = {
				state_is_in_africa = yes
				has_state_trait = state_trait_severe_malaria
			}
		}
	}
}

panum_state_can_have_yellow_fever_trigger = {
	any_scope_state = {
		any_neighbouring_state = {
			panum_state_has_yellow_fever_trigger = yes
		}
		OR = {
			region = sr:region_dixie
			region = sr:region_mexico
			region = sr:region_central_america
			region = sr:region_caribbean

			region = sr:region_brazil
			region = sr:region_gran_colombia
			state_region = s:STATE_SANTA_CRUZ
			state_region = s:STATE_LA_PAZ
			state_region = s:STATE_PASTAZA
			state_region = s:STATE_ACRE
			state_region = s:STATE_ALTO_PARAGUAY
			state_region = s:STATE_BAJO_PARAGUAY
			state_region = s:STATE_CORRIENTES
			state_region = s:STATE_SANTA_FE
			state_region = s:STATE_BUENOS_AIRES

			AND = {
				state_is_in_africa = yes
				has_state_trait = state_trait_malaria
			}
			AND = {
				state_is_in_africa = yes
				has_state_trait = state_trait_severe_malaria
			}
		}
	}
}

panum_has_yellow_fever_prevention_trigger = {
	theiler_has_yellow_fever_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 3
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_yellow_fever_trigger = {
	OR = {
		has_modifier = panum_epidemic_yellow_fever_severe_modifier
		has_modifier = panum_epidemic_yellow_fever_normal_modifier
		has_modifier = panum_epidemic_yellow_fever_mild_modifier
	}
}

panum_has_yellow_fever_description_trigger = {
	custom_tooltip = {
		text = panum_has_yellow_fever_description_tt
		has_variable = panum_yellow_fever_description_var
	}
}

panum_has_yellow_fever_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_yellow_fever_treatment_tt
		has_variable = panum_yellow_fever_treatment_var
	}
}

###Measles###

panum_country_can_have_measles_trigger = {
	NOT = {
		has_variable = panum_recent_measles_in_country_var
	}
	panum_has_measles_prevention_trigger = no
	panum_has_epidemic_trigger = no
	panum_state_can_have_measles_trigger = yes
}

panum_state_can_have_measles_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_measles_var
		}
		any_neighbouring_state = {
			panum_state_has_measles_trigger = yes
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 30
		}
		total_urbanization >= 300
	}
}

panum_has_measles_prevention_trigger = {
	theiler_has_measles_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 5
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_measles_trigger = {
	OR = {
		has_modifier = panum_epidemic_measles_severe_modifier
		has_modifier = panum_epidemic_measles_normal_modifier
		has_modifier = panum_epidemic_measles_mild_modifier
	}
}

panum_has_measles_description_trigger = {
	custom_tooltip = {
		text = panum_has_measles_description_tt
		has_variable = panum_measles_description_var
	}
}

panum_has_measles_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_measles_treatment_tt
		has_variable = panum_measles_treatment_var
	}
}

###Scarlet###

panum_country_can_have_scarlet_trigger = {
	NOT = {
		has_variable = panum_recent_scarlet_in_country_var
	}
	panum_has_scarlet_prevention_trigger = no
	panum_has_epidemic_trigger = no
	panum_state_can_have_scarlet_trigger = yes
}

panum_state_can_have_scarlet_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_scarlet_var
		}
		any_neighbouring_state = {
			panum_state_has_scarlet_trigger = yes
		}
		is_incorporated = yes
	}
}

panum_has_scarlet_prevention_trigger = {
	theiler_has_scarlet_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 3
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_scarlet_trigger = {
	OR = {
		has_modifier = panum_epidemic_scarlet_severe_modifier
		has_modifier = panum_epidemic_scarlet_normal_modifier
		has_modifier = panum_epidemic_scarlet_mild_modifier
	}
}

panum_has_scarlet_description_trigger = {
	custom_tooltip = {
		text = panum_has_scarlet_description_tt
		has_variable = panum_scarlet_description_var
	}
}

panum_has_scarlet_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_scarlet_treatment_tt
		has_variable = panum_scarlet_treatment_var
	}
}

###Plague###

panum_country_can_have_plague_trigger = {
	NOT = {
		has_variable = panum_recent_plague_in_country_var
	}
	panum_has_plague_prevention_trigger = no
	panum_has_epidemic_trigger = no
	panum_state_can_have_plague_trigger = yes
}

panum_state_can_have_plague_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_plague_var
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 15
		}
		any_neighbouring_state = {
			panum_state_has_plague_trigger = yes
		}
	}
}

panum_has_plague_prevention_trigger = {
	theiler_has_plague_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 2
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_plague_trigger = {
	OR = {
		has_modifier = panum_epidemic_plague_severe_modifier
		has_modifier = panum_epidemic_plague_normal_modifier
		has_modifier = panum_epidemic_plague_mild_modifier
	}
}

panum_has_plague_description_trigger = {
	custom_tooltip = {
		text = panum_has_plague_description_tt
		has_variable = panum_plague_description_var
	}
}

panum_has_plague_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_plague_treatment_tt
		has_variable = panum_plague_treatment_var
	}
}

###Diphteria###

panum_country_can_have_diphteria_trigger = {
	NOT = {
		has_variable = panum_recent_diphteria_in_country_var
	}
	panum_has_diphteria_prevention_trigger = no
	panum_has_epidemic_trigger = no
	panum_state_can_have_diphteria_trigger = yes
}

panum_state_can_have_diphteria_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_diphteria_var
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 20
		}
	}
}

panum_has_diphteria_prevention_trigger = {
	theiler_has_diphteria_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 3
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_diphteria_trigger = {
	OR = {
		has_modifier = panum_epidemic_diphteria_severe_modifier
		has_modifier = panum_epidemic_diphteria_normal_modifier
		has_modifier = panum_epidemic_diphteria_mild_modifier
	}
}

panum_has_diphteria_description_trigger = {
	custom_tooltip = {
		text = panum_has_diphteria_description_tt
		has_variable = panum_diphteria_description_var
	}
}

panum_has_diphteria_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_diphteria_treatment_tt
		has_variable = panum_diphteria_treatment_var
	}
}

###Polio###

panum_country_can_have_polio_trigger = {
	NOT = {
		has_variable = panum_recent_polio_in_country_var
	}
	panum_has_polio_prevention_trigger = no
	panum_has_epidemic_trigger = no
	panum_state_can_have_polio_trigger = yes
}

panum_state_can_have_polio_trigger = {
	any_scope_state = {
		NOT = {
			has_variable = panum_recent_polio_var
		}
		any_scope_pop = {
			strata = poor
			standard_of_living <= 25
		}
		total_urbanization >= 1000
	}
}

panum_has_polio_prevention_trigger = {
	theiler_has_polio_vaccine_trigger = yes
	institution_investment_level = {
		institution	= institution_health_system
		value >= 4
	}
	NOT = {
		has_law = law_type:law_no_health_system
	}
}

panum_state_has_polio_trigger = {
	OR = {
		has_modifier = panum_epidemic_polio_severe_modifier
		has_modifier = panum_epidemic_polio_normal_modifier
		has_modifier = panum_epidemic_polio_mild_modifier
	}
}

panum_has_polio_description_trigger = {
	custom_tooltip = {
		text = panum_has_polio_description_tt
		has_variable = panum_polio_description_var
	}
}

panum_has_polio_treatment_trigger = {
	custom_tooltip = {
		text = panum_has_polio_treatment_tt
		has_variable = panum_polio_treatment_var
	}
}

############################

######SGUI######

### Triggers to determine if a description of a disease is possible ###

panum_can_describe_local_disease_trigger = {
	OR = {
		AND = {
			has_journal_entry = je_panum_cholera
			panum_has_cholera_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_tuberculosis
			panum_has_tuberculosis_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_smallpox
			panum_has_smallpox_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_typhus
			panum_has_typhus_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_yellow_fever
			panum_has_yellow_fever_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_measles
			panum_has_measles_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_scarlet
			panum_has_scarlet_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_plague
			panum_has_plague_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_diphteria
			panum_has_diphteria_description_trigger = no
		}
		AND = {
			has_journal_entry = je_panum_polio
			panum_has_polio_description_trigger = no
		}
	}
}

panum_can_describe_foreign_disease_trigger = {
	OR = {
		AND = {
			any_country = {
				has_journal_entry = je_panum_cholera
				has_diplomatic_relevance = ROOT
			}
			panum_has_cholera_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_tuberculosis
				has_diplomatic_relevance = ROOT
			}
			panum_has_tuberculosis_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_smallpox
				has_diplomatic_relevance = ROOT
			}
			panum_has_smallpox_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_typhus
				has_diplomatic_relevance = ROOT
			}
			panum_has_typhus_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_yellow_fever
				has_diplomatic_relevance = ROOT
			}
			panum_has_yellow_fever_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_measles
				has_diplomatic_relevance = ROOT
			}
			panum_has_measles_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_scarlet
				has_diplomatic_relevance = ROOT
			}
			panum_has_scarlet_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_plague
				has_diplomatic_relevance = ROOT
			}
			panum_has_plague_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_diphteria
				has_diplomatic_relevance = ROOT
			}
			panum_has_diphteria_description_trigger = no
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_polio
				has_diplomatic_relevance = ROOT
			}
			panum_has_polio_description_trigger = no
		}
	}
}

### Triggers to determine if a treatment of a disease is possible ###

panum_can_find_local_treatment_trigger = {
	OR = {
		AND = {
			has_journal_entry = je_panum_cholera
			panum_has_cholera_description_trigger = yes
			panum_has_cholera_treatment_trigger = no
			panum_cholera_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_tuberculosis
			panum_has_tuberculosis_description_trigger = yes
			panum_has_tuberculosis_treatment_trigger = no
			panum_tuberculosis_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_smallpox
			panum_has_smallpox_description_trigger = yes
			panum_has_smallpox_treatment_trigger = no
			panum_smallpox_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_typhus
			panum_has_typhus_description_trigger = yes
			panum_has_typhus_treatment_trigger = no
			panum_typhus_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_yellow_fever
			panum_has_yellow_fever_description_trigger = yes
			panum_has_yellow_fever_treatment_trigger = no
			panum_yellow_fever_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_measles
			panum_has_measles_description_trigger = yes
			panum_has_measles_treatment_trigger = no
			panum_measles_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_scarlet
			panum_has_scarlet_description_trigger = yes
			panum_has_scarlet_treatment_trigger = no
			panum_scarlet_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_plague
			panum_has_plague_description_trigger = yes
			panum_has_plague_treatment_trigger = no
			panum_plague_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_diphteria
			panum_has_diphteria_description_trigger = yes
			panum_has_diphteria_treatment_trigger = no
			panum_diphteria_research_tech_requirement_trigger = yes
		}
		AND = {
			has_journal_entry = je_panum_polio
			panum_has_polio_description_trigger = yes
			panum_has_polio_treatment_trigger = no
			panum_polio_research_tech_requirement_trigger = yes
		}
	}
}

panum_can_find_foreign_treatment_trigger = {
	OR = {
		AND = {
			any_country = {
				has_journal_entry = je_panum_cholera
				has_diplomatic_relevance = ROOT
			}
			panum_has_cholera_description_trigger = yes
			panum_has_cholera_treatment_trigger = no
			panum_cholera_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_tuberculosis
				has_diplomatic_relevance = ROOT
			}
			panum_has_tuberculosis_description_trigger = yes
			panum_has_tuberculosis_treatment_trigger = no
			panum_tuberculosis_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_smallpox
				has_diplomatic_relevance = ROOT
			}
			panum_has_smallpox_description_trigger = yes
			panum_has_smallpox_treatment_trigger = no
			panum_smallpox_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_typhus
				has_diplomatic_relevance = ROOT
			}
			panum_has_typhus_description_trigger = yes
			panum_has_typhus_treatment_trigger = no
			panum_typhus_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_yellow_fever
				has_diplomatic_relevance = ROOT
			}
			panum_has_yellow_fever_description_trigger = yes
			panum_has_yellow_fever_treatment_trigger = no
			panum_yellow_fever_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_measles
				has_diplomatic_relevance = ROOT
			}
			panum_has_measles_description_trigger = yes
			panum_has_measles_treatment_trigger = no
			panum_measles_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_scarlet
				has_diplomatic_relevance = ROOT
			}
			panum_has_scarlet_description_trigger = yes
			panum_has_scarlet_treatment_trigger = no
			panum_scarlet_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_plague
				has_diplomatic_relevance = ROOT
			}
			panum_has_plague_description_trigger = yes
			panum_has_plague_treatment_trigger = no
			panum_plague_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_diphteria
				has_diplomatic_relevance = ROOT
			}
			panum_has_diphteria_description_trigger = yes
			panum_has_diphteria_treatment_trigger = no
			panum_diphteria_research_tech_requirement_trigger = yes
		}
		AND = {
			any_country = {
				has_journal_entry = je_panum_polio
				has_diplomatic_relevance = ROOT
			}
			panum_has_polio_description_trigger = yes
			panum_has_polio_treatment_trigger = no
			panum_polio_research_tech_requirement_trigger = yes
		}
	}
}

############################

### Triggers for Technology required for disease research ###
panum_cholera_research_tech_requirement_trigger = {
	has_technology_researched = modern_sewerage
}
panum_diphteria_research_tech_requirement_trigger = {
	has_technology_researched = panum_antitoxins_tech
}
panum_measles_research_tech_requirement_trigger = {
	has_technology_researched = antibiotics
}
panum_plague_research_tech_requirement_trigger = {
	has_technology_researched = antibiotics
}
panum_polio_research_tech_requirement_trigger = {
	has_technology_researched = panum_antitoxins_tech
}
panum_scarlet_research_tech_requirement_trigger = {
	has_technology_researched = panum_antitoxins_tech
}
panum_smallpox_research_tech_requirement_trigger = {
	has_technology_researched = medical_degrees
}
panum_tuberculosis_research_tech_requirement_trigger = {
	has_technology_researched = pasteurization
}
panum_typhus_research_tech_requirement_trigger = {
	has_technology_researched = modern_nursing
}
panum_yellow_fever_research_tech_requirement_trigger = {
	has_technology_researched = malaria_prevention
}

############################

### Triggers for the rating display physician ###
panum_physician_fantastic_rating_trigger = {
	panum_physician_character_rating_value > 8
}

panum_physician_very_good_rating_trigger = {
	panum_physician_character_rating_value > 5
}

panum_physician_good_rating_trigger = {
	panum_physician_character_rating_value > 2
}

panum_physician_mediocre_rating_trigger = {
	panum_physician_character_rating_value > 0
}

############################

#Trigger to check if a character has any disease or other health problem (use in character_scope)
panum_character_has_negative_health_trait_trigger = {
	OR = {
		has_trait = sickly
		has_trait = wounded
		has_trait = kidney_stones
		has_trait = cancer
		has_trait = syphilis
		has_trait = panum_cholera
		has_trait = panum_tuberculosis
		has_trait = panum_yellow_fever
		has_trait = psychological_affliction
		has_trait = shellshocked
		has_trait = alcoholic
		has_trait = opium_addiction
	}
}

#Checks if any characters of a country can be treated
panum_can_any_characters_be_treated_no_tooltip_trigger = {
	OR = {
		any_scope_character = {
			panum_character_has_negative_health_trait_trigger = yes
		}
		trigger_if = {
			limit = { gaudi_has_engineer = yes }
			var:gaudi_engineer_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { mendelejew_has_chemist_no_tooltip_trigger = yes }
			var:mendelejew_chemist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { verrier_has_astronomer_no_tooltip_trigger = yes }
			var:verrier_astronomer_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { curie_has_physicist_no_tooltip_trigger = yes }
			var:curie_physicist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { dubois_has_geologist_no_tooltip_trigger = yes }
			var:dubois_geologist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { dubois_has_naturalist_no_tooltip_trigger = yes }
			var:dubois_naturalist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { dubois_has_paleontologist_no_tooltip_trigger = yes }
			var:dubois_paleontologist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { theiler_has_biologist_no_tooltip_trigger = yes }
			var:theiler_biologist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { panum_has_physician_no_tooltip_trigger = yes }
			var:panum_physician_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { lepsius_has_archaeologist_no_tooltip_trigger = yes }
			var:lepsius_archaeologist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { lepsius_has_anthropologist_no_tooltip_trigger = yes }
			var:lepsius_anthropologist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		#TODO: Add Ethnologist
		trigger_if = {
			limit = { elgar_has_composer_no_tooltip_trigger = yes }
			var:elgar_composer_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { manzoni_has_writer_no_tooltip = yes }
			var:manzoni_writer_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { klimt_has_painter_no_tooltip = yes }
			var:klimt_painter_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { curtiss_has_balloonist_no_tooltip_trigger = yes }
			var:curtiss_balloonist_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { curtiss_has_pilot_no_tooltip_trigger = yes }
			var:curtiss_pilot_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
		trigger_if = {
			limit = { has_variable = vikelas_racer_var }
			var:vikelas_racer_var = {
				panum_character_has_negative_health_trait_trigger = yes
			}
		}
	}
}
