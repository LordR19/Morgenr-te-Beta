#####################
# ACADEMICS EVENTS  #
#####################

#by Lord R

###################

namespace = academics

###################

###Retirement###

#Academics 1: Engineer retires
#Academics 2: Astronomer retires
#Academics 3: Naturalist retires
#Academics 4: Paleontologist retires
#Academics 5: Archaeologist retires
#Academics 6: Anthropologist retires

###Academy###

#Academics 50: Academy Progress
#Academics 51: Engineer
#Academics 52: Astronomer
#Academics 53: Naturalist
#Academics 54: Paleontologist
#Academics 55: Archaeologist
#Academics 56: Anthropologist

#Academics 60: Random Scientist

#################################################################################

#Academics 1: Engineer retires
academics.1 = {
	type = country_event

	title = academics.1.t

	desc = academics.1.d

#	flavor = academics.1.f
	
	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:academics_retired_person_scope

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = {
			has_variable = academics_engineer_emeritus_delayed_var
		}
		gaudi_has_engineer = yes
		var:gaudi_engineer_var = {
			age >= 65
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:gaudi_engineer_var = {
				age >= 70
			}
			factor = 10000
		}
	}

	immediate = {
		var:gaudi_engineer_var = {
			save_scope_as = academics_retired_person_scope
		}
	}

	option = {	#He earned his retirement
		name = academics.1.g
		default_option = yes

		kill_engineer_effect = yes

		if = {
			limit = { has_modifier = academics_engineer_emeritus_delayed_modifier }
			remove_modifier = academics_engineer_emeritus_delayed_modifier
		}
	}

	option = {	#We need him! Pay him extra!
		name = academics.1.h

		trigger = {
			NOT = {
				has_modifier = academics_engineer_emeritus_delayed_modifier
			}
		}

		add_modifier = {
			name = academics_engineer_emeritus_delayed_modifier
		}
		set_variable = {
			name = academics_engineer_emeritus_delayed_var
			years = { 1 5 }
		}

		ai_chance = {
			base = 0
		}
	}
}

#Academics 2: Astronomer retires
academics.2 = {
	type = country_event

	title = academics.2.t

	desc = academics.2.d

#	flavor = academics.2.f
	
	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:academics_retired_person_scope

	icon = "gfx/interface/icons/event_icons/event_astronomy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = {
			has_variable = academics_astronomer_emeritus_delayed_var
		}
		verrier_has_astronomer = yes
		var:verrier_astronomer_var = {
			age >= 65
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:verrier_astronomer_var = {
				age >= 70
			}
			factor = 10000
		}
	}

	immediate = {
		var:verrier_astronomer_var = {
			save_scope_as = academics_retired_person_scope
		}
	}

	option = {	#He earned his retirement
		name = academics.1.g
		default_option = yes

		kill_astronomer_effect = yes
	}
	
	option = {	#We need him! Pay him extra!
		name = academics.1.h

		trigger = {
			NOT = {
				has_modifier = academics_astronomer_emeritus_delayed_modifier
			}
		}

		add_modifier = {
			name = academics_astronomer_emeritus_delayed_modifier
		}
		set_variable = {
			name = academics_astronomer_emeritus_delayed_var
			years = { 1 5 }
		}

		ai_chance = {
			base = 0
		}
	}
}

#Academics 3: Naturalist retires
academics.3 = {
	type = country_event

	title = academics.3.t

	desc = academics.3.d

#	flavor = academics.3.f
	
	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:academics_retired_person_scope

	icon = "gfx/interface/icons/event_icons/event_astronomy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = {
			has_variable = academics_naturalist_emeritus_delayed_var
		}
		dubois_has_naturalist = yes
		var:dubois_naturalist_var = {
			age >= 65
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:dubois_naturalist_var = {
				age >= 70
			}
			factor = 10000
		}
	}

	immediate = {
		var:dubois_naturalist_var = {
			save_scope_as = academics_retired_person_scope
		}
	}

	option = {	#He earned his retirement
		name = academics.1.g
		default_option = yes

		kill_naturalist_effect = yes
	}
	
	option = {	#We need him! Pay him extra!
		name = academics.1.h

		trigger = {
			NOT = {
				has_modifier = academics_naturalist_emeritus_delayed_modifier
			}
		}

		add_modifier = {
			name = academics_naturalist_emeritus_delayed_modifier
		}
		set_variable = {
			name = academics_naturalist_emeritus_delayed_var
			years = { 1 5 }
		}

		ai_chance = {
			base = 0
		}
	}
}

#Academics 4: Paleontologist retires
academics.4 = {
	type = country_event

	title = academics.4.t

	desc = academics.4.d

#	flavor = academics.4.f
	
	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:academics_retired_person_scope

	icon = "gfx/interface/icons/event_icons/event_astronomy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = {
			has_variable = academics_paleontologist_emeritus_delayed_var
		}
		dubois_has_paleontologist = yes
		var:dubois_paleontologist_var = {
			age >= 65
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:dubois_paleontologist_var = {
				age >= 70
			}
			factor = 10000
		}
	}

	immediate = {
		var:dubois_paleontologist_var = {
			save_scope_as = academics_retired_person_scope
		}
	}

	option = {	#He earned his retirement
		name = academics.1.g
		default_option = yes

		kill_paleontologist_effect = yes
	}
	
	option = {	#We need him! Pay him extra!
		name = academics.1.h

		trigger = {
			NOT = {
				has_modifier = academics_engineer_emeritus_delayed_modifier
			}
		}

		add_modifier = {
			name = academics_paleontologist_emeritus_delayed_modifier
		}
		set_variable = {
			name = academics_paleontologist_emeritus_delayed_modifier
			years = { 1 5 }
		}

		ai_chance = {
			base = 0
		}
	}
}

#Academics 5: Archaeologist retires
academics.5 = {
	type = country_event

	title = academics.5.t

	desc = academics.5.d

#	flavor = academics.5.f
	
	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:academics_retired_person_scope

	icon = "gfx/interface/icons/event_icons/event_astronomy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = {
			has_variable = academics_archaeologist_emeritus_delayed_modifier
		}
		lepsius_has_archaeologist = yes
		var:lepsius_archaeologist_var = {
			age >= 65
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:lepsius_archaeologist_var = {
				age >= 70
			}
			factor = 10000
		}
	}

	immediate = {
		var:lepsius_archaeologist_var = {
			save_scope_as = academics_retired_person_scope
		}
	}

	option = {	#He earned his retirement
		name = academics.1.g
		default_option = yes

		kill_archaeologist_effect = yes
	}
	
	option = {	#We need him! Pay him extra!
		name = academics.1.h

		trigger = {
			NOT = {
				has_modifier = academics_archaeologist_emeritus_delayed_modifier
			}
		}

		add_modifier = {
			name = academics_archaeologist_emeritus_delayed_modifier
		}
		set_variable = {
			name = academics_archaeologist_emeritus_delayed_var
			years = { 1 5 }
		}

		ai_chance = {
			base = 0
		}
	}
}

#Academics 6: Anthropologist retires
academics.6 = {
	type = country_event

	title = academics.6.t

	desc = academics.6.d

#	flavor = academics.6.f
	
	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:academics_retired_person_scope

	icon = "gfx/interface/icons/event_icons/event_astronomy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		NOT = {
			has_variable = academics_anthropologist_emeritus_delayed_modifier
		}
		lepsius_has_anthropologist = yes
		var:lepsius_anthropologist_var = {
			age >= 65
		}
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:lepsius_anthropologist_var = {
				age >= 70
			}
			factor = 10000
		}
	}

	immediate = {
		var:lepsius_anthropologist_var = {
			save_scope_as = academics_retired_person_scope
		}
	}

	option = {	#He earned his retirement
		name = academics.1.g
		default_option = yes

		kill_anthropologist_effect = yes
	}
	
	option = {	#We need him! Pay him extra!
		name = academics.1.h

		trigger = {
			NOT = {
				has_modifier = academics_anthropologist_emeritus_delayed_modifier
			}
		}

		add_modifier = {
			name = academics_anthropologist_emeritus_delayed_modifier
		}
		set_variable = {
			name = academics_anthropologist_emeritus_delayed_var
			years = { 1 5 }
		}

		ai_chance = {
			base = 0
		}
	}
}

#################################################################################

######ACADEMY######

#Academics 50: Academy Progress

academics.50 = {
	type = country_event

	hidden = yes

	trigger = {
		any_scope_building = { #No academy progress without academy
			is_building_type = building_university
		}
	}

	immediate = {
		dubois_add_academy_progress = yes #basic progress

		if = { #Literacy 25%
			limit = {
				literacy_rate >= 0.25
			}
			dubois_add_academy_progress = yes
		}
		if = { #Literacy 50%
			limit = {
				literacy_rate >= 0.5
			}
			dubois_add_academy_progress = yes
		}
		if = { #Literacy 75%
			limit = {
				literacy_rate >= 0.75
			}
			dubois_add_academy_progress = yes
		}
		if = { #Institution Level 2
			limit = {
            	institution_investment_level = {
                	institution	= institution_schools
                	value = 2
            	}
        	}
			dubois_add_academy_progress = yes
		}
		if = { #Institution Level 4
			limit = {
            	institution_investment_level = {
                	institution	= institution_schools
                	value = 4
            	}
        	}
			dubois_add_academy_progress = yes
		}
		if = { #Intelligentsia is content
			limit = {
            	ig:ig_intelligentsia = {
					ig_approval >= 5
				}
        	}
			dubois_add_academy_progress = yes
		}
		if = { #Promotes Scientist via Focus University (Humanities)
			limit = {
				has_variable = dubois_promote_humanities_active
            	any_scope_building = {
					is_building_type = building_university
					has_active_production_method = pm_dubois_university_humanities
				}
        	}
			dubois_add_academy_progress = yes
		}
		if = { #Promotes Scientist via Focus University (Natural History)
			limit = {
				has_variable = dubois_promote_natural_history_active
            	any_scope_building = {
					is_building_type = building_university
					has_active_production_method = pm_dubois_university_natural_history
				}
        	}
			dubois_add_academy_progress = yes
		}
		if = { #Promotes Scientist via Focus University (Mathematics)
			limit = {
				has_variable = dubois_promote_mathematics_active
            	any_scope_building = {
					is_building_type = building_university
					has_active_production_method = pm_dubois_university_mathematics
				}
        	}
			dubois_add_academy_progress = yes
		}
		if = { #Academy Investment
			limit = {
            	has_modifier = dubois_academy_investment_modifier
        	}
			dubois_add_academy_progress = yes
			dubois_add_academy_progress = yes
		}
	}
}

#Academics 51: Engineer

academics.51 = {
	type = country_event

	title = academics.51.t

	desc = academics.51.d

	flavor = academics.51.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:gaudi_new_engineer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		create_new_engineer_effect = yes
	}

	option = {
		name = academics.51.g
		default_option = yes

		gaudi_set_new_engineer_as_engineer_effect = yes

		ai_chance = {
			base = 90
		}
	}

	option = {
		name = academics.51.h
		verrier_medium_add_technology = yes
		gaudi_remove_new_engineer_effect = yes

		ai_chance = {
			base = 10
		}
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}

#Academics 52: Astronomer

academics.52 = {
	type = country_event

	title = academics.51.t

	desc = academics.52.d

	flavor = academics.51.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:verrier_new_astronomer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		verrier_new_astronomer_scope = yes
	}

	option = {
		name = academics.51.g
		default_option = yes

		verrier_set_new_astronomer_as_astronomer_effect = yes

		ai_chance = {
			base = 90
		}
	}

	option = {
		name = academics.51.h
		verrier_medium_add_technology = yes
		verrier_remove_new_astronomer_effect = yes

		ai_chance = {
			base = 10
		}
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}

#Academics 53: Naturalist

academics.53 = {
	type = country_event

	title = academics.51.t

	desc = academics.53.d

	flavor = academics.51.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:dubois_new_naturalist_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		create_new_naturalist_effect = yes
	}

	option = {
		name = academics.51.g
		default_option = yes

		dubois_set_new_naturalist_as_naturalist_effect = yes

		ai_chance = {
			base = 90
		}
	}

	option = {
		name = academics.51.h
		dubois_medium_add_technology = yes
		dubois_remove_new_naturalist_effect = yes

		ai_chance = {
			base = 10
		}
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}

#Academics 54: Paleontologist

academics.54 = {
	type = country_event

	title = academics.51.t

	desc = academics.54.d

	flavor = academics.51.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:dubois_new_paleontologist_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		create_new_paleontologist_effect = yes
	}

	option = {
		name = academics.51.g
		default_option = yes

		dubois_set_new_paleontologist_as_paleontologist_effect = yes

		ai_chance = {
			base = 90
		}
	}

	option = {
		name = academics.51.h
		dubois_medium_add_technology = yes
		dubois_remove_new_paleontologist_effect = yes

		ai_chance = {
			base = 10
		}
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}

#Academics 55: Archaeologist

academics.55 = {
	type = country_event

	title = academics.51.t

	desc = academics.55.d

	flavor = academics.51.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:lepsius_new_archaeologist_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		create_new_archaeologist_effect = yes
	}

	option = {
		name = academics.51.g
		default_option = yes

		lepsius_set_new_archaeologist_as_archaeologist_effect = yes

		ai_chance = {
			base = 90
		}
	}

	option = {
		name = academics.51.h
		lepsius_medium_add_technology = yes
		kill_archaeologist_effect = yes

		ai_chance = {
			base = 10
		}
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}

#Academics 56: Anthropologist

academics.56 = {
	type = country_event

	title = academics.51.t

	desc = academics.56.d

	flavor = academics.51.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:lepsius_new_anthropologist_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		create_new_anthropologist_effect = yes
	}

	option = {
		name = academics.51.g
		default_option = yes

		lepsius_set_new_anthropologist_as_anthropologist_effect = yes

		ai_chance = {
			base = 90
		}
	}

	option = {
		name = academics.51.h
		lepsius_medium_add_technology = yes
		lepsius_remove_new_anthropologist_effect = yes

		ai_chance = {
			base = 10
		}
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}

#Academics 60: Random Scientist

academics.60 = {
	type = country_event

	title = academics.51.t

	desc = {
		triggered_desc = {
			trigger = {
				has_variable = dubois_promote_engineer
			}
			desc = academics.60.d.engineer
		}
		triggered_desc = {
			trigger = {
				has_variable = dubois_promote_astronomer
			}
			desc = academics.60.d.astronomer
		}
		triggered_desc = {
			trigger = {
				has_variable = dubois_promote_naturalist
			}
			desc = academics.60.d.naturalist
		}
		triggered_desc = {
			trigger = {
				has_variable = dubois_promote_paleontologist
			}
			desc = academics.60.d.paleontologist
		}
		triggered_desc = {
			trigger = {
				has_variable = dubois_promote_archaeologist
			}
			desc = academics.60.d.archaeologist
		}
	}

	flavor = academics.51.f

	event_image = {
		texture = "gfx/event_pictures/dubois_pictures/dubois_academy.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	trigger = {
	}

	immediate = {
		random_list = { #randomizes scientist
			1 = { 
				set_variable = dubois_promote_engineer
				create_engineer_effect = yes
			}
			1 = { 
				set_variable = dubois_promote_astronomer
				create_astronomer_effect = yes
			}
			1 = { 
				set_variable = dubois_promote_naturalist
				create_naturalist_effect = yes
			}
			1 = { 
				set_variable = dubois_promote_paleontologist
				create_paleontologist_effect = yes
			}
			#1 = { 
			#	set_variable = dubois_promote_archaeologist
			#	create_archaeologist_effect = yes
			#}
		}
	}

	option = {
		name = academics.51.g
	}

	after = {
		dubois_remove_academy_effect = yes
	}
}
