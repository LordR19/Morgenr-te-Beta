#################
# ELGAR EVENTS  #
#################

#by Marco Dandolo

###################

namespace = elgar

###################

#Events

#Elgar 1: Yearly music tradition
#Elgar 2: Modifier control
#Elgar 3: Impressionism
#Elgar 4: Expressionism
#Elgar 5: Art Nouveau
#Elgar 6: Impressionism spreads
#Elgar 7: Expressionism spreads
#Elgar 8: Art Nouveau spreads
#Elgar 9: Twelve-tone technique

#Elgar 10: Visit Opera house

###Beethoven Monument and Beethoven Festival###

#Elgar 101: A Monument for Beethoven
#Elgar 102: Preparing the Beethoven Festival
#Elgar 103: Invitation for the Beethoven Festival
#Elgar 104: Build the Beethoven Hall (needs Dombau)
#Elgar 105: The Beethoven Festival
#Elgar 106: Liszt-Cantata (needs Liszt)
#Elgar 107: Berlioz at the Beethoven Festival (needs Berlioz)
#Elgar 108: Victoria visits the Cathedral (needs Dombau)

###Mozart Monument and Mozart Festival###

#Elgar 111: A Monument for Mozart
#Elgar 112: A Monument for Mozart [Response]
#Elgar 113: The Mozart Monument
#Elgar 114: A living memorial
#Elgar 115: Invitation for Sängerfest
#Elgar 116: The Mozart Festival

######NATIONAL Composers######

###German Composers###

#Elgar 201: Nicolai, Weiber von Windsor [Berlin, 1849] +50
#Elgar 202: Schumann, Rheinische (needs Dombau) [Düsseldorf, 1851] +50
#Elgar 203: Richard Strauss, Salomé [Dresden, 1905] +100
#Elgar 204: Giacomo Meyerbeer, [Berlin, 1842] + 50

###Austrian Composers

#Elgar 211: Schubert, Fifth Symphony [Wien, 1841] +50
#Elgar 212: Johann Strauss, Fledermaus [Wien, 1874] +50
#Elgar 213: Bruckner, Te Deum [Wien, 1886] +100
#Elgar 214: Schönberg, twelve-tone technique [Wien, 1920] +50

###Italian Composers###

#Elgar 221: Paganini's death [Genoa, 1840] +50
#Elgar 222: Verdi, Nabucco [ITA/AUS, 1842] +50
#Elgar 223: Verdi, Nabucco Notification [ITA/AUS, 1842] +50
#Elgar 224: Verdi, Aida [ITA/EGY, 1871] +50
#Elgar 225: Verdi, Aida Notification [ITA/EGY, 1871] +50
#Elgar 226: Mascagni, Cavalleria Rusticana [Roma, 1890] +50
#Elgar 227: Respighi, Fontane di Roma [Roma, 1916] +50
#Elgar 228: Puccini, Turandot [Milano, 1926] +50

###Russian Composers###

#Elgar 231: Glinka, A Life for the Tsar [1836] +50
#Elgar 232: Mussorgsky, Boris Gudonov [1874] +50
#Elgar 233: Tchaikovsky, Swan Lake [1877] +100
#Elgar 234: Rimsky-Korsakow, Sheherazade [1888] +50
#Elgar 235: Borodin, Prince Igor [1890] +50

###French Composers###

#Elgar 241: Offenbach, Orpheus [Paris, 1858] +50
#Elgar 242: Saint-Saëns, Danse macabre [Paris, 1874] +50
#Elgar 243: Bizet, Carmen [Paris, 1875] +50
#Elgar 244: Debussy, Prélude à l'après-midi d'un faune [Paris, 1894] +100
#Elgar 245: Ravel, Daphnis et Chloé [Paris, 1912] +50

###British Composers###
 
#Elgar 251: Sullivan, Mikado [1885] +50
#Elgar 252: Elgar, Pomp & Circumstance [1901] +100
#Elgar 253: Williams, Fantasia on a Theme by Thomas Tallis [1910] +50
#Elgar 254: Holst, The Planets [1918] +50

###American Composers###

#Elgar 261: Sullivan, The Pirates of Penzance [1879] + 50
#Elgar 262: Sousa, Stars & Stripes [1896] +50
#Elgar 263: George Gershwin, Rhapsody in Blue [1924] +50
#Elgar 264: Copland, Short Symphony [1933] +50

###Spanish Composers###

#Elgar 271: Albéniz, Chants d'Espagne [1892] +50
#Elgar 272: Granados, Goyescas [1911] +50
#Elgar 273: De Falla, El amor brujo [1915] +50

###Other Composers###

#Elgar 281: Antônio Carlos Gomes, Il Guarany [1870] +50
#Elgar 282: Sibelius, Finlandia +50
#Elgar 283: Aniceto Ortega, Guatimotzin [1871] +50
#Elgar 284: Smetana +50
#Elgar 286: Bartók +50
#Elgar 287: Carlos Chávez, Sinfonía india [1935] +50

###Random Cosmopolitain Composer Events

#Elgar 301: Good rehearsals
#Elgar 302: Mediocre rehearsals
#Elgar 303: An amorous dedication
#Elgar 304: An evening reception (Monarchy)
#Elgar 305: Sold out!
#Elgar 306: Sursprising premiere
#Elgar 307: Musical friendship
#Elgar 308: Musical rivalry
#Elgar 309: Inspirations
#Elgar 310: Mania

#Elgar 311: The scandal concert (Expressionism)
#Elgar 312: Assassination attempt at the Opera!
#Elgar 313: A minor work
#Elgar 314: No inspiration
#Elgar 315: Private Concert
#Elgar 316: A talented student
#Elgar 317: Musical desaster
#Elgar 318: Scandal concert
#Elgar 319: Zeitgeist
#Elgar 320: Propaganda
#Elgar 321: Great Composer meet

######Conductors######

#Elgar 401: New Chief Conductor appointed
#Elgar 402: Conductor retires
#Elgar 403: Conductor available again

###Conducting###

#Elgar 411: Superb Concerto
#Elgar 412: Mediocre Concerto
#Elgar 413: Poor Concerto
#Elgar 414: Ambassador in audience
#Elgar 415: Ballet
#Elgar 416: Film music

###Composing###

#Elgar 421: Composer progress
#Elgar 422: No inspiration
#Elgar 423: A walk
#Elgar 424: Disturbances
#Elgar 425: Not enough comfort
#Elgar 426: Sea Shanty
#Elgar 427: March
#Elgar 428: Kunstlied
#Elgar 429: Sonata for Piano
#Elgar 431: Concerto for Violin
#Elgar 432: Symphony

###Touring###

#Elgar 441: Conductor travels to Neighbour Country
#Elgar 442: Conductor in Neighbour Country
#Elgar 443: Successful Conductor
#Elgar 444: Unsccessful Conductor

###Historical Events for Music###

#Elgar 501: Canto degli Italiani
#Elgar 502: Canto degli Italiani

######Cosmopolitan Composers######



######Composer Deaths######

#Elgar 601: Mendelssohn Death

###Donizetti###

#Elgar 1001: Poliuto, 1838 [Sicily may keep Donizetti. AI won't do this]
#Elgar 1011: Donizetti arrives [Italy Tournee]
#Elgar 1012: Donizetti departs [Italy Tournee]
#Elgar 1021: Donizetti's contract ends
#Elgar 1022: Donizetti's contract ends finally
#Elgar 1031: Donizetti dies, 1848
#Elgar 1032: Donizetti dies, 1869
#Elgar 1051: Les Martyres, 1840 [France may get Donizetti, but only if it doesn't get Berlioz. AI won't do this]
#Elgar 1052: Stabat Mater, 1842 [Papal state may get Donizetti. AI won't do this]
#Elgar 1053: Donizetti in Milan, 1842 [Austria may get Donizetti. AI will do this]
#Elgar 1054: Donizetti's illness, 1845 [will not be cured in 80 % of games]
#Elgar 1055: Donizetti cured
#Elgar 1061: Adelia
#Elgar 1062: Don Pasquale
#Elgar 1063: Dom Sébastien

######Berlioz######

#Elgar 1101: Grande symphonie funèbre et triomphale, 1840 [France may get Berlioz. AI won't be able to do this yet.]
#Elgar 1111: Berlioz arrives
#Elgar 1112: Berlioz departs
#Elgar 1121: Berlioz' contract ends
#Elgar 1122: Berlioz' contract finally ends
#Elgar 1131: Berlioz dies, 1869
#Elgar 1141: Northern Germany Tour, 1842
#Elgar 1142: Southern Germany Tour, 1847
#Elgar 1143: Britain Tour, 1853
#Elgar 1144: Russia Tour, 1858
#Elgar 1145: Last Tour, 1863
#Elgar 1151: Berlioz back in Paris, 1850 [AI won't do this at the moment]
#Elgar 1161: Les Troyens
#Elgar 1162: La damnation de Faust
#Elgar 1163: Traite Instrumental
#Elgar 1171: Berlioz brings Prestige to $COUNTRY$

######Liszt######

#Elgar 1201: Thalberg vs. Liszt, 1837
#Elgar 1211: Liszt arrives
#Elgar 1212: Liszt departs
#Elgar 1221: Liszt's contract ends
#Elgar 1222: Liszt's contract finally ends
#Elgar 1231: Liszt dies, 1886
#Elgar 1241: Italy Tour, 1839
#Elgar 1242: Germany Tour, 1841
#Elgar 1243: Spain Tour, 1844
#Elgar 1244: Western Europe Tour, 1845
#Elgar 1245: Eastern Europe Tour, 1847
#Elgar 1246: Germany Tour, 1849
#Elgar 1251: Liszt in Weimar, 1852
#Elgar 1252: Von der Wiege zum Grabe, 1882
#Elgar 1261: Les Preludes
#Elgar 1262: Hungarian Rhapsodies
#Elgar 1263: Dante Symphony

######Wagner######

#Elgar 1301: Rienzi, Dresden 1842
#Elgar 1311: Wagner arrives
#Elgar 1312: Wagner departs
#Elgar 1321: Wagner's contract ends
#Elgar 1322: Wagner's contract finally ends
#Elgar 1331: Wagner dies, 1883
#Elgar 1341: Europe Tournee, 1860
#Elgar 1351: Lohengrin, Weimar 1850
#Elgar 1352: Kunstwerk der Zukunft, Zürich ab 1849
#Elgar 1353: Tristan, Bavaria 1865
#Elgar 1354: Bayreuth 1876 (historical)
#Elgar 1355: Bayreuth (founded)
#Elgar 1356: Richard Wagner, a politician?
#Elgar 1357: Tannhauser scandal
#Elgar 1361: Die Meistersinger von Nürnberg
#Elgar 1362: Die Walküre
#Elgar 1363: Parsifal

######Grieg######

#Elgar 1401: A debut in Karlshamn, 1861
#Elgar 1411: Grieg arrives
#Elgar 1412: Grieg departs
#Elgar 1421: Grieg's contract ends
#Elgar 1422: Grieg's contract finally ends
#Elgar 1431: Grieg dies, 1907
#Elgar 1441: Grieg first Tour, 1865
#Elgar 1442: Grieg second Tour, 1875
#Elgar 1443: Grieg third Tour, 1885
#Elgar 1451: Holberg Suite, 1884 (AI will get him)
#Elgar 1452: Piano Concerto in A minor, 1869
#Elgar 1461: Peer Gynt
#Elgar 1462: Lyric Pieces
#Elgar 1463: Norwegian Dances
#Elgar 1471: Grieg brings Prestige to $COUNTRY$

######Brahms######

#Elgar 1501: New Lanes, 1853
#Elgar 1511: Brahms arrives
#Elgar 1512: Brahms departs
#Elgar 1521: Brahms' contract ends
#Elgar 1522: Brahms' contract finally ends
#Elgar 1531: Brahms dies, 1897
#Elgar 1541: Brahms first Tour, 1862
#Elgar 1542: Brahms second Tour, 1867
#Elgar 1543: Brahms third Tour, 1872
#Elgar 1544: Brahms fourth Tour, 1883
#Elgar 1551: Variations on a theme by Haydn, 1873 (AI will get him)
#Elgar 1552: Symphony No. 1, 1876
#Elgar 1553: Gesang der Parzen, 1882
#Elgar 1561: Deutsches Requiem
#Elgar 1562: Hungarian Dances
#Elgar 1563: Symphony No. 4
#Elgar 1571: Brahms brings Prestige to $COUNTRY$

######Delius######

#Elgar 1601: The composing orange plantation owner, 1885
#Elgar 1611: Delius arrives
#Elgar 1612: Delius departs
#Elgar 1621: Delius' contract ends
#Elgar 1622: Delius' contract finally ends
#Elgar 1631: Delius dies, 1934
#Elgar 1641: Delius on tour, 1888
#Elgar 1651: Grez-sur-Loing, 1903
#Elgar 1652: England, 1914
#Elgar 1661: Irmelin
#Elgar 1662: A Village Romeo and Juliet
#Elgar 1663: On Hearing the First Cuckoo in Spring

######Mahler######

#Elgar 1701: Mahler's first appearance, 1880
#Elgar 1711: Mahler arrives
#Elgar 1712: Mahler departs
#Elgar 1721: Mahler's contract ends (not able to continue)
#Elgar 1731: Mahler dies, 1911
#Elgar 1741: Mahler's World Tour, 1900
#Elgar 1751: The new Kapellmeister of the Vienna State Opera, 1897
#Elgar 1752: An Austrian in New York, 1908
#Elgar 1761: Symphony No. 5
#Elgar 1762: Lied von der Erde
#Elgar 1763: Kindertotenlieder
#Elgar 1771: Mahler brings Prestige to $COUNTRY$

######Rachmaninov######

#Elgar 1801: Piano Concerto No. 2 1901
#Elgar 1811: Rachmaninoff arrives
#Elgar 1812: Rachmaninov departs
#Elgar 1821: Rachmaninov's contract ends (not able to continue)
#Elgar 1841: Rachmaninov's first World Tour, 1906
#Elgar 1842: Rachmaninov's Second World Tour, 1922
#Elgar 1843: Rachmaninov's Third World Tour, 1930
#Elgar 1851: USA, 1920
#Elgar 1861: Piano Concerto No. 3
#Elgar 1862: Rhapsody on a Theme of Paganini
#Elgar 1863: Symphony No. 3
#Elgar 1871: Rachmaninov brings Prestige to $COUNTRY$

######Prokofiev######

#Elgar 1901: Skythian Suite, 1916
#Elgar 1911: Prokofiev arrives
#Elgar 1912: Prokofiev departs
#Elgar 1941: Symphony No. 1 "Classical", 1918
#Elgar 1951: Paris, 1924
#Elgar 1961: Romeo and Juliet
#Elgar 1962: Lieutenant Kijé
#Elgar 1963: Peter and the Wolf

#################################################################################

#Elgar 1: Yearly music tradition

elgar.1 = {
	type = country_event
		
	hidden = yes

	trigger = {
		NOT = {
			has_variable = elgar_music_tradition_cooldown_var
		}
		has_technology_researched = elgar_classicism_tech
	}

	immediate = {
		set_variable = {
			name = elgar_music_tradition_cooldown_var
			days = 365
		}

		if = {
			limit = {
				has_technology_researched = elgar_classicism_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				has_technology_researched = romanticism
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				has_technology_researched = realism
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 2
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_irrationalism_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 2
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_impressionism_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 3
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_neoclassicism_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 3
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_expressionism_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_new_objectivity_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_art_nouveau_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				has_technology_researched = elgar_art_deco_tech
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		#######################################################################
		set_variable = {
			name = elgar_opera_building_score_var
			value = elgar_opera_building_score
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 2 #Basic Opera Bonus
			}
		}
		if = {
			limit = {
				var:elgar_opera_building_score_var > 2
				NOT = {
					var:elgar_opera_building_score_var > 4
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				var:elgar_opera_building_score_var > 4
				NOT = {
					var:elgar_opera_building_score_var > 9
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 2
			}
		}
		if = {
			limit = {
				var:elgar_opera_building_score_var > 9
				NOT = {
					var:elgar_opera_building_score_var > 19
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 5
			}
		}
		if = {
			limit = {
				var:elgar_opera_building_score_var > 19
				NOT = {
					var:elgar_opera_building_score_var > 29
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 10
			}
		}
		if = {
			limit = {
				var:elgar_opera_building_score_var > 29
				NOT = {
					var:elgar_opera_building_score_var > 49
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 15
			}
		}
		if = {
			limit = {
				var:elgar_opera_building_score_var > 49
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 20
			}
		}
		#######################################################################
		if = {
			limit = {
				elgar_has_conservatory = yes
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_beethoven_monument_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_mozart_monument_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_mozart_foundation_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_wagner_bayreuth_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_neudeutsche_musikschule_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		#######################################################################
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_impressionism_center_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 3
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_expressionism_center_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_modifier = elgar_art_nouveau_center_modifier
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		#######################################################################
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 50
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 99
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 1
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 100
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 149
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 2
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 150
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 199
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 3
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 200
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 249
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 4
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 250
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 299
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 5
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 300
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 349
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 6
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 350
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 399
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 7
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 400
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 449
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 8
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 450
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 499
					}
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 9
			}
		}
		if = {
			limit = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 500
				}
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = 10
			}
		}
		#######################################################################
		if = {
			limit = {
				has_modifier = elgar_music_repression_modifier
			}
			elgar_add_x_music_tradition_unscaled_effect = {
				AMOUNT = -1
			}
		}
		#######################################################################
		if = {
			limit = {
				has_modifier = elgar_patron_of_arts_modifier
				NOT = {
					has_law = law_type:law_traditionalism
				}
			}
			remove_modifier = elgar_patron_of_arts_modifier
		}
	}
}

#Elgar 2: Yearly modifier control

elgar.2 = {
	type = country_event
		
	hidden = yes

	immediate = {
		remove_modifier = artists_artistic_prestige_modifier
		add_modifier = {
			name = artists_artistic_prestige_modifier
			multiplier = artists_cultural_tradition_prestige_value
		}
	}
}

#Elgar 3: Impressionism

elgar.3 = {
	type = country_event

    title = elgar.3.t
		
    desc = elgar.3.d

	flavor = elgar.3.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_impressionism.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = elgar_impressionism_tech
		NOT = {
			has_global_variable = elgar_impressionism_discovered
		}
	}

	immediate = {
		set_global_variable = elgar_impressionism_discovered
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = elgar_culture_capital
		}
	}

	option = { #We are a leading cultural nation
		name = elgar.3.g
		add_modifier = {
			name = elgar_impressionism_birthplace_modifier
		}
		set_variable = elgar_impressionism_birthplace_var
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_impressionism_center_modifier
			}
		}
	}
}

#Elgar 4: Expressionism

elgar.4 = {
	type = country_event

    title = elgar.4.t
		
    desc = elgar.4.d

	flavor = elgar.4.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_expressionism.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = elgar_expressionism_tech
		NOT = {
			has_global_variable = elgar_expressionism_discovered
		}
	}

	immediate = {
		set_global_variable = elgar_expressionism_discovered
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = elgar_culture_capital
		}
	}

	option = { #We are a leading cultural nation
		name = elgar.3.g
		add_modifier = {
			name = elgar_expressionism_birthplace_modifier
		}
		set_variable = elgar_expressionism_birthplace_var
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_expressionism_center_modifier
			}
		}
	}
}

#Elgar 5: Art Nouveau

elgar.5 = {
	type = country_event

    title = elgar.5.t
		
    desc = elgar.5.d

	flavor = elgar.5.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_art_nouveau.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = elgar_art_nouveau_tech
		NOT = {
			has_global_variable = elgar_art_nouveau_discovered
		}
	}

	immediate = {
		set_global_variable = elgar_art_nouveau_discovered
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = elgar_culture_capital
		}
	}

	option = { #We are a leading cultural nation
		name = elgar.3.g
		add_modifier = {
			name = elgar_art_nouveau_birthplace_modifier
		}
		set_variable = elgar_art_nouveau_birthplace_var
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_art_nouveau_center_modifier
			}
		}
	}
}

#Elgar 6: Impressionism spreads

elgar.6 = {
	type = country_event

    title = elgar.6.t
		
    desc = elgar.6.d

	flavor = elgar.3.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_impressionism.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_global_variable = elgar_impressionism_discovered
		has_global_variable = elgar_expressionism_discovered
		has_global_variable = elgar_art_nouveau_discovered
		NOT = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		any_neighbouring_state = {
			owner = {
				has_technology_researched = elgar_impressionism_tech
			}
		}
		game_date > 1890.1.1
	}

	immediate = {
		add_technology_researched = elgar_impressionism_tech
	}

	option = { #How impressive.
		name = elgar.6.g
	}
}

#Elgar 7: Expressionism spreads

elgar.7 = {
	type = country_event

    title = elgar.7.t
		
    desc = elgar.7.d

	flavor = elgar.4.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_expressionism.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_global_variable = elgar_impressionism_discovered
		has_global_variable = elgar_expressionism_discovered
		has_global_variable = elgar_art_nouveau_discovered
		NOT = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		any_neighbouring_state = {
			owner = {
				has_technology_researched = elgar_expressionism_tech
			}
		}
		game_date > 1890.1.1
	}

	immediate = {
		add_technology_researched = elgar_expressionism_tech
	}

	option = { #How expressive.
		name = elgar.7.g
	}
}

#Elgar 8: Art Nouveau spreads

elgar.8 = {
	type = country_event

    title = elgar.8.t
		
    desc = elgar.8.d

	flavor = elgar.5.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_art_nouveau.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_global_variable = elgar_impressionism_discovered
		has_global_variable = elgar_expressionism_discovered
		has_global_variable = elgar_art_nouveau_discovered
		NOT = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		any_neighbouring_state = {
			owner = {
				has_technology_researched = elgar_art_nouveau_tech
			}
		}
		game_date > 1890.1.1
	}

	immediate = {
		add_technology_researched = elgar_art_nouveau_tech
		set_variable = {
			name = gaudi_splendid_architecture
			value = 0
		}
	}

	option = { #How Newveau.
		name = elgar.8.g
	}
}

#Elgar 9: Twelve-tone technique

elgar.9 = {
	type = country_event

    title = elgar.9.t
		
    desc = elgar.9.d

	flavor = elgar.9.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_schoenberg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = elgar_new_objectivity_tech
		NOT = {
			has_global_variable = elgar_twelve_tone_discovered
		}
	}

	immediate = {
		set_global_variable = elgar_twelve_tone_discovered
	}

	option = { #I'm not so sure if that was a good idea.
		name = elgar.9.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 10: Visit the Opera

elgar.10 = {
	type = country_event

    title = elgar.10.t
		
    desc = elgar.10.d

	flavor = {
		desc = elgar.10.techs
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_classicism_tech
			}
			desc = elgar.10.classicism # +1
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = romanticism
			}
			desc = elgar.10.romanticism # +2
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = realism
			}
			desc = elgar.10.realism # +2
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_irrationalism_tech
			}
			desc = elgar.10.irrationalism # +2
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_impressionism_tech
			}
			desc = elgar.10.impressionism # +3
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_neoclassicism_tech
			}
			desc = elgar.10.neoclassicism # +3
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_expressionism_tech
			}
			desc = elgar.10.expressionism # +1
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_new_objectivity_tech
			}
			desc = elgar.10.new_objectivity # +1
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_art_nouveau_tech
			}
			desc = elgar.10.art_nouveau # +1
		}
		triggered_desc = {
			trigger = {
				has_technology_researched = elgar_art_deco_tech
			}
			desc = elgar.10.art_deco # +1
		}
		##############################################################
		desc = elgar.10.buildings
		triggered_desc = {
			trigger = {
				elgar_has_conservatory = yes
			}
			desc = elgar.10.conservatory # +1
		}
		triggered_desc = {
			trigger = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 1
				}
			}
			desc = elgar.10.has_basic_opera # +2
		}
		triggered_desc = {
			trigger = {
				var:elgar_opera_building_score_var > 2
				NOT = {
					var:elgar_opera_building_score_var > 4
				}
			}
			desc = elgar.10.opera_level_3 # +1
		}
		triggered_desc = {
			trigger = {
				var:elgar_opera_building_score_var > 4
				NOT = {
					var:elgar_opera_building_score_var > 9
				}
			}
			desc = elgar.10.opera_level_5 # +2
		}
		triggered_desc = {
			trigger = {
				var:elgar_opera_building_score_var > 9
				NOT = {
					var:elgar_opera_building_score_var > 19
				}
			}
			desc = elgar.10.opera_level_10 # +5
		}
		triggered_desc = {
			trigger = {
				var:elgar_opera_building_score_var > 19
				NOT = {
					var:elgar_opera_building_score_var > 29
				}
			}
			desc = elgar.10.opera_level_20 # +10
		}
		triggered_desc = {
			trigger = {
				var:elgar_opera_building_score_var > 29
				NOT = {
					var:elgar_opera_building_score_var > 49
				}
			}
			desc = elgar.10.opera_level_30 # +15
		}
		triggered_desc = {
			trigger = {
				var:elgar_opera_building_score_var > 49
			}
			desc = elgar.10.opera_level_50 # +20
		}
		##############################################################
		triggered_desc = {
			trigger = {
				OR = {
					elgar_has_great_composer = yes
					elgar_has_composer = yes
				}
			}
			desc = elgar.10.composer
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience < 50
				}
			}
			desc = elgar.10.composer_level_0 # +0
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 50
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 99
					}
				}
			}
			desc = elgar.10.composer_level_1 # +1
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 100
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 149
					}
				}
			}
			desc = elgar.10.composer_level_2 # +2
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 150
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 199
					}
				}
			}
			desc = elgar.10.composer_level_3 # +3
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 200
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 249
					}
				}
			}
			desc = elgar.10.composer_level_4 # +4
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 250
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 299
					}
				}
			}
			desc = elgar.10.composer_level_5 # +5
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 300
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 349
					}
				}
			}
			desc = elgar.10.composer_level_6 # +6
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 350
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 399
					}
				}
			}
			desc = elgar.10.composer_level_7 # +7
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 400
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 449
					}
				}
			}
			desc = elgar.10.composer_level_8 # +8
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 450
				}
				NOT = {
					var:elgar_composer_var = {
						var:elgar_composer_experience > 499
					}
				}
			}
			desc = elgar.10.composer_level_9 # +9
		}
		triggered_desc = {
			trigger = {
				elgar_has_composer = yes
				var:elgar_composer_var = {
					var:elgar_composer_experience >= 500
				}
			}
			desc = elgar.10.composer_level_10 # +10
		}
		##############################################################
		triggered_desc = {
			trigger = {
				elgar_has_center_of_art = yes
			}
			desc = elgar.10.center_of_art
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_impressionism_center_modifier
				}
			}
			desc = elgar.10.c_impressionism # +3
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_expressionism_center_modifier
				}
			}
			desc = elgar.10.c_expressionism # +3
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_art_nouveau_center_modifier
				}
			}
			desc = elgar.10.c_art_nouveau # +3
		}
		##############################################################
		triggered_desc = {
			trigger = {
				elgar_has_special_building = yes
			}
			desc = elgar.10.other # +1
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_beethoven_monument_modifier
				}
			}
			desc = elgar.10.beethoven # +1
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_mozart_monument_modifier
				}
			}
			desc = elgar.10.mozart # +1
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_mozart_foundation_modifier
				}
			}
			desc = elgar.10.foundation # +1
		}
		triggered_desc = {
			trigger = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			desc = elgar.10.neudeutsch # +1
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_wagner_bayreuth_modifier
				}
			}
			desc = elgar.10.bayreuth # +1
		}
		triggered_desc = {
			trigger = {
				any_scope_state = {
					has_modifier = elgar_london_proms_modifier
				}
			}
			desc = elgar.10.proms # +1
		}
		##############################################################
		desc = elgar.10.yearly
		desc = elgar.10.total
	}

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opera.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_variable = {
			name = elgar_opera_building_score_var
			value = elgar_opera_building_score
		}
	}

	option = { #To the Board of Composers.
		name = elgar.10.h
		hidden_effect = {
			trigger_event = {
				id = elgar.20
				popup = yes
			}
		}
	}

	option = { #To the Bureau of the Composer
		name = elgar.10.i
		trigger = {
			elgar_has_composer = yes
		}
		hidden_effect = {
			var:elgar_composer_var = {
				trigger_event = { 
					id = elgar.30
					popup = yes
				}
			}
		}
	}

	option = { #To the musical leaderboard.
		name = elgar.10.j
		trigger = {
			year > 1836
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.21
				popup = yes
			}
		}
		ai_chance = {
			base = 0
		}
	}

	option = { #Bye
		name = elgar.10.g
		default_option = yes
		remove_variable = elgar_visiting_opera_var
	}
}

#Elgar 20: Great Composers

elgar.20 = {
	type = country_event

    title = elgar.20.t
		
    desc = elgar.20.d

	flavor = {
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_donizetti_active
				NOT = {
					has_global_variable = elgar_donizetti_dead_var
				}
			}
			desc = elgar.20.donizetti
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_donizetti_active
				NOT = {
					has_global_variable = elgar_donizetti_dead_var
				}
			}
			desc = elgar.20.donizetti_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_donizetti_active
				any_country = {
					has_modifier = elgar_donizetti_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_donizetti_dead_var
				}
			}
			desc = elgar.20.donizetti_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_donizetti_active
				NOT = {
					any_country = {
						has_modifier = elgar_donizetti_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_donizetti_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_berlioz_active
				NOT = {
					has_global_variable = elgar_berlioz_dead_var
				}
			}
			desc = elgar.20.berlioz
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_berlioz_active
				NOT = {
					has_global_variable = elgar_berlioz_dead_var
				}
			}
			desc = elgar.20.berlioz_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_berlioz_active
				any_country = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_berlioz_dead_var
				}
			}
			desc = elgar.20.berlioz_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_berlioz_active
				NOT = {
					any_country = {
						has_modifier = elgar_berlioz_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_berlioz_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_liszt_active
				NOT = {
					has_global_variable = elgar_liszt_dead_var
				}
			}
			desc = elgar.20.liszt
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_liszt_active
				NOT = {
					has_global_variable = elgar_liszt_dead_var
				}
			}
			desc = elgar.20.liszt_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_liszt_active
				any_country = {
					has_modifier = elgar_liszt_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_liszt_dead_var
				}
			}
			desc = elgar.20.liszt_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_liszt_active
				NOT = {
					any_country = {
						has_modifier = elgar_liszt_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_liszt_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_wagner_active
				NOT = {
					has_global_variable = elgar_wagner_dead_var
				}
			}
			desc = elgar.20.wagner
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_wagner_active
				NOT = {
					has_global_variable = elgar_wagner_dead_var
				}
			}
			desc = elgar.20.wagner_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_wagner_active
				any_country = {
					has_modifier = elgar_wagner_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_wagner_dead_var
				}
			}
			desc = elgar.20.wagner_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_wagner_active
				NOT = {
					any_country = {
						has_modifier = elgar_wagner_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_wagner_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_grieg_active
				NOT = {
					has_global_variable = elgar_grieg_dead_var
				}
			}
			desc = elgar.20.grieg
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_grieg_active
				NOT = {
					has_global_variable = elgar_grieg_dead_var
				}
			}
			desc = elgar.20.grieg_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_grieg_active
				any_country = {
					has_modifier = elgar_grieg_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_grieg_dead_var
				}
			}
			desc = elgar.20.grieg_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_grieg_active
				NOT = {
					any_country = {
						has_modifier = elgar_grieg_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_grieg_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_brahms_active
				NOT = {
					has_global_variable = elgar_brahms_dead_var
				}
			}
			desc = elgar.20.brahms
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_brahms_active
				NOT = {
					has_global_variable = elgar_brahms_dead_var
				}
			}
			desc = elgar.20.brahms_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_brahms_active
				any_country = {
					has_modifier = elgar_brahms_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_brahms_dead_var
				}
			}
			desc = elgar.20.brahms_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_brahms_active
				NOT = {
					any_country = {
						has_modifier = elgar_brahms_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_brahms_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_delius_active
				NOT = {
					has_global_variable = elgar_delius_dead_var
				}
			}
			desc = elgar.20.delius
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_delius_active
				NOT = {
					has_global_variable = elgar_delius_dead_var
				}
			}
			desc = elgar.20.delius_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_delius_active
				any_country = {
					has_modifier = elgar_delius_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_delius_dead_var
				}
			}
			desc = elgar.20.delius_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_delius_active
				NOT = {
					any_country = {
						has_modifier = elgar_delius_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_delius_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_mahler_active
				NOT = {
					has_global_variable = elgar_mahler_dead_var
				}
			}
			desc = elgar.20.mahler
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_mahler_active
				NOT = {
					has_global_variable = elgar_mahler_dead_var
				}
			}
			desc = elgar.20.mahler_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_mahler_active
				any_country = {
					has_modifier = elgar_mahler_contract_modifier
				}
				NOT = {
					has_global_variable = elgar_mahler_dead_var
				}
			}
			desc = elgar.20.mahler_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_mahler_active
				NOT = {
					any_country = {
						has_modifier = elgar_mahler_contract_modifier
					}
				}
				NOT = {
					has_global_variable = elgar_mahler_dead_var
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_rachmaninov_active
			}
			desc = elgar.20.rachmaninov
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_rachmaninov_active
			}
			desc = elgar.20.rachmaninov_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_rachmaninov_active
				any_country = {
					has_modifier = elgar_rachmaninov_contract_modifier
				}
			}
			desc = elgar.20.rachmaninov_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_rachmaninov_active
				NOT = {
					any_country = {
						has_modifier = elgar_rachmaninov_contract_modifier
					}
				}
			}
			desc = elgar.20.no_patron
		}
		##############################################################
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_prokofiev_active
			}
			desc = elgar.20.prokofiev
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_prokofiev_active
			}
			desc = elgar.20.prokofiev_desc
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_prokofiev_active
				any_country = {
					has_modifier = elgar_prokofiev_contract_modifier
				}
			}
			desc = elgar.20.prokofiev_patron
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_prokofiev_active
				NOT = {
					any_country = {
						has_modifier = elgar_prokofiev_contract_modifier
					}
				}
			}
			desc = elgar.20.no_patron
		}
	}

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_composer.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_country = {
			limit = {
				has_modifier = elgar_donizetti_contract_modifier
			}
			save_scope_as = elgar_donizetti_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			save_scope_as = elgar_berlioz_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_liszt_contract_modifier
			}
			save_scope_as = elgar_liszt_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_wagner_contract_modifier
			}
			save_scope_as = elgar_wagner_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_grieg_contract_modifier
			}
			save_scope_as = elgar_grieg_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_brahms_contract_modifier
			}
			save_scope_as = elgar_brahms_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_delius_contract_modifier
			}
			save_scope_as = elgar_delius_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_mahler_contract_modifier
			}
			save_scope_as = elgar_mahler_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			save_scope_as = elgar_rachmaninov_patron
		}
		random_country = {
			limit = {
				has_modifier = elgar_prokofiev_contract_modifier
			}
			save_scope_as = elgar_prokofiev_patron
		}
	}

	option = { #Back to the opera hall.
		name = elgar.20.g
		hidden_effect = {
			trigger_event = {
				id = elgar.10
				popup = yes
			}
		}
	}

	option = { #Bye
		name = elgar.10.g
		default_option = yes
		remove_variable = elgar_visiting_opera_var
	}
}

#Elgar 21: Music Tradition Leaderboard

elgar.21 = {
	type = country_event

    title = elgar.21.t
		
    desc = elgar.21.d

	flavor = elgar.21.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opera.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		elgar_create_musical_tradition_ranking_effect = yes
	}

	option = { #Back to the opera hall.
		name = elgar.20.g
		hidden_effect = {
			trigger_event = {
				id = elgar.10
				popup = yes
			}
		}
	}

	option = { #Bye
		name = elgar.10.g
		default_option = yes
		remove_variable = elgar_visiting_opera_var
	}

	after = {
		elgar_remove_musical_tradition_ranking_variables = yes
	}
}

#Elgar 30: Composer

elgar.30 = {
	type = character_event

	title = elgar.30.t

	desc = elgar.30.d

	flavor = {
		triggered_desc = {
			trigger = {
				NOR = {
					has_modifier = elgar_conductor_conducts_modifier
					has_modifier = elgar_conductor_composes_modifier
					has_modifier = elgar_conductor_touring_modifier
					has_modifier = elgar_conductor_exhausted_modifier
				}
			}
			desc = elgar.30.free
		}
		triggered_desc = {
			trigger = {
				owner = {
					has_modifier = elgar_conductor_exhausted_modifier
				}
			}
			desc = elgar.30.exhausted
		}
		triggered_desc = {
			trigger = {
				has_modifier = elgar_conductor_conducts_modifier
			}
			desc = elgar.30.conducting
		}
		triggered_desc = {
			trigger = {
				has_modifier = elgar_conductor_composes_modifier
			}
			desc = elgar.30.composing
		}
		triggered_desc = {
			trigger = {
				has_modifier = elgar_conductor_touring_modifier
			}
			desc = elgar.30.touring
		}
	}

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_conductor

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	immediate = {
		ROOT = {
			save_scope_as = elgar_conductor
		}
	}

	#Conduct the next seasons
	option = {
		name = elgar.30.g
		trigger = {
			NOR = {
				has_modifier = elgar_conductor_conducts_modifier
				has_modifier = elgar_conductor_composes_modifier
				has_modifier = elgar_conductor_touring_modifier
				owner = {
					has_modifier = elgar_conductor_exhausted_modifier
				}
			}
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
			}
		}
		set_character_busy_and_immortal = yes
		add_modifier = {
			name = elgar_conductor_conducts_modifier
			years = 2
		}
		owner = {
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_music_production_modifier
				}
			}
		}
		owner = {
			set_elgar_composer_progress = yes
			add_journal_entry = {
				type = je_elgar_composer_conducting
			}
			remove_variable = elgar_visiting_opera_var
		}
		ai_chance = {
			base = 20
			modifier = { #Should try to get trait for concert tour
				trigger = {
					NOT = {
						has_trait = elgar_conductor
					}
				}
				add = 20
			}
		}
	}

	#Concentrate on composing
	option = {
		name = elgar.30.h
		trigger = {
			NOR = {
				has_modifier = elgar_conductor_conducts_modifier
				has_modifier = elgar_conductor_composes_modifier
				has_modifier = elgar_conductor_touring_modifier
				owner = {
					has_modifier = elgar_conductor_exhausted_modifier
				}
			}
		}
		set_character_busy_and_immortal = yes
		add_modifier = {
			name = elgar_conductor_composes_modifier
		}
		owner = {
			set_elgar_composer_progress = yes
			add_journal_entry = {
				type = je_elgar_composer_composing
			}
			remove_variable = elgar_visiting_opera_var
		}
		ai_chance = {
			base = 20
		}
	}

	#Do a concert tour
	option = {
		name = elgar.30.i
		trigger = {
			NOR = {
				has_modifier = elgar_conductor_conducts_modifier
				has_modifier = elgar_conductor_composes_modifier
				has_modifier = elgar_conductor_touring_modifier
				owner = {
					has_modifier = elgar_conductor_exhausted_modifier
				}
			}
			var:elgar_composer_experience >= 100
			OR = {
				has_trait = elgar_conductor
				has_trait = elgar_virtuoso
			}
			NOT = {
				has_trait = reserved
			}
			age < 65
		}
		set_character_busy_and_immortal = yes
		add_modifier = {
			name = elgar_conductor_touring_modifier
		}
		owner = {
			add_modifier = {
				name = elgar_composer_on_tour_modifier
			}
		}
		owner = {
			set_elgar_composer_progress = yes
			add_journal_entry = {
				type = je_elgar_composer_touring
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.451
				}
			}
			remove_variable = elgar_visiting_opera_var
		}

		ai_chance = {
			base = 60 #Should prefer tour when possible
		}
	}

	#Write a masterpiece
	option = {
		name = elgar.30.j
		trigger = {
			NOR = {
				has_modifier = elgar_conductor_conducts_modifier
				has_modifier = elgar_conductor_composes_modifier
				has_modifier = elgar_conductor_touring_modifier
				owner = {
					has_modifier = elgar_conductor_exhausted_modifier
				}
			}
			var:elgar_composer_experience >= 500
			var:elgar_composer_num_masterworks_var <= 3
		}
		set_character_busy_and_immortal = yes
		add_modifier = {
			name = elgar_conductor_composes_modifier
		}
		owner = {
			add_modifier = {
				name = elgar_conductor_composes_modifier
			}
		}
		owner = {
			add_journal_entry = {
				type = je_elgar_composer_masterpiece
			}
			remove_variable = elgar_visiting_opera_var
		}

		ai_chance = {
			base = 1000 #Should always do master piece when possible
		}
	}

	option = { #Back to the opera hall.
		name = elgar.20.g
		trigger = {
			owner = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
			}
		}
		hidden_effect = {
			owner = {
				trigger_event = {
					id = elgar.10
					popup = yes
				}
			}
		}

		ai_chance = { #Should never use Opera
			base = 0
		}
	}

	option = { #Bye
		name = elgar.10.g
		default_option = yes
		owner = {
			remove_variable = elgar_visiting_opera_var
		}

		ai_chance = { #Should alawys take choice
			base = 0
		}
	}
}

#Elgar 40: National Broadcasting Channel

elgar.40 = {
	type = country_event

	title = elgar.40.t
	desc = elgar.40.d
	flavor = elgar.40.f

	duration = 1

	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_nbc.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_scope_character = {
			limit = {
				is_ruler = yes
			}
			save_scope_as = elgar_ruler
		}
	}

	option = { #News Service
		name = elgar.40.g
		default_option = yes
		add_modifier = {
			name = elgar_nbc_news_modifier
			years = 5
		}
	}
	
	option = { #Education channel
		name = elgar.40.h
		add_modifier = {
			name = elgar_nbc_education_modifier
			years = 5
		}
	}

	option = { #Government backing
		name = elgar.40.i
		trigger = {
			has_technology_researched = mass_propaganda
		}
		add_modifier = {
			name = elgar_nbc_government_modifier
			years = 5
		}
	}

	option = { #Loyalty to the Monarch
		name = elgar.40.j
		trigger = {
			has_law = law_type:law_monarchy
		}
		add_modifier = {
			name = elgar_nbc_monarch_modifier
			years = 5
		}
		scope:elgar_ruler = {
			add_modifier = {
				name = elgar_nbc_monarch_personal_modifier
				years = 5
			}
		}
	}

	option = { #Propaganda
		name = elgar.40.j
		trigger = {
			has_law = law_type:law_autocracy
		}
		add_modifier = {
			name = elgar_nbc_propaganda_modifier
			years = 5
		}
	}

	after = {
		remove_variable = elgar_nbc_decision_taken
	}
}

#Elgar 90: A new Opera house 1

elgar.90 = {
	type = country_event
	placement = scope:elgar_opera_state
	title = elgar.90.t
	desc = elgar.90.d
	flavor = elgar.90.f

	duration = 1

	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mexico.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = elgar_irrationalism_tech
		NOT = {
			has_variable = elgar_new_opera_house_1
		}
		any_scope_state = {
			NOT = {
				has_building = building_elgar_opera
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 10
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				NOT = {
					has_building = building_elgar_opera
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 10
				}
			}
			save_scope_as = elgar_opera_state
			set_variable = elgar_opera_state_1
		}
		set_variable = elgar_new_opera_house_1
	}

	option = { #Build the opera house
		name = elgar.90.g
		default_option = yes
		scope:elgar_opera_state = {
			start_building_construction = building_elgar_opera
		}
		elgar_add_25_music_tradition = yes
	}
	
	option = { #We should concentrate our efforts
		name = elgar.90.h
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 91: A new Opera house 2

elgar.91 = {
	type = country_event
	placement = scope:elgar_opera_state
	title = elgar.90.t
	desc = elgar.90.d
	flavor = elgar.90.f

	duration = 1

	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mexico.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = elgar_irrationalism_tech
		has_variable = elgar_new_opera_house_1
		NOT = {
			has_variable = elgar_new_opera_house_2
		}
		any_scope_state = {
			NOT = {
				has_building = building_elgar_opera
			}
			any_scope_building = {
				is_building_type = building_urban_center
				level >= 15
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				NOT = {
					has_building = building_elgar_opera
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 15
				}
			}
			save_scope_as = elgar_opera_state
			set_variable = elgar_opera_state_2
		}
		set_variable = elgar_new_opera_house_2
	}

	option = { #Build the opera house
		name = elgar.90.g
		default_option = yes
		scope:elgar_opera_state = {
			start_building_construction = building_elgar_opera
		}
		elgar_add_25_music_tradition = yes

		ai_chance = {
			base = 100
			modifier = {
				trigger = {
					OR = {
						country_has_primary_culture = cu:south_italian
						country_has_primary_culture = cu:north_italian
						country_has_primary_culture = cu:united_italian
						country_has_primary_culture = cu:south_german
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:united_german
					}
				}
				add = -100
			}
		}
	}
	
	option = { #We should concentrate our efforts
		name = elgar.90.h
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 92: Gran Teatro Nacional

elgar.92 = {
	type = country_event

	title = elgar.92.t
	desc = elgar.92.d
	flavor = elgar.92.f

	duration = 1

	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mexico.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_MEXICO
			NOT = {
				has_building = building_elgar_opera
			}
		}
		game_date >= 1842.1.1
		NOT = {
			game_date >= 1843.1.1
		}
		NOT = {
			has_global_variable = elgar_teatro_nacional_var
		}
	}

	immediate = {
		set_global_variable = elgar_teatro_nacional_var
	}

	option = { #Build the opera house
		name = elgar.90.g
		default_option = yes
		random_scope_state = {
			limit = {
				state_region = s:STATE_MEXICO
			}
			create_building = {
 				building = "building_elgar_opera"
 			}
			activate_building = {
				building = "building_elgar_opera"
			}
		}

		ai_chance = {
			base = 100
		}
	}
	
	option = { #We should concentrate our efforts
		name = elgar.90.h
		elgar_add_25_music_tradition = yes

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 93: Teatro Amazonas

elgar.93 = {
	type = country_event

	title = elgar.93.t
	desc = elgar.93.d
	flavor = elgar.93.f

	duration = 1

	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_amazonas.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_MEXICO
			NOT = {
				has_building = building_elgar_opera
			}
			has_building = building_rubber_plantation
		}
		game_date >= 1880.1.1
		NOT = {
			has_global_variable = elgar_teatro_amazonas_var
		}
	}

	immediate = {
		set_global_variable = elgar_teatro_amazonas_var
	}

	option = { #Build the opera house
		name = elgar.90.g
		default_option = yes
		random_scope_state = {
			limit = {
				state_region = s:STATE_AMAZONAS
			}
			create_building = {
 				building = "building_elgar_opera"
				level = 3
 			}
			activate_building = {
				building = "building_elgar_opera"
			}
		}

		ai_chance = {
			base = 100
		}
	}
	
	option = { #We should concentrate our efforts
		name = elgar.90.h
		elgar_add_25_music_tradition = yes

		ai_chance = {
			base = 0
		}
	}
}

#################################################################################

######BEETHOVEN MONUMENT AND BEETHOVEN FESTIVAL######

#Elgar 101: A Monument for Beethoven

elgar.101 = {
	type = country_event
    placement = scope:elgar_beethoven_state

    title = elgar.101.t
		
    desc = elgar.101.d

	flavor = elgar.101.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethoven.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date < 1838.1.1
		NOT = {
			has_variable = elgar_beethoven_sponsorhip_questioned_var
		}
		OR = {
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:united_german
			ROOT = c:FRA
			ROOT = c:GBR
		}
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
		set_variable = elgar_beethoven_sponsorhip_questioned_var
	}

	option = { #Beethoven was a german titan of music!
		name = elgar.101.g

		default_option = yes
		elgar_add_25_music_tradition = yes
		add_treasury = -7500
		add_modifier = {
			name = elgar_beethoven_support_modifier
			multiplier = money_amount_multiplier_small
			years = 5
		}
		set_variable = elgar_beethoven_sponsor_var

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					ROOT = c:PRU
				}
				add = 1000
			}
			modifier = {
				trigger = {
					ROOT = c:AUS
				}
				add = 100
			}
			modifier = {
				trigger = {
					ROOT = c:FRA
				}
				add = 100
			}
			modifier = {
				trigger = {
					ROOT = c:GBR
				}
				add = 100
			}
		}
	}

	option = { #We are happy to finance this culturally valuable project.
		name = elgar.101.h

		elgar_add_10_music_tradition = yes
		add_modifier = {
			name = elgar_beethoven_support_modifier
			multiplier = money_amount_multiplier_very_small
			years = 5
		}
		set_variable = elgar_beethoven_sponsor_var

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					ROOT = c:PRU
				}
				add = -1000
			}
		}
	}

	option = { #He can't have been that great if he didn't have a monument before.
		name = elgar.101.i

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					ROOT = c:PRU
				}
				add = -1000
			}
		}
	}
}

#Elgar 102: Preparing the Beethoven Festival

elgar.102 = {
	type = country_event
    placement = scope:elgar_beethoven_state

    title = elgar.102.t
		
    desc = elgar.102.d

	flavor = elgar.102.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #Send the invitations!
		name = elgar.102.g
		every_country = {
			limit = {
				has_variable = elgar_beethoven_sponsor_var
				NOT = { 
					this = ROOT 
				}
			}
			trigger_event = { 
				id = elgar.103
				popup = yes 
			}
		}
	}
	after = {
		hidden_effect = {
			trigger_event = { 
				id = elgar.105
				popup = yes 
				days = { 85 95 }
			}
		}
		hidden_effect = {
			if = {
				limit = {
					has_global_variable = gaudi_dombau_building_phase_1
				}
				trigger_event = { 
					id = elgar.104
					popup = yes 
					days = { 60 80 }
				}
			}
		}
	}
}

#Elgar 103: Invitation for the Beethoven Festival

elgar.103 = {
	type = country_event
    placement = scope:elgar_beethoven_state

    title = elgar.103.t
		
    desc = elgar.103.d

	flavor = elgar.102.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #We'll gladly attend
		name = elgar.103.g
		default_option = yes
		add_treasury = -5000
		add_modifier = {
			name = elgar_attends_beethoven_festival_modifier
			days = 90
		}
	}

	option = { #Classical music is overrated
		name = elgar.103.h
		every_country = {
			limit = {
				has_variable = elgar_beethoven_sponsor_var
			}
			change_relations = {
				country = ROOT 
				value = -5
			}
		}
	}
}

#Elgar 104: Build the Beethoven Hall (needs Dombau)

elgar.104 = {
	type = country_event

	placement = scope:elgar_beethoven_state

    title = elgar.104.t
		
    desc = elgar.104.d

	flavor = elgar.104.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #Splendid
		name = elgar.104.g
		gaudi_sub_1_dombau_progress = yes
		elgar_add_15_music_tradition = yes
	}
}

#Elgar 105: The Beethoven Festival

elgar.105 = {
	type = country_event

    placement = scope:elgar_beethoven_state

    title = elgar.105.t
		
    desc = elgar.105.d

	flavor = elgar.105.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/music/1836_Mendelssohn_Sommernachtstraum"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #He turns his back to us?
		trigger = {
			any_scope_state = {
				state_region = s:STATE_NORTH_RHINE
			}
		}
		name = elgar.105.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		add_modifier = {
			name = elgar_hosted_beethoven_festival_modifier
			years = 5
		}
		every_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			add_modifier = {
				name = elgar_beethoven_monument_modifier
			}
		}
		every_country = {
			limit = {
				has_variable = elgar_beethoven_sponsor_var
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}
	}
	option = { #Alexander von Humboldt is a gentleman.
		trigger = {
			ROOT = c:GBR
		}
		name = elgar.105.h
		elgar_add_25_music_tradition = yes
		every_country = {
			limit = {
				any_scope_state = {
					state_region = s:STATE_NORTH_RHINE
				}
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}
	}
	option = { #These Germans have no elegance.
		trigger = {
			ROOT = c:FRA
		}
		name = elgar.105.i
		elgar_add_10_music_tradition = yes
		every_country = {
			limit = {
				any_scope_state = {
					state_region = s:STATE_NORTH_RHINE
				}
			}
			change_relations = {
				country = ROOT 
				value = -10
			}
		}
	}
	option = { #This was inspiring.
		trigger = {
			NOT = {
				ROOT = c:FRA
			}
			NOT = {
				ROOT = c:GBR
			}
			NOT = {
				any_scope_state = {
					state_region = s:STATE_NORTH_RHINE
				}
			}
		}
		name = elgar.105.j
		elgar_add_25_music_tradition = yes
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					has_global_variable = gaudi_dombau_building_phase_1
				}
				trigger_event = { 
					id = elgar.108
					popup = yes 
					days = { 4 7 }
				}
			}
			random_country = {
				limit = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				trigger_event = { 
					id = elgar.107
					popup = yes 
					days = { 1 3 }
				}
			}
			random_country = {
				limit = {
					has_modifier = elgar_liszt_contract_modifier
				}
				trigger_event = { 
					id = elgar.106
					popup = yes 
					days = { 1 3 }
				}
			}
		}
	}
}

#Elgar 106: Liszt-Cantata (needs Liszt)

elgar.106 = {
	type = country_event

	placement = scope:elgar_beethoven_state

    title = elgar.106.t
		
    desc = elgar.106.d

	flavor = elgar.106.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #Hail Beethoven!
		name = elgar.106.g
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 107: Berlioz at the Beethoven Festival (needs Berlioz)

elgar.107 = {
	type = country_event

	placement = scope:elgar_beethoven_state

    title = elgar.107.t
		
    desc = elgar.107.d

	flavor = elgar.107.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #So was the trip worth it?
		name = elgar.107.g
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 108: Victoria visits Cologne Cathedral (needs Dombau)

elgar.108 = {
	type = country_event

	placement = scope:elgar_beethoven_state

    title = elgar.108.t
		
    desc = elgar.108.d

	flavor = elgar.108.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_beethovenfest.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_NORTH_RHINE
			}
			save_scope_as = elgar_beethoven_state
		}
	}

	option = { #We are honored.
		name = elgar.108.g
		elgar_add_10_music_tradition = yes
	}
}

#################################################################################

######MOZART MONUMENT AND MOZART FESTIVAL######

#Elgar 111: A Monument for Mozart

elgar.111 = {
	type = country_event
    placement = scope:elgar_mozart_state

    title = elgar.111.t
		
    desc = elgar.111.d

	flavor = elgar.111.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mozart.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_TYROL
			}
			save_scope_as = elgar_mozart_state
		}
	}

	option = { #Mozart was a german titan of music!
		name = elgar.111.g

		default_option = yes
		elgar_add_25_music_tradition = yes
		add_treasury = -10000
		add_modifier = {
			name = elgar_mozart_support_modifier
			multiplier = money_amount_multiplier_small
			years = 5
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					country_has_primary_culture = cu:south_german
					NOT = { 
						this = ROOT
					}
				}
				trigger_event = { 
					id = elgar.112
					popup = yes
				}
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					this = c:FRM
				}
				trigger_event = { 
					id = elgar.114
					popup = yes
					days = 5
				}
			}
		}
		hidden_effect = {
			trigger_event = { 
				id = elgar.113
				popup = yes 
				years = 5
			}
		}
	}
}

#Elgar 112: A Monument for Mozart [Response]

elgar.112 = {
	type = country_event
    placement = scope:elgar_mozart_state

    title = elgar.111.t
		
    desc = elgar.111.d

	flavor = elgar.111.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mozart.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_TYROL
			}
			save_scope_as = elgar_mozart_state
		}
	}

	option = { #Mozart was a german titan of music!
		name = elgar.111.g

		default_option = yes
		elgar_add_25_music_tradition = yes
		add_treasury = -5000
		add_modifier = {
			name = elgar_mozart_support_modifier
			multiplier = money_amount_multiplier_small
			years = 5
		}
		set_variable = elgar_mozart_sponsor_var

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					ROOT = c:AUS
				}
				add = 100
			}
			modifier = {
				trigger = {
					ROOT = c:BAV
				}
				add = 100
			}
		}
	}

	option = { #We are happy to finance this culturally valuable project.
		name = elgar.101.h

		elgar_add_10_music_tradition = yes
		add_modifier = {
			name = elgar_mozart_support_modifier
			multiplier = money_amount_multiplier_very_small
			years = 5
		}
		set_variable = elgar_mozart_sponsor_var

		ai_chance = {
			base = 50
		}
	}

	option = { #He can't have been that great if he didn't have a monument before.
		name = elgar.101.i

		ai_chance = {
			base = 50
		}
	}
}

#Elgar 113: The Mozart Monument

elgar.113 = {
	type = country_event
    placement = scope:elgar_mozart_state

    title = elgar.113.t
		
    desc = elgar.113.d

	flavor = elgar.113.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mozartdenkmal.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_TYROL
			}
			save_scope_as = elgar_mozart_state
		}
	}

	option = { #Splendid.
		name = elgar.104.g
		elgar_add_25_music_tradition = yes
		every_state = {
			limit = {
				state_region = s:STATE_TYROL
			}
			add_modifier = {
				name = elgar_mozart_monument_modifier
			}
		}
		every_country = {
			limit = {
				has_variable = elgar_mozart_sponsor_var
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}
	}
}

#Elgar 114: A living memorial

elgar.114 = {
	type = country_event

    title = elgar.114.t
		
    desc = elgar.114.d

	flavor = elgar.114.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mozart.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Collect money for our own living memorial - a festival in honor of Mozart!
		name = elgar.114.g

		default_option = yes
		set_variable = elgar_attends_mozart_festival_var
		add_treasury = -5000
		add_modifier = {
			name = elgar_mozart_prepare_festival_modifier
			multiplier = money_amount_multiplier_very_small
			days = 365
		}
		trigger_event = { 
			id = elgar.116
			popup = yes 
			days = 365
		}
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_german
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:united_german
					}
					NOT = {
						this = ROOT
					}
					NOT = {
						this = c:PRU
						this = c:AUS
					}
					
				}
				trigger_event = { 
					id = elgar.115
					popup = yes 
					days = 365
				}
			}
		}

		ai_chance = {
			base = 100
		}
	}

	option = { #Donate money to the monument in Salzburg.
		name = elgar.114.h

		elgar_add_10_music_tradition = yes
		add_modifier = {
			name = elgar_mozart_support_modifier
			multiplier = money_amount_multiplier_very_small
			years = 5
		}
		set_variable = elgar_mozart_sponsor_var

		ai_chance = {
			base = 0
		}
	}

	option = { #Classical music is overrated
		name = elgar.103.h

		every_country = {
			limit = {
				has_variable = elgar_mozart_sponsor_var
			}
			change_relations = {
				country = ROOT 
				value = -5
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 115: Invitation for Sängerfest

elgar.115 = {
	type = country_event

    title = elgar.115.t
		
    desc = elgar.115.d

	flavor = elgar.114.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mozart.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #A musical and national opportunity
		name = elgar.115.g

		default_option = yes
		set_variable = elgar_attends_mozart_festival_var
		hidden_effect = {
			trigger_event = { 
				id = elgar.116
				popup = yes 
				days = 7
			}
		}

		ai_chance = {
			base = 100
		}

	}

	option = { #I just can't stand art songs.
		name = elgar.115.h

		add_modifier = {
			name = elgar_good_taste_modifier
			years = 1
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 116: The Mozart Festival

elgar.116 = {
	type = country_event
    placement = scope:elgar_mozart_festival_state

    title = elgar.116.t
		
    desc = elgar.116.d

	flavor = elgar.116.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_saengerfest_1838.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_variable = elgar_attends_mozart_festival_var
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_HESSE
			}
			save_scope_as = elgar_mozart_festival_state
		}
	}

	option = { #Music brings the nation together.
		name = elgar.116.g
		elgar_add_15_music_tradition = yes
		if = {
			limit = {
				ROOT = c:FRM
			}
			every_state = {
				limit = {
					state_region = s:STATE_HESSE
					owner = c:FRM
				}
				add_modifier = {
					name = elgar_mozart_foundation_modifier
				}
			}
			every_country = {
				limit = {
					this = c:AUS
				}
				trigger_event = { 
					id = elgar.117
					popup = yes 
					days = 7
				}
			}
			every_country = {
				limit = {
					has_variable = elgar_attends_mozart_festival_var
				}
				change_relations = {
					country = ROOT 
					value = 5
				}
			}
		}
	}
}

#Elgar 117: Liberal troublemakers make noise in Frankfurt

elgar.117 = {
	type = country_event
    placement = scope:elgar_mozart_festival_state

    title = elgar.117.t
		
    desc = elgar.117.d

	flavor = elgar.117.f
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_saengerfest_1838.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_state = {
			limit = {
				state_region = s:STATE_HESSE
			}
			save_scope_as = elgar_mozart_festival_state
		}
	}

	option = { #A conspiracy against order in the German Confederation!
		name = elgar.117.g
		default_option = yes
		add_modifier = {
			name = elgar_music_repression_modifier
			years = 5
		}
	}

	option = { #Let them sing.
		name = elgar.117.h
		elgar_add_10_music_tradition = yes
		add_modifier = {
			name = elgar_frankfurt_noises_modifier
			years = 3
		}
	}
}


######ALLGEMEINER DEUTSCHER MUSIKVEREIN######

#Elgar 121: Foundation of the ADMV

elgar.121 = {
	type = country_event

    title = elgar.121.t
		
    desc = elgar.121.d

	flavor = elgar.121.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_admv.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = elgar_musikverein_capital
		}
	}

	option = { #We are part of the New German School.
		name = elgar.121.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		add_modifier = {
			name = elgar_neudeutsche_musikschule_modifier
		}

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					exists = c:PRU
					ROOT = c:PRU
				}
				add = 100
			}
			modifier = {
				trigger = {
					exists = c:NGF
					ROOT = c:NGF
				}
				add = 100
			}
			modifier = {
				trigger = {
					exists = c:GER
					ROOT = c:GER
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_liszt_contract_modifier
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_wagner_contract_modifier
				}
				add = 100
			}
		}
	}

	option = { #We defend the Traditional German School.
		name = elgar.121.h
		add_modifier = {
			name = elgar_konservative_musikschule_modifier
		}

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					exists = c:AUS
					ROOT = c:AUS
				}
				add = 100
			}
			modifier = {
				trigger = {
					exists = c:SAX
					ROOT = c:SAX
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_brahms_contract_modifier
				}
				add = 100
			}
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_german
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:united_german
						country_has_primary_culture = cu:alemannic
					}
					NOT = {
						this = ROOT
					}
				}
				trigger_event = { 
					id = elgar.122
					popup = yes 
					days = { 3 10 }
				}
			}
		}
		hidden_effect = {
			trigger_event = { 
				id = elgar.123
				popup = yes 
				days = 100
			}
		}
	}
}

#Elgar 122: Membership in the ADMV

elgar.122 = {
	type = country_event

    title = elgar.122.t
		
    desc = elgar.122.d

	flavor = elgar.121.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_admv.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		
	}

	option = { #We are part of the New German School.
		name = elgar.121.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		add_modifier = {
			name = elgar_neudeutsche_musikschule_modifier
		}

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					exists = c:PRU
					ROOT = c:PRU
				}
				add = 100
			}
			modifier = {
				trigger = {
					exists = c:NGF
					ROOT = c:NGF
				}
				add = 100
			}
			modifier = {
				trigger = {
					exists = c:GER
					ROOT = c:GER
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_liszt_contract_modifier
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_wagner_contract_modifier
				}
				add = 100
			}
		}
	}

	option = { #We defend the Traditional German School.
		name = elgar.121.h
		add_modifier = {
			name = elgar_konservative_musikschule_modifier
		}

		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					exists = C:SAX
					ROOT = c:AUS
				}
				add = 100
			}
			modifier = {
				trigger = {
					exists = c:SAX
					ROOT = c:SAX
				}
				add = 100
			}
			modifier = {
				trigger = {
					has_modifier = elgar_brahms_contract_modifier
				}
				add = 100
			}
		}
	}
}

#Elgar 123: Location of the next Tonkünstler-Versammlung

elgar.123 = {
	type = country_event

    title = elgar.123.t
		
    desc = elgar.123.d

	flavor = elgar.123.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_admv.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			has_modifier = elgar_neudeutsche_musikschule_modifier
			has_modifier = elgar_konservative_musikschule_modifier
		}
		NOT = {
			has_variable = elgar_tonkuenstler_cooldown
		}
		NOT = {
			has_global_variable = elgar_global_tonkuenstler_cooldown
		}
	}

	immediate = {
		set_variable = {
			name = elgar_tonkuenstler_cooldown
			days = 3650
		}
		set_global_variable = {
			name = elgar_global_tonkuenstler_cooldown
			days = 1800
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = elgar_musikverein_capital
		}
	}

	option = { #We are honored!
		name = elgar.123.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_tonkuenstler_modifier
				days = 90
			}
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_german
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:united_german
						country_has_primary_culture = cu:alemannic
					}
				}
				trigger_event = { 
					id = elgar.124
					popup = yes 
					days = { 30 50 }
				}
			}
		}
	}
}

#Elgar 124: Tonkünstler-Versammlung

elgar.124 = {
	type = country_event
	placement = scope:elgar_tonkunstler_state

    title = elgar.124.t
		
    desc = elgar.124.d

	flavor = elgar.123.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_admv.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = elgar_tonkunstler_state
		}
	}

	option = { #Let's enjoy the music and listen to the contributions of like-minded people.
		name = elgar.124.g
		default_option = yes
		elgar_add_10_music_tradition = yes
		every_country = {
			limit = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}
		every_country = {
			limit = {
				has_modifier = elgar_konservative_musikschule_modifier
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}
	}

	option = { #Just the right place to dish out against these musical dilettantes.
		name = elgar.124.h
		elgar_add_25_music_tradition = yes
		if = {
			limit = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			every_country = {
				limit = {
					has_modifier = elgar_neudeutsche_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = 10
				}
			}
			every_country = {
				limit = {
					has_modifier = elgar_konservative_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = -5
				}
			}
		}
		if = {
			limit = {
				has_modifier = elgar_konservative_musikschule_modifier
			}
			every_country = {
				limit = {
					has_modifier = elgar_neudeutsche_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = -5
				}
			}
			every_country = {
				limit = {
					has_modifier = elgar_konservative_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = 10
				}
			}
		}
	}

	option = { #This will be a war of the Romantics!
		name = elgar.124.i
		trigger = {
			elgar_has_great_composer = yes
			NOT = {
				has_global_variable = elgar_war_of_the_romantics
			}
		}
		custom_tooltip = elgar_war_of_the_romantics_tt
		elgar_add_50_music_tradition = yes
		set_global_variable = elgar_war_of_the_romantics
		if = {
			limit = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			every_country = {
				limit = {
					has_modifier = elgar_neudeutsche_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = 20
				}
			}
			every_country = {
				limit = {
					has_modifier = elgar_konservative_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = -10
				}
			}
		}
		if = {
			limit = {
				has_modifier = elgar_konservative_musikschule_modifier
			}
			every_country = {
				limit = {
					has_modifier = elgar_neudeutsche_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = -10
				}
			}
			every_country = {
				limit = {
					has_modifier = elgar_konservative_musikschule_modifier
				}
				change_relations = {
					country = ROOT 
					value = 20
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							has_modifier = elgar_neudeutsche_musikschule_modifier
							has_modifier = elgar_konservative_musikschule_modifier
						}
					}
					set_global_variable = {
            			name = elgar_neudeutsch_yes
            			value = 0
					}
					set_global_variable = {
            			name = elgar_konservativ_yes
            			value = 0
					}
					trigger_event = { 
						id = elgar.125
						popup = yes 
						days = 21
					}
					trigger_event = { 
						id = elgar.126
						popup = yes 
						days = 120
					}
				}
			}
		}

		ai_chance = {
			base = 100
		}
	}
}

#Elgar 125: War of the Romantics

elgar.125 = {
	type = country_event

    title = elgar.125.t
		
    desc = elgar.125.d

	flavor = elgar.125.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_admv.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Support the New German School
		name = elgar.125.g
		trigger = {
			has_modifier = elgar_neudeutsche_musikschule_modifier
		}
		default_option = yes
		change_global_variable = {
			name = elgar_neudeutsch_yes
			add = 1
		}
	}

	option = { #Support the Traditional German School
		name = elgar.125.h
		trigger = {
			has_modifier = elgar_konservative_musikschule_modifier
		}
		change_global_variable = {
			name = elgar_konservativ_yes
			add = 1
		}
	}
}

#Elgar 126: War of the Romantics decided

elgar.126 = {
	type = country_event

    title = {
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_konservativ_win
			}
			desc = elgar.126.t_konservativ
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_neudeutsch_win
			}
			desc = elgar.126.t_neudeutsch
		}
	}

	desc = {
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_konservativ_win
			}
			desc = elgar.126.d_konservativ
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_neudeutsch_win
			}
			desc = elgar.126.d_neudeutsch
		}
	}

	flavor = {
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_konservativ_win
			}
			desc = elgar.126.f_konservativ
		}
		triggered_desc = {
			trigger = {
				has_global_variable = elgar_neudeutsch_win
			}
			desc = elgar.126.f_neudeutsch
		}
	}

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_admv.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		if = {
			limit = {
				global_var:elgar_neudeutsch_yes < global_var:elgar_konservativ_yes
			}
			set_global_variable = elgar_konservativ_win
		}
		if = {
			limit = {
				global_var:elgar_neudeutsch_yes > global_var:elgar_konservativ_yes
			}
			set_global_variable = elgar_neudeutsch_win
		}
		if = {
			limit = {
				global_var:elgar_neudeutsch_yes = global_var:elgar_konservativ_yes
			}
			set_global_variable = elgar_neudeutsch_win
		}
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #The Traditional School is triumphant.
		name = elgar.126.g
		trigger = {
			has_global_variable = elgar_konservativ_win
		}
		default_option = yes
		if = {
			limit = {
				has_modifier = elgar_konservative_musikschule_modifier
			}
			elgar_add_25_music_tradition = yes
			add_modifier = {
				name = elgar_won_the_war_of_the_romantics_modifier 
				years = 10
			}
			scope:intelligentsia_ig = {
				add_modifier = {
					name = elgar_satisfied_ig_modifier
					years = 5
				}
			}
		}
		if = {
			limit = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			elgar_sub_25_music_tradition = yes
			add_modifier = {
				name = elgar_lost_the_war_of_the_romantics_modifier 
				years = 10
			}
		}
	}

	option = { #The New German School is triumphant.
		name = elgar.125.h
		trigger = {
			has_global_variable = elgar_neudeutsch_win
		}
		if = {
			limit = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			elgar_add_25_music_tradition = yes
			add_modifier = {
				name = elgar_won_the_war_of_the_romantics_modifier 
				years = 10
			}
			scope:intelligentsia_ig = {
				add_modifier = {
					name = elgar_satisfied_ig_modifier
					years = 5
				}
			}
		}
		if = {
			limit = {
				has_modifier = elgar_konservative_musikschule_modifier
			}
			elgar_sub_25_music_tradition = yes
			add_modifier = {
				name = elgar_lost_the_war_of_the_romantics_modifier 
				years = 10
			}
		}
		
	}
}

######NATIONAL Composers######

###German Composers###

#Elgar 201: Nicolai, Weiber von Windsor [Berlin, 1849] +50

elgar.201 = { #TODO: Figure out how to handle this event with the character
	type = country_event

    title = elgar.201.t
		
    desc = elgar.201.d

	flavor = elgar.201.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_nicolai.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_BRANDENBURG
		}
		game_date >= 1849.1.1
		NOT = {
			game_date >= 1850.1.1
		}
	}

	immediate = {
	}

	option = { #Falstaff, you fool!
		name = elgar.201.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 202: Schumann, Rheinische (needs Dombau) [Düsseldorf, 1851] +100

elgar.202 = {
	type = country_event

    title = elgar.202.t
		
    desc = elgar.202.d

	flavor = elgar.202.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_schumann.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_NORTH_RHINE
		}
		has_global_variable = gaudi_dombau_building_phase_1
		game_date >= 1848.1.1
		NOT = {
			game_date >= 1853.1.1
		}
		NOT = {
			has_global_variable = elgar_schumann_var
		}
	}

	immediate = {
		set_global_variable = elgar_schumann_var
		create_schumann_robert_effect = yes
	}

	option = { #It was a good idea to continue building the cathedral, wasn't it?
		name = elgar.202.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

#Elgar 203: Richard Strauss, Salomé [Dresden, 1905] +100

elgar.203 = {
	type = country_event

    title = elgar.203.t
		
    desc = elgar.203.d

	flavor = elgar.203.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_salome.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_SAXONY
		}
		OR = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		game_date >= 1903.1.1
		NOT = {
			game_date >= 1907.1.1
		}
		NOT = {
			has_global_variable = elgar_strauss_var
		}
	}

	immediate = {
		set_global_variable = elgar_strauss_var
		create_strauss_richard_effect = yes
	}

	option = { #Musical tradition served on a silver plate.
		name = elgar.203.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

#Elgar 204: Giacomo Meyerbeer, [Berlin, 1842] + 50

elgar.204 = { #TODO: Figure out how to handle this event with the character
	type = country_event

    title = elgar.204.t
		
    desc = elgar.204.d

	flavor = elgar.204.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_meyerbeer.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_BRANDENBURG
		}
		game_date >= 1842.1.1
		NOT = {
			game_date >= 1843.1.1
		}
	}

	immediate = {
	}

	option = { #Meyerbeer, Meyerbeer, Meyerbeer!
		name = elgar.204.g
		elgar_add_50_music_tradition = yes
	}
}

###Austrian Composers

#Elgar 211: Schubert, Fifth Symphony [Wien, 1841] +50

elgar.211 = {
	type = country_event

    title = elgar.211.t
		
    desc = elgar.211.d

	flavor = elgar.211.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_schubert.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
		game_date >= 1841.1.1
		NOT = {
			game_date >= 1842.1.1
		}
	}

	immediate = {
	}

	option = { #Even from heaven, Schubert delights us with his music.
		name = elgar.211.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 212: Johann Strauss, Fledermaus [Wien, 1874] +50

elgar.212 = {
	type = country_event

    title = elgar.212.t
		
    desc = elgar.212.d

	flavor = elgar.212.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_fledermaus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
			level >= 5
		}
		game_date >= 1872.1.1
		NOT = {
			game_date >= 1877.1.1
		}
		NOT = {
			has_global_variable = elgar_j_strauss_var
		}
	}

	immediate = {
		set_global_variable = elgar_j_strauss_var
		create_strauss_ii_johann_effect = yes
	}

	option = { #And the stock market report?
		name = elgar.212.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

#Elgar 213: Bruckner, Te Deum [Wien, 1886] +100

elgar.213 = {
	type = country_event

    title = elgar.213.t
		
    desc = elgar.213.d

	flavor = elgar.213.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_bruckner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1884.1.1
		NOT = {
			game_date >= 1889.1.1
		}
		NOT = {
			has_global_variable = elgar_bruckner_var
		}
	}

	immediate = {
		set_global_variable = elgar_bruckner_var
		create_bruckner_anton_effect = yes
	}

	option = { #Ad maiorem Dei gloriam.
		name = elgar.213.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

#Elgar 214: Schönberg, twelve-tone technique [Wien, 1920] +50

elgar.214 = {
	type = country_event

    title = elgar.214.t
		
    desc = elgar.214.d

	flavor = elgar.214.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_schoenberg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
		has_technology_researched = elgar_expressionism_tech
		game_date >= 1918.1.1
		NOT = {
			game_date >= 1923.1.1
		}
		NOT = {
			has_global_variable = elgar_schoenberg_var
		}
	}

	immediate = {
		set_global_variable = elgar_schoenberg_var
		create_schoenberg_arnold_effect = yes
	}

	option = { #Ah, my ears are bleeding! Give me the damn bonus and turn the music off!
		name = elgar.214.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

###Italian Composers###

#Elgar 221: Paganini's death [Genoa, 1840] +50

elgar.221 = {
	type = country_event

    title = elgar.221.t
		
    desc = elgar.221.d

	flavor = elgar.221.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_paganini.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_PIEDMONT
		}
		game_date >= 1840.1.1
		NOT = {
			game_date >= 1841.1.1
		}
	}

	immediate = {
		ig:ig_devout = {
			save_scope_as = devout_ig
		}
		random_country = {
			limit = {
				this = c:PAP
			}
			save_scope_as = elgar_pope
		}
	}

	option = { #Give him a dignified burial and secure his legacy.
		name = elgar.221.g
		elgar_add_50_music_tradition = yes
		add_treasury = -10000
		scope:devout_ig = {
			add_modifier = {
				name = elgar_annoyed_ig_modifier
				years = 5
			}
		}
		scope:elgar_pope = {
			change_relations = {
				country = ROOT 
				value = -10
			}
		}
	}

	option = { #Do not intervene in this delicate matter.
		name = elgar.221.h
		default_option = yes
	}
}

#Elgar 222: Verdi, Nabucco [ITA/AUS, 1842] +50

elgar.222 = { #TODO: add character
	type = country_event

    title = elgar.222.t
		
    desc = elgar.222.d

	flavor = elgar.222.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_verdi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_LOMBARDY
		}
		game_date >= 1842.1.1
		NOT = {
			game_date >= 1843.1.1
		}
	}

	immediate = {
	}

	option = { #Va pensiero ...
		name = elgar.222.g
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		elgar_add_50_music_tradition = yes
	}

	option = { #Those rebellious Italians again.
		name = elgar.222.h
		trigger = {
			NOR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		elgar_add_50_music_tradition = yes
		default_option = yes
		every_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				OR = {
					state_region = {
						is_homeland = cu:north_italian
					}
					state_region = {
						is_homeland = cu:south_italian
					}
				}
			}
			add_radicals_in_state = {
				value = 0.1
				culture = cu:north_italian
			}
			add_radicals_in_state = {
				value = 0.1
				culture = cu:south_italian
			}
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_italian
						country_has_primary_culture = cu:north_italian
						country_has_primary_culture = cu:united_italian
					}
					NOT = {
						this = ROOT
					}
				}
				trigger_event = { 
					id = elgar.223
					popup = yes 
					days = { 1 7 }
				}
			}
		}
	}
}

#Elgar 223: Verdi, Nabucco Notification [ITA/AUS, 1842] +50

elgar.223 = {
	type = country_event

    title = elgar.222.t
		
    desc = elgar.222.d

	flavor = elgar.222.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_verdi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Va pensiero ...
		name = elgar.222.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 224: Verdi, Aida [ITA/EGY, 1871] +50

elgar.224 = { #TODO: Figure out how to handle this event with the character
	type = country_event

    title = elgar.224.t
		
    desc = elgar.224.d

	flavor = elgar.224.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_verdi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_building = {
			is_building_type = building_suez_canal
		}
		NOT = {
			has_global_variable = elgar_suez_inauguration_var
		}
	}

	immediate = {
		set_global_variable = elgar_suez_inauguration_var
	}

	option = { #A triumph!
		name = elgar.224.h
		elgar_add_50_music_tradition = yes
	}

	after = {
		hidden_effect = {
			if = {
				limit = {
					exists = c:ITA
					NOT = {
						ROOT = c:ITA
					}
				}
				trigger_event = { 
					id = elgar.225
					popup = yes
				}
			}
		}
	}
}

#Elgar 225: Verdi, Aida Notification [ITA/EGY, 1871] +50

elgar.225 = {
	type = country_event

    title = elgar.224.t
		
    desc = elgar.224.d

	flavor = elgar.224.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_verdi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_global_variable = elgar_suez_inauguration_var
	}

	option = { #A triumph!
		name = elgar.224.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 226: Mascagni, Cavalleria Rusticana [Roma, 1890] +50

elgar.226 = {
	type = country_event

    title = elgar.226.t
		
    desc = elgar.226.d

	flavor = elgar.226.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mascagni.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		exists = c:ITA
		ROOT = c:ITA
		has_technology_researched = realism
		game_date >= 1890.1.1
		NOT = {
			game_date >= 1891.1.1
		}
	}

	immediate = {
		create_mascagni_pietro_effect = yes
	}

	option = { #I like the Intermezzo
		name = elgar.226.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

#Elgar 227: Respighi, Fontane di Roma [Roma, 1916] +50

elgar.227 = {
	type = country_event

    title = elgar.227.t
		
    desc = elgar.227.d

	flavor = elgar.227.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_respighi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		exists = c:ITA
		ROOT = c:ITA
		has_technology_researched = elgar_neoclassicism_tech
		game_date >= 1916.1.1
		NOT = {
			game_date >= 1917.1.1
		}
	}

	immediate = {
		create_respighi_ottorino_effect = yes
	}

	option = { #The Trevi Fountain is clearly distinguished from the rest.
		name = elgar.227.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		set_new_composer_travelling_composer_effect = yes

		ai_chance = { #Should usually take this option except if they have no composer.
			base = 100
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = -10000
			}
		}
	}

	option = {
		name = elgar.202.h
		elgar_set_new_composer_as_composer_effect = yes

		ai_chance = { #Should usually not take this option except if they have no composer.
			base = 0
			modifier = {
				trigger = { 
					NOT = { has_variable = elgar_composer_var }
				}
				add = 10000
			}
		}
	}
}

#Elgar 228: Puccini, Turandot [Milano, 1926] +50

elgar.228 = {
	type = country_event

    title = elgar.228.t
		
    desc = elgar.228.d

	flavor = elgar.228.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_puccini.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		exists = c:ITA
		ROOT = c:ITA
		has_technology_researched = elgar_neoclassicism_tech
		trigger_if = {
			limit = { has_global_variable =  mr_puccini_created_global_var }
			NOT = {
				any_character = {
					has_template = mr_ita_puccini_giacomo_character_template
				}
			}
		}
		trigger_else = {
			game_date >= 1926.1.1
			NOT = {
				game_date >= 1927.1.1
			}
		}
	}

	immediate = {
	}

	option = { #But how does it end?
		name = elgar.228.g
		elgar_add_50_music_tradition = yes
	}
}

###Russian Composers###

#Elgar 231: Glinka, A Life for the Tsar [1836] +50

elgar.231 = {
	type = country_event

    title = elgar.231.t
		
    desc = elgar.231.d

	flavor = elgar.231.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_glinka.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:russian
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
		game_date >= 1836.1.1
		NOT = {
			game_date >= 1837.1.1
		}
	}

	immediate = {
	}

	option = { #A life for the Tsar, indeed.
		name = elgar.231.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 232: Mussorgsky, Boris Gudonov [1874] +50

elgar.232 = {
	type = country_event

    title = elgar.232.t
		
    desc = elgar.232.d

	flavor = elgar.232.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mussorgsky.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			has_modifier = elgar_petrograd_conservatory_modifier
		}
		has_technology_researched = nationalism
		country_has_primary_culture = cu:russian
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
		game_date >= 1874.1.1
		NOT = {
			game_date >= 1875.1.1
		}
	}

	immediate = {
	}

	option = { #A masterpiece!
		name = elgar.232.g
		default_option = yes
		elgar_add_50_music_tradition = yes
	}
	option = { #Disgusting.
		name = elgar.232.h
		add_modifier = {
			name = elgar_good_taste_modifier
			years = 5
		}
	}
}

#Elgar 233: Tchaikovsky, Swan Lake [1877] +100

elgar.233 = {
	type = country_event

    title = elgar.233.t
		
    desc = elgar.233.d

	flavor = elgar.233.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_tchaikovsky.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			has_modifier = elgar_petrograd_conservatory_modifier
		}
		country_has_primary_culture = cu:russian
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
		game_date >= 1877.1.1
		NOT = {
			game_date >= 1878.1.1
		}
	}

	immediate = {
	}

	option = { #One of the greatest composers of all time.
		name = elgar.233.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 234: Rimsky-Korsakow, Sheherazade [1888] +50

elgar.234 = {
	type = country_event

    title = elgar.234.t
		
    desc = elgar.234.d

	flavor = elgar.234.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_korsakov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			has_modifier = elgar_petrograd_conservatory_modifier
		}
		has_technology_researched = nationalism
		country_has_primary_culture = cu:russian
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
		game_date >= 1888.1.1
		NOT = {
			game_date >= 1889.1.1
		}
	}

	immediate = {
	}

	option = { #Tell me another story, Sheherazade.
		name = elgar.234.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 235: Borodin, Prince Igor [1890] +50

elgar.235 = {
	type = country_event

    title = elgar.235.t
		
    desc = elgar.235.d

	flavor = elgar.235.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_borodin.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			has_modifier = elgar_petrograd_conservatory_modifier
		}
		has_technology_researched = nationalism
		OR = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		country_has_primary_culture = cu:russian
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
		game_date >= 1890.1.1
		NOT = {
			game_date >= 1891.1.1
		}
	}

	immediate = {
	}

	option = { #Borodin's spirit from Glazunov's hand.
		name = elgar.235.g
		elgar_add_50_music_tradition = yes
	}
}

###French Composers###

#Elgar 241: Offenbach, Orpheus [Paris, 1858] +50

elgar.241 = {
	type = country_event

    title = elgar.241.t
		
    desc = elgar.241.d

	flavor = elgar.241.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_offenbach.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:french
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		has_technology_researched = realism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1858.1.1
		NOT = {
			game_date >= 1859.1.1
		}
	}

	immediate = {
	}

	option = { #Can-can for everyone!
		name = elgar.241.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 242: Saint-Saëns, Danse macabre [Paris, 1874] +50

elgar.242 = {
	type = country_event

    title = elgar.242.t
		
    desc = elgar.242.d

	flavor = elgar.242.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_saens.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:french
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		has_technology_researched = realism
		has_technology_researched = elgar_irrationalism_tech
		has_technology_researched = verrier_astronomy_tech
		game_date >= 1874.1.1
		NOT = {
			game_date >= 1875.1.1
		}
	}

	immediate = {
	}

	option = { #Wait, wait ... he is a composer who gives astronomical bonus, too?
		name = elgar.242.g
		elgar_add_50_music_tradition = yes
		verrier_add_x_astronomical_objects_effect = {
			AMOUNT = 5
		}
	}
}

#Elgar 243: Bizet, Carmen [Paris, 1875] +50

elgar.243 = {
	type = country_event

    title = elgar.243.t
		
    desc = elgar.243.d

	flavor = elgar.243.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_bizet.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:french
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		has_technology_researched = realism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1875.1.1
		NOT = {
			game_date >= 1876.1.1
		}
	}

	immediate = {
	}

	option = { #What a tragic fate!
		name = elgar.243.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 244: Debussy, Prélude à l'après-midi d'un faune [Paris, 1894] +100

elgar.244 = {
	type = country_event

    title = elgar.244.t
		
    desc = elgar.244.d

	flavor = elgar.244.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_debussy.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:french
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		has_technology_researched = elgar_impressionism_tech
		game_date >= 1894.1.1
		NOT = {
			game_date >= 1895.1.1
		}
	}

	immediate = {
	}

	option = { #Indulge, dream, enjoy the never-ending moment...
		name = elgar.244.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 245: Ravel, Daphnis et Chloé [Paris, 1912] +50

elgar.245 = {
	type = country_event

    title = elgar.245.t
		
    desc = elgar.245.d

	flavor = elgar.245.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_ravel.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:french
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		has_technology_researched = elgar_impressionism_tech
		game_date >= 1912.1.1
		NOT = {
			game_date >= 1913.1.1
		}
	}

	immediate = {
	}

	option = { #Monsieur Ravel, with his impressionist ecstasy, will certainly never become famous for a monotonous, boring, repetitive work.
		name = elgar.245.g
		elgar_add_50_music_tradition = yes
	}
}

###British Composers###

#Elgar 251: Sullivan, Mikado [1885] +50

elgar.251 = {
	type = country_event

    title = elgar.251.t
		
    desc = elgar.251.d

	flavor = elgar.251.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_sullivan.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:british
		any_scope_state = {
			state_region = s:STATE_HOME_COUNTIES
		}
		has_technology_researched = nationalism
		game_date >= 1885.1.1
		NOT = {
			game_date >= 1886.1.1
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
    			is_in_government = no
	        }
			save_scope_as = elgar_ig_victim
			leader = {
				save_scope_as = elgar_leader_victim
			}
		}
	}

	option = { #I've got a little list — I've got a little list
		name = elgar.251.g
		default_option = yes
		elgar_add_50_music_tradition = yes

	}

	option = { #Of society offenders who might well be underground
		name = elgar.251.h
		scope:elgar_ig_victim = { 
			add_modifier = {
				name = suppressed_meeting_modifier
				years = 2
			}
		}

		ai_chance = {
			base = 0
		}
	}

	option = { #And who never would be missed — who never would be missed!
		name = elgar.251.i
		scope:elgar_leader_victim = { 
			kill_character = yes 
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 252: Elgar, Pomp & Circumstance [1901] +100

elgar.252 = {
	type = country_event

    title = elgar.252.t
		
    desc = elgar.252.d

	flavor = elgar.252.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_elgar.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:british
		any_scope_state = {
			state_region = s:STATE_HOME_COUNTIES
		}
		has_technology_researched = nationalism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1901.1.1
		NOT = {
			game_date >= 1902.1.1
		}
	}

	immediate = {
	}

	option = { #Land of Hope and Glory!
		name = elgar.252.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 253: Williams, Fantasia on a Theme by Thomas Tallis [1910] +50

elgar.253 = {
	type = country_event

    title = elgar.253.t
		
    desc = elgar.253.d

	flavor = elgar.253.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_williams.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:british
		any_scope_state = {
			state_region = s:STATE_HOME_COUNTIES
		}
		has_technology_researched = elgar_impressionism_tech
		game_date >= 1910.1.1
		NOT = {
			game_date >= 1911.1.1
		}
	}

	immediate = {
	}

	option = { #England has invented its own style!
		name = elgar.253.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 254: Holst, The Planets [1918] +50

elgar.254 = {
	type = country_event

    title = elgar.254.t
		
    desc = elgar.254.d

	flavor = elgar.254.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_holst.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:british
		any_scope_state = {
			state_region = s:STATE_HOME_COUNTIES
		}
		OR = {
			has_technology_researched = elgar_neoclassicism_tech
			has_technology_researched = elgar_new_objectivity_tech
			has_technology_researched = elgar_art_deco_tech
		}
		game_date >= 1918.1.1
		NOT = {
			game_date >= 1919.1.1
		}
	}

	immediate = {
	}

	option = { #Well, that was a planetary good suite.
		name = elgar.254.g
		elgar_add_50_music_tradition = yes
	}
}

###American Composers###

#Elgar 261: Dvořák, New World Symphony [1893] +100

elgar.261 = {
	type = country_event

    title = elgar.261.t
		
    desc = elgar.261.d

	flavor = elgar.261.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_dvorak.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:yankee
			country_has_primary_culture = cu:dixie
		}
		any_scope_state = {
			state_region = s:STATE_NEW_YORK
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
			level >= 10
		}
		game_date >= 1893.1.1
		NOT = {
			game_date >= 1894.1.1
		}
	}

	immediate = {
	}

	option = { #That was the most wonderful music this continent has ever heard!
		name = elgar.261.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 262: Sousa, Stars & Stripes [1896] +25

elgar.262 = {
	type = country_event

    title = elgar.262.t
		
    desc = elgar.262.d

	flavor = elgar.262.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_sousa.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:yankee
			country_has_primary_culture = cu:dixie
		}
		any_scope_state = {
			state_region = s:STATE_NEW_YORK
		}
		has_technology_researched = nationalism
		game_date >= 1896.1.1
		NOT = {
			game_date >= 1897.1.1
		}
	}

	immediate = {
	}

	option = { #Stars & Stripes forever!
		name = elgar.262.g
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 263: George Gershwin, Rhapsody in Blue [1924] +50

elgar.263 = {
	type = country_event

    title = elgar.263.t
		
    desc = elgar.263.d

	flavor = elgar.263.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_gershwin.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:yankee
			country_has_primary_culture = cu:dixie
		}
		any_scope_state = {
			state_region = s:STATE_NEW_YORK
		}
		has_technology_researched = elgar_mass_culture_tech
		game_date >= 1924.1.1
		NOT = {
			game_date >= 1925.1.1
		}
	}

	immediate = {
	}

	option = { #This is true American music.
		name = elgar.263.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 264: Copland, Short Symphony [1933] +50

elgar.264 = {
	type = country_event

    title = elgar.264.t
		
    desc = elgar.264.d

	flavor = elgar.264.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_copland.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:yankee
			country_has_primary_culture = cu:dixie
		}
		any_scope_state = {
			state_region = s:STATE_NEW_YORK
		}
		OR = {
			has_technology_researched = elgar_neoclassicism_tech
			has_technology_researched = elgar_new_objectivity_tech
			has_technology_researched = elgar_art_deco_tech
		}
		game_date >= 1924.1.1
		NOT = {
			game_date >= 1925.1.1
		}
	}

	immediate = {
	}

	option = { #It's a shame that the timeframe ends before the Appalachian spring suite.
		name = elgar.264.g
		elgar_add_50_music_tradition = yes
	}
}

###Spanish Composers###

#Elgar 271: Albéniz, Iberia [1906] +50

elgar.271 = {
	type = country_event

    title = elgar.271.t
		
    desc = elgar.271.d

	flavor = elgar.271.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_albeniz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:spanish
			country_has_primary_culture = cu:catalan
		}
		any_scope_state = {
			state_region = s:STATE_CATALONIA
		}
		has_technology_researched = nationalism
		has_technology_researched = elgar_irrationalism_tech
		OR = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		game_date >= 1906.1.1
		NOT = {
			game_date >= 1907.1.1
		}
	}

	immediate = {
	}

	option = { #Leyenda will be a legend.
		name = elgar.271.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 272: Granados, Goyescas [1911] +50

elgar.272 = {
	type = country_event

    title = elgar.272.t
		
    desc = elgar.272.d

	flavor = elgar.272.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_granados.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:spanish
			country_has_primary_culture = cu:catalan
		}
		any_scope_state = {
			state_region = s:STATE_CATALONIA
		}
		has_technology_researched = nationalism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1911.1.1
		NOT = {
			game_date >= 1912.1.1
		}
	}

	immediate = {
	}

	option = { #Spain  has its composers, too.
		name = elgar.272.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 273: De Falla, El amor brujo [1915] +50

elgar.273 = {
	type = country_event

    title = elgar.273.t
		
    desc = elgar.273.d

	flavor = elgar.273.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_falla.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			country_has_primary_culture = cu:spanish
			country_has_primary_culture = cu:catalan
		}
		any_scope_state = {
			state_region = s:STATE_TOLEDO
		}
		has_technology_researched = nationalism
		OR = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
			has_technology_researched = elgar_art_nouveau_tech
		}
		game_date >= 1915.1.1
		NOT = {
			game_date >= 1916.1.1
		}
	}

	immediate = {
	}

	option = { #Ah, the fire dance!
		name = elgar.273.g
		elgar_add_50_music_tradition = yes
	}
}

###Other Composers###

#Elgar 281: Gomes, Il Guarany [1870] +50

elgar.281 = {
	type = country_event

    title = elgar.281.t
		
    desc = elgar.281.d

	flavor = elgar.281.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_gomes.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_RIO_DE_JANEIRO
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		game_date >= 1870.1.1
		NOT = {
			game_date >= 1871.1.1
		}
	}

	immediate = {
	}

	option = { #A world-class Brazilian composer.
		name = elgar.281.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 282: Sibelius, Finlandia [1899] +50

elgar.282 = {
	type = country_event

    title = elgar.282.t
		
    desc = elgar.282.d

	flavor = elgar.282.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_sibelius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_SOUTHERN_FINLAND
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		has_technology_researched = nationalism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1899.1.1
		NOT = {
			game_date >= 1900.1.1
		}
	}

	immediate = {
	}

	option = { #Finland finds its own musical path.
		name = elgar.282.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 283: Ortega, Guatimotzin [1871] +50

elgar.283 = {
	type = country_event

    title = elgar.283.t
		
    desc = elgar.283.d

	flavor = elgar.283.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_ortega.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_MEXICO
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		has_technology_researched = nationalism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1871.1.1
		NOT = {
			game_date >= 1872.1.1
		}
	}

	immediate = {
	}

	option = { #Finland finds its own musical path.
		name = elgar.283.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 284: Gardel, Mi noche triste [1917] +25

elgar.284 = {
	type = country_event

    title = elgar.284.t
		
    desc = elgar.284.d

	flavor = elgar.284.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_gardel.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_BUENOS_AIRES
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		has_technology_researched = radio
		game_date >= 1917.1.1
		NOT = {
			game_date >= 1918.1.1
		}
	}

	immediate = {
	}

	option = { #The Triumph of Argentine Music.
		name = elgar.284.g
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 285: Smetana, Ma vlast [1875] +50

elgar.285 = {
	type = country_event

    title = elgar.285.t
		
    desc = elgar.285.d

	flavor = elgar.285.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_smetana.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:czech
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		has_technology_researched = nationalism
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1875.1.1
		NOT = {
			game_date >= 1876.1.1
		}
	}

	immediate = {
	}

	option = { #My sweet homeland.
		name = elgar.285.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 286: Bartók, Bluebeard's Castle [1918] +50

elgar.286 = {
	type = country_event

    title = elgar.286.t
		
    desc = elgar.286.d

	flavor = elgar.286.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_bartok.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		country_has_primary_culture = cu:hungarian
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		has_technology_researched = nationalism
		OR = {
			has_technology_researched = elgar_neoclassicism_tech
			has_technology_researched = elgar_new_objectivity_tech
			has_technology_researched = elgar_art_deco_tech
		}
		game_date >= 1918.1.1
		NOT = {
			game_date >= 1919.1.1
		}
	}

	immediate = {
	}

	option = { #Hungary's greatest composer - after Liszt.
		name = elgar.286.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 287: Dvořák, Slavonic Dances [1878] +100

#Elgar 288: Carlos Chávez, Sinfonía india [1935] +50

#Elgar 289: Oscar Lorenzo Fernández, Reisado do Pastoreio [1930] +50

elgar.289 = {
	type = country_event

    title = elgar.289.t
		
    desc = elgar.289.d

	flavor = elgar.289.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_fernandez.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_state = {
			state_region = s:STATE_RIO_DE_JANEIRO
		}
		any_scope_building = {
			is_building_type = building_elgar_opera
		}
		game_date >= 1930.1.1
		NOT = {
			game_date >= 1931.1.1
		}
	}

	immediate = {
	}

	option = { #Batuque!
		name = elgar.289.g
		elgar_add_50_music_tradition = yes
	}
}


######Random Cosmopolitain Composer Events######

#Elgar 301: Good rehearsals

elgar.301 = {
	type = country_event

    title = elgar.301.t
		
    desc = elgar.301.d

	flavor = elgar.301.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Fine.
		name = elgar.301.g
		elgar_add_10_music_tradition = yes
	}
}

#Elgar 302: Mediocre rehearsals

elgar.302 = {
	type = country_event

    title = elgar.302.t
		
    desc = elgar.302.d

	flavor = elgar.302.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Not so fine
		name = elgar.301.g
		elgar_add_5_music_tradition = yes
	}
}

#Elgar 303: An amorous dedication

elgar.303 = {
	type = country_event

    title = elgar.303.t
		
    desc = elgar.303.d

	flavor = elgar.303.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_private.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_scope_character = {
			has_role = general
			is_busy = no
		}
	}

	immediate = {
		ig:ig_armed_forces = {
			save_scope_as = army_ig
		}
	}

	option = { #I do not see the problem?
		name = elgar.303.g
		elgar_add_25_music_tradition = yes
		scope:army_ig = {
			add_modifier = {
				name = lepsius_insulted_military_modifier
				years = 3
			}
		}
		random_scope_character = {
			limit = {
				has_role = general
				is_busy = no
			}
			add_modifier = {
				name = elgar_embarrassed_in_public_modifier
				years = 3
			}
		}
	}

	option = { #Outrageous!
		name = elgar.303.h
		default_option = yes
		elgar_sub_5_music_tradition = yes
	}
}

#Elgar 304: An evening reception (Monarchy)

elgar.304 = {
	type = country_event

    title = elgar.304.t
		
    desc = elgar.304.d

	flavor = elgar.304.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_instruments.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_law = law_type:law_monarchy
	}

	immediate = {
	}

	option = { #What a beautiful surprise!
		name = elgar.304.g
		elgar_add_25_music_tradition = yes
		add_treasury = -10000
	}
}

#Elgar 305: Sold out!

elgar.305 = {
	type = country_event

    title = elgar.305.t
		
    desc = elgar.305.d

	flavor = elgar.305.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_riot.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				elgar_has_performance = yes
			}
			save_scope_as = elgar_riot_state
		}
	}

	option = { #Who is responsible for that?!
		name = elgar.305.g
		add_treasury = 25000
		elgar_add_5_music_tradition = yes
		scope:elgar_riot_state = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
	}
}

#Elgar 306: Surprising premiere

elgar.306 = {
	type = country_event

    title = elgar.306.t
		
    desc = elgar.306.d

	flavor = elgar.306.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_performance.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Our audience is more grateful.
		name = elgar.306.g
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 307: Musical friendship

elgar.307 = {
	type = country_event

    title = elgar.307.t
		
    desc = elgar.307.d

	flavor = elgar.307.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_composers.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #A fruitful freindship.
		name = elgar.307.g
		elgar_add_10_music_tradition = yes
	}
}

#Elgar 308: Musical rivalry

elgar.308 = {
	type = country_event

    title = elgar.308.t
		
    desc = elgar.308.d

	flavor = elgar.308.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_composers.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #These musicians should pull themselves together!
		name = elgar.308.g
		elgar_sub_10_music_tradition = yes
	}
}

#Elgar 309: Inspirations

elgar.309 = {
	type = country_event

    title = elgar.309.t
		
    desc = elgar.309.d

	flavor = elgar.309.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Inspiration? I want to see results!
		name = elgar.309.g
		default_option = yes
		elgar_add_15_music_tradition = yes
	}

	option = { #This will have a positive effect on the orchestra.
		name = elgar.309.h
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
			}
			add_modifier = {
				name = elgar_music_production_modifier
				years = 5
			}
		}
	}
}

#Elgar 310: Mania

elgar.310 = {
	type = country_event

    title = elgar.310.t
		
    desc = elgar.310.d

	flavor = elgar.310.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mania.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				elgar_has_performance = yes
			}
			save_scope_as = elgar_mania_state
		}
	}

	option = { #So, they are completely distracted?
		name = elgar.310.g
		elgar_add_15_music_tradition = yes
		scope:elgar_mania_state = {
			add_loyalists_in_state = {
				value = 0.02
			}
		}
	}
}

#Elgar 311: Music brings people together

elgar.311 = {
	type = country_event

    title = elgar.311.t
		
    desc = elgar.311.d

	flavor = elgar.311.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_performance.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_country = {
			limit = {
				country_rank = rank_value:great_power
				NOT = { this = ROOT }
			}
			save_scope_as = elgar_ambassador_country
		}
	}

	option = { #Haha. No.
		name = elgar.311.g
		elgar_add_10_music_tradition = yes
		scope:elgar_ambassador_country = {
			change_relations = {
				country = ROOT 
				value = -5
			}
		}
	}

	option = { #Give him pride of place.
		name = elgar.311.h
		default_option = yes
		scope:elgar_ambassador_country = {
			change_relations = {
				country = ROOT 
				value = 10
			}
		}
	}
}

#Elgar 312: Assassination attempt at the Opera!

elgar.312 = {
	type = country_event

    title = elgar.312.t
		
    desc = elgar.312.d

	flavor = elgar.312.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_riot.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		government_legitimacy < 40
	}

	immediate = {
		random_interest_group = {
			limit = {
    			is_in_government = yes
	        }
			save_scope_as = elgar_ig_victim
			leader = {
				save_scope_as = elgar_leader_victim
			}
		}
	}

	option = { #Where were the security forces?!
		name = elgar.312.g
		elgar_sub_5_music_tradition = yes
		scope:elgar_ig_victim = {
			add_modifier = {
				name = elgar_lack_of_protection_modifier
				years = 3
			}
		}
		random_list = {
			33 = { scope:elgar_leader_victim = { kill_character = yes } }
			66 = { }
		}
	}
}

#Elgar 313: A minor work

elgar.313 = {
	type = country_event

    title = elgar.313.t
		
    desc = elgar.313.d

	flavor = elgar.313.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_performance.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			elgar_has_great_composer = yes
			elgar_has_performance = yes
		}
	}

	immediate = {
	}

	option = { #Sometimes it's the little things that bring joy.
		name = elgar.313.g
		elgar_add_15_music_tradition = yes
	}
}

#Elgar 314: No inspiration

elgar.314 = {
	type = country_event

    title = elgar.314.t
		
    desc = elgar.314.d

	flavor = elgar.314.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_depression.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Depressing.
		name = elgar.314.g
	}
}

#Elgar 315: Private Concert

elgar.315 = {
	type = country_event

    title = elgar.315.t
		
    desc = elgar.315.d

	flavor = elgar.315.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_private.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		OR = {
			elgar_has_great_composer = yes
			elgar_has_performance = yes
		}
	}

	immediate = {
	}

	option = { #That was nice.
		name = elgar.315.g
		default_option = yes
		elgar_add_5_music_tradition = yes
	}

	option = { #Da capo!
		name = elgar.315.h
		elgar_add_10_music_tradition = yes
		add_treasury = -10000
	}
}

#Elgar 316: A talented student

elgar.316 = {
	type = country_event

    title = elgar.316.t
		
    desc = elgar.316.d

	flavor = elgar.316.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_instruments.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			any_scope_character = {
				has_trait = elgar_composer
			}
		}
		elgar_has_great_composer = yes
	}

	immediate = {
		random_interest_group = {
			limit = {
    			is_in_government = no
	        }
			leader = {
				save_scope_as = elgar_composer_student
			}
		}
	}

	option = { #A promising candidate.
		name = elgar.316.g
		default_option = yes
		scope:elgar_composer_student = {
			add_trait = elgar_composer
		}
	}

	option = { #His energy is better spent elsewhere.
		name = elgar.316.h
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 317: Musical desaster

elgar.317 = {
	type = country_event

    title = elgar.317.t
		
    desc = elgar.317.d

	flavor = elgar.317.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_depression.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #An international disgrace!
		name = elgar.317.g
		elgar_sub_25_music_tradition = yes
	}
}

#Elgar 318: Scandal concert

elgar.318 = {
	type = country_event

    title = elgar.318.t
		
    desc = elgar.318.d

	flavor = elgar.318.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_scandal.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				elgar_has_performance = yes
			}
			save_scope_as = elgar_riot_state
		}
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #The rabble has no sense of culture. That was excellent!
		name = elgar.318.g
		elgar_add_25_music_tradition = yes
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}
		scope:elgar_riot_state = {
			add_radicals_in_state = {
				value = small_radicals
			}
		}
	}
	option = { #Remove the piece from the board immediately.
		name = elgar.318.h
		default_option = yes
		add_modifier = {
			name = elgar_music_repression_modifier
			years = 5
		}
		add_modifier = {
			name = elgar_good_taste_modifier
			years = 5
		}
	}
}

#Elgar 319: Zeitgeist

elgar.319 = {
	type = country_event

    title = elgar.319.t
		
    desc = elgar.319.d

	flavor = elgar.319.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Excellent!
		name = elgar.319.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 320: Propaganda

elgar.320 = {
	type = country_event

    title = elgar.320.t
		
    desc = elgar.320.d

	flavor = elgar.320.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Music should be free from politics.
		name = elgar.320.g
		default_option = yes
		elgar_add_25_music_tradition = yes
	}
	option = { #Sometimes, music should serve politics.
		name = elgar.320.h
		add_modifier = {
			name = elgar_music_propaganda_modifier
			years = 5
		}
	}
}

#Elgar 321: Great Composer meet

elgar.321 = {
	type = country_event

    title = elgar.321.t
		
    desc = elgar.321.d

	flavor = elgar.321.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_composers.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		elgar_has_great_composer = yes
	}

	immediate = {
	}

	option = { #A historic meeting.
		name = elgar.321.g
		elgar_add_25_music_tradition = yes
	}
}


######Conductors######

#Elgar 401: New Chief Conductor appointed 'REMOVED'

#Elgar 402: Conductor retires 'REMOVED'

#Elgar 403: Conductor available again 'REMOVED'

#Elgar 406: Composer dies

elgar.406 = {
	type = country_event

	title = elgar.406.t

	desc = elgar.406.d

	flavor = elgar.406.f
	
	duration = 3

	event_image = { 
		texture = "gfx/event_pictures/academics_pictures/academics_academic_funeral.dds"
	}

	icon = "gfx/interface/icons/event_icons/event_academy.dds"

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	trigger = {
		var:elgar_composer_var = {
			age > 50 #Bellini (33), Mozart (35), Mendelssohn (38) and Chopin (39) were younger ...
		}
	}

	immediate = {
		kill_composer_effect = yes
	}

	option = {	#But who should write his requiem now?
		name = elgar.406.g
		default_option = yes
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:elgar_composer_var ?= {
				age >= 60
			}
			factor = 2
		}
		modifier = {
			var:elgar_composer_var ?= {
				age >= 70
			}
			factor = 5
		}
		modifier = {
			var:elgar_composer_var ?= {
				age >= 80
			}
			factor = 10
		}
		modifier = {
			var:elgar_composer_var ?= {
				age >= 90
			}
			factor = 10
		}
	}
}

#Elgar 407: Conductor finishes commission

elgar.407 = {
	type = country_event
	
	title = elgar.407.t
	desc = elgar.407.d
	flavor = elgar.407.f

	duration = 1

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_conductor

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_conductor
			remove_modifier = elgar_conductor_conducts_modifier
			remove_modifier = elgar_conductor_composes_modifier
			remove_modifier = elgar_conductor_touring_modifier
		}
	}

	option = { #He greatly deserves a rest.
		name = elgar.407.g
		scope:elgar_conductor = {
			set_character_busy_and_immortal = no
		}
		elgar_composer_exhaustion_add = { DAYS = elgar_conductor_exhaution_value }
	}
}

###Conducting###

#Elgar 411: Superb Concerto

elgar.411 = {
	type = country_event

    title = elgar.411.t
		
    desc = elgar.411.d

	flavor = elgar.411.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		elgar_add_1_composer_progress = yes
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Fine.
		name = elgar.411.g
		composer_experience_gain_effect = {
			AMOUNT = 10
		}
	}
}

#Elgar 412: Mediocre Concerto

elgar.412 = {
	type = country_event

    title = elgar.412.t
		
    desc = elgar.412.d

	flavor = elgar.412.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		elgar_add_1_composer_progress = yes
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Not so fine
		name = elgar.412.g
		composer_experience_gain_effect = {
			AMOUNT = 5
		}
	}
}

#Elgar 413: Poor Concerto

elgar.413 = {
	type = country_event

    title = elgar.413.t
		
    desc = elgar.413.d

	flavor = elgar.413.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		elgar_add_1_composer_progress = yes
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Not so fine
		name = elgar.413.g
		composer_experience_gain_effect = {
			AMOUNT = -5
		}
	}
}

#Elgar 414: Ambassador in audience

elgar.414 = {
	type = country_event

    title = elgar.414.t
		
    desc = elgar.414.d

	flavor = elgar.414.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_composers.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		elgar_add_1_composer_progress = yes
		set_elgar_conductor_scope_effect = yes
		random_country = {
			limit = {
				country_rank = rank_value:great_power
				NOT = { this = ROOT }
			}
			save_scope_as = elgar_ambassador_country
		}
	}

	option = { #He is wrong
		name = elgar.414.g
		composer_experience_gain_effect = {
			AMOUNT = 5
		}
		scope:elgar_ambassador_country = {
			change_relations = {
				country = ROOT 
				value = -5
			}
		}
	}

	option = { #He is right
		name = elgar.414.h
		default_option = yes
		scope:elgar_ambassador_country = {
			change_relations = {
				country = ROOT 
				value = 10
			}
		}
	}
}

#Elgar 415: Ballet

elgar.415 = {
	type = country_event

    title = elgar.415.t
		
    desc = elgar.415.d

	flavor = elgar.415.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_firebird.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		elgar_has_ballet = yes
	}

	immediate = {
		elgar_add_1_composer_progress = yes
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Fine
		name = elgar.411.g
		composer_experience_gain_effect = {
			AMOUNT = 10
		}
	}
}

#Elgar 416: Film music

elgar.416 = {
	type = country_event

    title = elgar.416.t
		
    desc = elgar.416.d

	flavor = elgar.416.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/gaudi_pictures/gaudi_cinema.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_technology_researched = film
		any_scope_building = {
			is_building_type = building_arts_academy
			has_active_production_method = pm_film_art
		}
	}

	immediate = {
		elgar_add_1_composer_progress = yes
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Fine
		name = elgar.411.g
		composer_experience_gain_effect = {
			AMOUNT = 5
		}
		random_scope_state = {
			limit = {
				has_building = building_arts_academy
			}
			add_modifier = {
				name = elgar_film_music_modifier
				years = 2
			}
		}
	}
}

#Elgar 417: Conduction season ends

elgar.417 = {
	type = country_event

    title = elgar.417.t
		
    desc = elgar.417.d

	flavor = elgar.417.f

	duration = 3
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_conductor.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
		elgar_add_elgar_composer_num_seasons_effect = yes
	}

	option = { #Fine
		name = elgar.417.g
		composer_experience_gain_effect = {
			AMOUNT = 35
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 15
		}
		if = {
			limit = {
				var:elgar_composer_var = {
					NOT = {
						has_trait = elgar_conductor
					}
					var:elgar_composer_num_seasons_var >= 3
				}
			}
			var:elgar_composer_var = {
				add_trait = elgar_conductor
			}
		}
		else_if = {
			limit = {
				var:elgar_composer_var = {
					NOT = {
						has_trait = elgar_conductor
					}
					var:elgar_composer_num_seasons_var = 2
				}
			}
			random_list = {
				50 = {
					var:elgar_composer_var = {
						add_trait = elgar_conductor
					}
				}
				50 = {}
			}
		}
		else = {
			limit = {
				var:elgar_composer_var = {
					NOT = {
						has_trait = elgar_conductor
					}
					var:elgar_composer_num_seasons_var = 2
				}
			}
			random_list = {
				25 = {
					var:elgar_composer_var = {
						add_trait = elgar_conductor
					}
				}
				75 = {}
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.407
				days = 7
			}
		}
	}
}

###Composing###

#Elgar 421: Composer progress

elgar.421 = {
	type = country_event
	
	hidden = yes

	immediate = {
		elgar_add_1_composer_progress = yes
	}
}

#Elgar 422: No inspiration

elgar.422 = {
	type = country_event

    title = elgar.314.t
		
    desc = elgar.422.d

	flavor = elgar.314.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_depression.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	cooldown = {
		years = 1
	}

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Depressing.
		name = elgar.314.g
		elgar_sub_3_composer_progress = yes
	}
}

#Elgar 423: A walk

elgar.423 = {
	type = country_event

    title = elgar.423.t
		
    desc = elgar.423.d

	flavor = elgar.423.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_walk.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #In the footsteps of Beethoven!
		name = elgar.423.g
		elgar_add_3_composer_progress = yes
	}
}

#Elgar 424: Disturbances

elgar.424 = {
	type = country_event

    title = elgar.424.t
		
    desc = elgar.424.d

	flavor = elgar.424.f

	duration = 1
		
	gui_window = event_window_2char

	left_icon = scope:elgar_conductor
	right_icon = scope:elgar_leader_disturber

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	cooldown = {
		years = 1
	}

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
		random_interest_group = {
			limit = {
    			is_in_government = yes
				leader = {
					NOT = {
						has_modifier = elgar_conductor_modifier
					}
				}
	        }
			save_scope_as = elgar_ig_disturber
			leader = {
				save_scope_as = elgar_leader_disturber
			}
		}
	}

	option = { #Don't disturb him!
		name = elgar.424.g
		default_option = yes
		elgar_add_5_composer_progress = yes
		scope:elgar_ig_disturber = {
			add_modifier = {
				name = elgar_annoyed_ig_modifier
				years = 3
			}
		}
		scope:elgar_leader_disturber = {
			add_modifier = {
				name = elgar_embarrassed_in_public_modifier
				years = 3
			}
		}
	}

	option = { #He has to live with it
		name = elgar.424.h
		elgar_sub_3_composer_progress = yes
	}
}

#Elgar 425: Not enough comfort

elgar.425 = {
	type = country_event

    title = elgar.425.t
		
    desc = elgar.425.d

	flavor = elgar.425.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_conductor.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_modifier = elgar_composer_comfort_modifier
		}
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Give him comfort
		name = elgar.425.g
		default_option = yes
		elgar_add_5_composer_progress = yes
		add_treasury = -10000
		add_modifier = {
			name = elgar_composer_comfort_modifier
			multiplier = money_amount_multiplier_small
			days = 500
		}
	}

	option = { #He has to live with it
		name = elgar.424.h
		elgar_sub_1_composer_progress = yes
	}
}

#Elgar 426: Sea Shanty

elgar.426 = {
	type = country_event

    title = elgar.426.t
		
    desc = elgar.426.d

	flavor = elgar.426.f

	duration = 1
		
	gui_window = event_window_2char

	left_icon = scope:elgar_conductor
	right_icon = scope:elgar_admiral

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	cooldown = {
		years = 5
	}

	trigger = {
		any_scope_character = {
			has_role = admiral
			OR = {
				has_trait = expert_naval_commander
				has_trait = expert_convoy_raider
				has_trait = celebrity_commander
			}
		}
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
		random_scope_character = {
			limit = {
				has_role = admiral
				OR = {
					has_trait = expert_naval_commander
					has_trait = expert_convoy_raider
					has_trait = celebrity_commander
				}
			}
			save_scope_as = elgar_admiral
		}
	}

	option = { #Yoho!
		name = elgar.426.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 5
		}
		elgar_add_1_composer_progress = yes
	}
}

#Elgar 427: March

elgar.427 = {
	type = country_event

    title = elgar.427.t
		
    desc = elgar.427.d

	flavor = elgar.427.f

	duration = 1
		
	left_icon = scope:elgar_conductor
	right_icon = scope:elgar_general

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	cooldown = {
		years = 5
	}

	trigger = {
		any_scope_character = {
			has_role = general
			OR = {
				has_trait = expert_artillery_commander
				has_trait = defense_in_depth_specialist
				has_trait = expert_offensive_planner
				has_trait = expert_defensive_strategist
			}
		}
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
		random_scope_character = {
			limit = {
				has_role = general
				OR = {
					has_trait = expert_artillery_commander
					has_trait = defense_in_depth_specialist
					has_trait = expert_offensive_planner
					has_trait = expert_defensive_strategist
				}
			}
			save_scope_as = elgar_general
		}
	}

	option = { #New material for the army
		name = elgar.427.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 5
		}
		elgar_add_1_composer_progress = yes
	}
}

#Elgar 428: Kunstlied

elgar.428 = {
	type = country_event

    title = elgar.428.t
		
    desc = elgar.428.d

	flavor = elgar.428.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_private.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	cooldown = {
		years = 5
	}

	trigger = {
		OR = {
			has_technology_researched = elgar_impressionism_tech
			has_technology_researched = elgar_expressionism_tech
		}
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Couldn't it have been something else...?
		name = elgar.428.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 10
		}
		elgar_add_1_composer_progress = yes
	}
}

#Elgar 429: Sonata for Piano

elgar.429 = {
	type = country_event

    title = elgar.429.t
		
    desc = elgar.429.d

	flavor = elgar.429.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_private.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	cooldown = {
		years = 5
	}

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #A classic.
		name = elgar.429.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 10
		}
		elgar_add_1_composer_progress = yes
	}
}

#Elgar 431: Concerto

elgar.431 = {
	type = country_event

    title = elgar.431.t
		
    desc = elgar.431.d

	flavor = elgar.431.f

	duration = 3
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_instruments.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		composer_experience_gain_effect = {
			AMOUNT = 10
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 20
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.407
				days = 7
			}
		}
	}
}

#Elgar 432: Symphony

elgar.432 = {
	type = country_event

    title = elgar.432.t
		
    desc = elgar.432.d

	flavor = elgar.432.f

	duration = 3
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_orchestra.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		composer_experience_gain_effect = {
			AMOUNT = 15
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 30
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.407
				days = 7
			}
		}
	}
}

#Elgar 433: Opera

elgar.433 = {
	type = country_event

    title = elgar.433.t
		
    desc = elgar.433.d

	flavor = elgar.433.f

	duration = 3
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_performance.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_elgar_conductor_scope_effect = yes
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_elgar_composer_num_compositions_effect = yes
		composer_experience_gain_effect = {
			AMOUNT = 20
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 40
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.407
				days = 7
			}
		}
	}
}

###Touring###

#Elgar 441: Conductor travels to Neighbour Country 'REMOVED'

#Elgar 442: Conductor in Neighbour Country 'REMOVED'

#Elgar 443: Successful Conductor 'REMOVED'

#Elgar 444: Unsccessful Conductor 'REMOVED'



###Composer Tour###

#Elgar 451: Composer travels to Neighbour Country

elgar.451 = {
	type = country_event

    title = elgar.451.t
		
    desc = elgar.451.d

	flavor = elgar.451.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_conductor.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		elgar_composer_destination_effect = yes
		set_elgar_composer_scope_effect = yes
	}

	option = { #Farewell!
		name = elgar.452.g
		default_option = yes
		scope:elgar_composer_destination_scope = {
			change_relations = {
				country = ROOT
				value = 3
			}
		}
		hidden_effect = {
			scope:elgar_composer_destination_scope = {
				trigger_event = {
					id = elgar.452
				}
			}
		}
	}
}

#Elgar 452: Composer arrives in Neighbour Country

elgar.452 = {
	type = country_event

    title = elgar.452.t
		
    desc = elgar.452.d

	flavor = elgar.452.f

	duration = 3
		
	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		any_country = {
			elgar_has_composer = yes
			has_modifier = elgar_composer_on_tour_modifier
		}
	}

	immediate = {
		set_elgar_tour_composer_scope_effect = yes
		add_modifier = {
			name = elgar_composer_tour_performance_modifier
			days = 90
		}
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_composer_tour_state_performance_modifier
				days = 90
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.453
				days = 90
			}
		}
	}

	option = { #Welcome!
		name = elgar.452.g
		default_option = yes
		if = {
			limit = {
				elgar_opera_building_score >= 20
			}
			elgar_add_x_music_tradition_effect = {
				AMOUNT = 20
			}
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
		}
		else_if = {
			limit = {
				elgar_opera_building_score >= 10
				elgar_opera_building_score < 20
			}
			elgar_add_x_music_tradition_effect = {
				AMOUNT = 15
			}
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
		}
		else_if = {
			limit = {
				elgar_opera_building_score >= 5
				elgar_opera_building_score < 10
			}
			elgar_add_x_music_tradition_effect = {
				AMOUNT = 10
			}
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
		}
		else = {
			limit = {
				elgar_opera_building_score < 5
			}
			elgar_add_x_music_tradition_effect = {
				AMOUNT = 5
			}
		}
	}
}

#Elgar 452: Composer arrives in Neighbour Country

elgar.453 = {
	type = country_event

    title = elgar.453.t
		
    desc = elgar.453.d

	flavor = elgar.453.f

	duration = 3
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_conductor.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		add_modifier = {
			name = elgar_had_composer_tour_performance_modifier
			years = 2
		}
	}

	option = { #Farewell
		name = elgar.453.g
		default_option = yes
	}
}

#Elgar 454: Composer destination (hidden)

elgar.454 = {
	type = country_event

    hidden = yes

	trigger = {
		OR = {
			var:elgar_composer_progress = 6
			var:elgar_composer_progress = 12
			var:elgar_composer_progress = 18
			var:elgar_composer_progress = 24
		}
	}

	immediate = {
		elgar_composer_destination_effect = yes
		scope:elgar_composer_destination_scope = {
			trigger_event = {
				id = elgar.452
				days = 7
			}
		}
	}
}

#Elgar 455: Composer returns from Tour

elgar.455 = {
	type = country_event

    title = elgar.455.t
		
    desc = elgar.455.d

	flavor = elgar.455.f

	duration = 3
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_conductor.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
		set_elgar_composer_scope_effect = yes
		elgar_add_elgar_composer_num_tours_effect = yes
	}

	option = { #He has earned the respect of the world.
		name = elgar.455.g
		default_option = yes
		remove_modifier = elgar_composer_on_tour_modifier
		composer_experience_gain_effect = {
			AMOUNT = elgar_tour_score
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.407
				days = 7
			}
		}
	}
}

###Historical Events for Music###

#Elgar 501: Canto degli Italiani

elgar.501 = {
	type = country_event
	placement = ROOT

	title = elgar.501.t
	desc = elgar.501.d
	flavor = elgar.501.f

	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_PIEDMONT
		}
		has_technology_researched = nationalism
		game_date >= 1847.1.1
		NOT = {
			game_date >= 1849.7.7 #Mameli dies
		}
		NOT = { 
			has_global_variable = elgar_inno_mameli_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = elgar_inno_mameli_var
		}
	}

	option = {
		name = elgar.501.g #There should be a law against it...
		trigger = {
			NOR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		add_radicals = {
			value = 0.1
			culture = cu:north_italian
		}
		add_radicals = {
			value = 0.1
			culture = cu:south_italian
		}
	}

	option = {
		name = elgar.501.h #Fratelli d'Italia, l'Italia s'è desta!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 10
		}
		add_modifier = {
			name = elgar_patriotic_music_modifier
			years = 5
		}
		add_loyalists = {
			value = 0.01
			culture = cu:north_italian
		}
		add_loyalists = {
			value = 0.01
			culture = cu:south_italian
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					any_scope_state = {
						region = sr:region_italy
					}
					NOT = {
						this = ROOT
					}
				}
				trigger_event = { 
					id = elgar.502
					popup = yes 
					days = { 1 7 }
				}
			}
		}
	}
}

#Elgar 502: Canto degli Italiani

elgar.502 = {
	type = country_event
	placement = ROOT

	title = elgar.501.t
	desc = elgar.501.d
	flavor = elgar.501.f

	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = elgar.501.g #There should be a law against it...
		trigger = {
			NOR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		add_radicals = {
			value = 0.1
			culture = cu:north_italian
		}
		add_radicals = {
			value = 0.1
			culture = cu:south_italian
		}
	}

	option = {
		name = elgar.501.h #Fratelli d'Italia, l'Italia s'è desta!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 5
		}
		add_modifier = {
			name = elgar_patriotic_music_modifier
			years = 5
		}
	}

	after = {
	}
}

#Elgar 503: Deutschlandlied

elgar.503 = {
	type = country_event
	placement = ROOT

	title = elgar.503.t
	desc = elgar.503.d
	flavor = elgar.503.f

	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_fallersleben.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 3

	trigger = {
		exists = c:FRA
		c:FRA = {
			has_modifier = france_natural_borders_pursuit
		}
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		NOT = {
			has_variable = elgar_deutschlandlied_var
		}
	}

	immediate = {
		set_variable = elgar_deutschlandlied_var
	}

	option = {
		name = elgar.503.g #Deutscher Sang und Deutscher Klang!
		default_option = yes
		trigger = {
			NOT = {
				ROOT = c:AUS
			}
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 10
		}
	}

	option = {
		name = elgar.503.h #Deutschland über alles!
		trigger = {
			NOT = {
				ROOT = c:AUS
			}
		}
		add_modifier = {
			name = elgar_patriotic_music_modifier
			years = 5
		}
		add_loyalists = {
			value = 0.01
			culture = cu:north_german
		}
		add_loyalists = {
			value = 0.01
			culture = cu:south_german
		}
		add_loyalists = {
			value = 0.01
			culture = cu:united_german
		}
	}

	option = {
		name = elgar.503.i #The song is called "Gott erhalte Franz, den Kaiser", fools!
		trigger = {
			ROOT = c:AUS
		}
	}

	after = {
	}
}

######Cosmopolitan Composers######

######Composer Deaths######

#Elgar 601: Mendelssohn Death
elgar.601 = {
	type = country_event
	placement = ROOT

	title = elgar.601.t
	desc = elgar.601.d
	flavor = elgar.601.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.601.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 602: Chopin Death
elgar.602 = {
	type = country_event
	placement = ROOT

	title = elgar.602.t
	desc = elgar.602.d
	flavor = elgar.602.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.602.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 603: Rossini Death
elgar.603 = {
	type = country_event
	placement = ROOT

	title = elgar.603.t
	desc = elgar.603.d
	flavor = elgar.603.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.603.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 604: Czerny Death
elgar.604 = {
	type = country_event
	placement = ROOT

	title = elgar.604.t
	desc = elgar.604.d
	flavor = elgar.604.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.604.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 605: Nicolai Death
elgar.605 = {
	type = country_event
	placement = ROOT

	title = elgar.605.t
	desc = elgar.605.d
	flavor = elgar.605.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.605.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 606: Mercadante Death
elgar.606 = {
	type = country_event
	placement = ROOT

	title = elgar.606.t
	desc = elgar.606.d
	flavor = elgar.606.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.606.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 607: Pacini Death
elgar.607 = {
	type = country_event
	placement = ROOT

	title = elgar.607.t
	desc = elgar.607.d
	flavor = elgar.607.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.607.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 608: Meyerbeer Death
elgar.608 = {
	type = country_event
	placement = ROOT

	title = elgar.608.t
	desc = elgar.608.d
	flavor = elgar.608.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.608.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 609: Lachner Death
elgar.609 = {
	type = country_event
	placement = ROOT

	title = elgar.609.t
	desc = elgar.609.d
	flavor = elgar.609.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.609.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 610: Spohr Death
elgar.610 = {
	type = country_event
	placement = ROOT

	title = elgar.610.t
	desc = elgar.610.d
	flavor = elgar.610.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.610.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 611: Strauss I Death
elgar.611 = {
	type = country_event
	placement = ROOT

	title = elgar.611.t
	desc = elgar.611.d
	flavor = elgar.611.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.611.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

#Elgar 612: Glinka Death
elgar.612 = {
	type = country_event
	placement = ROOT

	title = elgar.612.t
	desc = elgar.612.d
	flavor = elgar.612.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:elgar_composer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 1

	trigger = {
	}

	immediate = {
		var:elgar_composer_var = {
			save_scope_as = elgar_composer_scope
		}
	}

	option = {
		name = elgar.612.g
		default_option = yes
		
		kill_composer_effect = yes
	}

	after = {
	}
}

###Donizetti###

#Elgar 1001: Poliuto, 1838 [Sicily may keep Donizetti. AI won't do this]

elgar.1001 = {
	type = country_event

    title = elgar.1001.t
		
    desc = elgar.1001.d

	flavor = elgar.1001.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1838.1.1
		NOT = {
			game_date >= 1839.1.1
		}
		ROOT = c:SIC
	}

	immediate = {
		remove_modifier = elgar_donizetti_contract_modifier
		remove_modifier = elgar_donizetti_great_composer_modifier
		random_scope_character = {
			limit = { 
				is_ruler = yes 
			}
			save_scope_as = king
		}
		ig:ig_armed_forces = {
			save_scope_as = army_ig
		}
		ig:ig_landowners = {
			save_scope_as = landowners_ig
		}
		ig:ig_devout = {
			save_scope_as = devout_ig
		}
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #The king has spoken, he may pack his things.
		name = elgar.1001.g
		default_option = yes
		custom_tooltip = elgar_donizetti_leaves_tt
		add_modifier = {
			name = elgar_music_repression_modifier
			years = 5
		}
		random_scope_state = {
			limit = {
				has_modifier = elgar_donizetti_performance_modifier
			}
			remove_modifier = elgar_donizetti_performance_modifier
			add_modifier = {
				name = elgar_donizetti_was_here_modifier
				years = 5
			}
		}
		scope:landowners_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 5
			}
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_donizetti_tournee_italy = yes
		}
	}

	option = { #We must do everything to prevent Donizetti from leaving!
		name = elgar.1001.h
		elgar_add_50_music_tradition = yes
		add_modifier = {
			name = elgar_music_concession_modifier
			years = 10
		}
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_donizetti_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1021
				popup = yes
				days = 3650
			}
		}
		scope:king = {
			add_modifier = {
				name = elgar_embarrassed_in_public_modifier
				years = 10
			}
		}
		scope:army_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 10
			}
		}
		scope:landowners_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 10
			}
		}
		scope:devout_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 10
			}
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 10
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1011: Donizetti arrives [Italy Tournee]

elgar.1011 = {
	type = country_event

    title = elgar.1011.t
		
    desc = elgar.1011.d

	flavor = elgar.1011.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_donizetti_dead_var
		}
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_donizetti_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1012
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_donizetti_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1012
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_donizetti_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1012
					days = 60
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_donizetti_minimum = yes
		}
		custom_tooltip = elgar_donizetti_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_donizetti_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1021
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1012: Donizetti departs [Italy Tournee]

elgar.1012 = {
	type = country_event

    title = elgar.1012.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_donizetti_dead_var
		}
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_donizetti_performance_modifier
			}
			remove_modifier = elgar_donizetti_performance_modifier
			add_modifier = {
				name = elgar_donizetti_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		elgar_donizetti_tournee_italy = yes
	}
}

#Elgar 1021: Donizetti's contract ends

elgar.1021 = {
	type = country_event

    title = elgar.1021.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_donizetti_dead_var
		}
	}

	cancellation_trigger = {
		has_global_variable = elgar_donizetti_dead_var
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_donizetti_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_donizetti_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_donizetti_tournee_grand_tour = yes
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_donizetti_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1022
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1022: Donizetti's contract ends finally

elgar.1022 = {
	type = country_event

    title = elgar.1021.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_donizetti_dead_var
		}
	}

	cancellation_trigger = {
		has_global_variable = elgar_donizetti_dead_var
	}

	immediate = {
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_donizetti_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_donizetti_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_donizetti_tournee_grand_tour = yes
		}
	}
}

#Elgar 1031: Donizetti dies, 1848

elgar.1031 = {
	type = country_event

    title = elgar.1031.t
		
    desc = elgar.1031.d

	flavor = elgar.1031.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1848.1.1
		NOT = {
			game_date >= 1849.1.1
		}
		has_global_variable = elgar_donizetti_dies_1848_var
		NOT = {
			has_global_variable = elgar_donizetti_dies_1869_var
		}
		OR = {
			has_modifier = elgar_donizetti_contract_modifier
			any_scope_state = {
				state_region = s:STATE_LOMBARDY
			}
		}
	}

	immediate = {
		set_global_variable = elgar_donizetti_dead_var
	}

	option = { #A tragic death.
		name = elgar.1031.g
		custom_tooltip = elgar_donizetti_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_donizetti_performance_modifier
			}
			remove_modifier = elgar_donizetti_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_donizetti_was_here_modifier
			}
			remove_modifier = elgar_donizetti_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_donizetti_great_composer_modifier
			}
			remove_modifier = elgar_donizetti_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_donizetti_contract_modifier
			}
			remove_modifier = elgar_donizetti_contract_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_donizetti_suspended_modifier
			}
			remove_modifier = elgar_donizetti_suspended_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = romanticism
			}
			post_notification = elgar_donizetti_dead_notification
		}
	}
}

#Elgar 1032: Donizetti dies, 1869

elgar.1032 = {
	type = country_event

    title = elgar.1031.t
		
    desc = elgar.1031.d

	flavor = elgar.1032.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1869.1.1
		NOT = {
			game_date >= 1870.1.1
		}
		has_global_variable = elgar_donizetti_dies_1869_var
		OR = {
			has_modifier = elgar_donizetti_contract_modifier
			any_scope_state = {
				state_region = s:STATE_LOMBARDY
			}
		}
	}

	immediate = {
		set_global_variable = elgar_donizetti_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_donizetti_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_donizetti_performance_modifier
			}
			remove_modifier = elgar_donizetti_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_donizetti_was_here_modifier
			}
			remove_modifier = elgar_donizetti_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_donizetti_great_composer_modifier
			}
			remove_modifier = elgar_donizetti_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_donizetti_contract_modifier
			}
			remove_modifier = elgar_donizetti_contract_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = romanticism
			}
			post_notification = elgar_donizetti_dead_notification
		}
	}
}

#Elgar 1051: Les Martyres, 1840 [France may get Donizetti, but only if it doesn't get Berlioz. AI won't do this]

elgar.1051 = {
	type = country_event

    title = elgar.1051.t
		
    desc = elgar.1051.d

	flavor = elgar.1051.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1840.1.1
		NOT = {
			game_date >= 1841.1.1
		}
		ROOT = c:FRA
		NOT = {
			any_country = {
				has_modifier = elgar_donizetti_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance
		name = elgar.1051.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		s:STATE_ILE_DE_FRANCE={
			region_state:FRA={
				add_modifier = {
					name = elgar_donizetti_performance_modifier
					years = 2
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_donizetti_minimum = yes
		}
		custom_tooltip = elgar_donizetti_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_donizetti_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1021
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1052: Stabat Mater, 1842 [Papal state may get Donizetti. AI won't do this]

elgar.1052 = {
	type = country_event

    title = elgar.1052.t
		
    desc = elgar.1052.d

	flavor = elgar.1052.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1842.1.1
		NOT = {
			game_date >= 1843.1.1
		}
		ROOT = c:PAP
		NOT = {
			any_country = {
				has_modifier = elgar_donizetti_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance
		name = elgar.1051.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		every_state = {
			limit = {
				state_region = s:STATE_ROMAGNA
				owner = ROOT
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				years = 2
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					any_scope_state = {
						state_region = s:STATE_LOMBARDY
					}
				}
				trigger_event = {
					id = elgar.1053
					popup = yes
					days = 30
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_donizetti_minimum = yes
		}
		custom_tooltip = elgar_donizetti_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_donizetti_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1021
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1053: Donizetti in Milan, 1842 [Austria may get Donizetti. AI will do this]

elgar.1053 = {
	type = country_event

    title = elgar.1053.t
		
    desc = elgar.1053.d

	flavor = elgar.1053.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			any_country = {
				has_modifier = elgar_donizetti_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance
		name = elgar.1051.g
		hidden_effect = {
				elgar_composer_lotto_2 = yes
			}
		elgar_add_25_music_tradition = yes
		every_state = {
			limit = {
				state_region = s:STATE_LOMBARDY
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				years = 2
			}
		}
		elgar_donizetti_tournee_grand_tour = yes

		ai_chance = {
			base = 0
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_donizetti_minimum = yes
				}
				is_player = no
			}
		}
		default_option = yes
		custom_tooltip = elgar_donizetti_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_donizetti_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_donizetti_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1021
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 100
		}
	}

	after = {
	}
}

#Elgar 1054: Donizetti's illness, 1845 [will not be cured in 80 % of games]

elgar.1054 = {
	type = country_event

    title = elgar.1054.t
		
    desc = elgar.1054.d

	flavor = elgar.1054.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_donizetti_contract_modifier
		game_date >= 1845.1.1
		NOT = {
			game_date >= 1846.1.1
		}
	}

	immediate = {
	}

	option = { #Maybe it's better that way.
		name = elgar.1054.g
		default_option = yes
		custom_tooltip = elgar_donizetti_no_chance_tt
		add_modifier = {
			name = elgar_donizetti_suspended_modifier
			years = 4
		}
		set_global_variable = elgar_donizetti_dies_1848_var
	}

	option = { #Get him out of the insane asylum and give him rest in Bergamo.
		name = elgar.1054.h
		custom_tooltip = elgar_donizetti_small_chance_tt
		add_treasury = -20000
		add_modifier = {
			name = elgar_donizetti_suspended_modifier
			years = 4
		}
		add_modifier = {
			name = elgar_donizetti_care_modifier
			multiplier = money_amount_multiplier_very_small
			years = 5
		}
		random_list = {
			8 = { 
				modifier = {
					if = {
						limit = {
							is_player = no
						}
					}
					add = 4
				}
				set_global_variable = elgar_donizetti_dies_1848_var 
			}
			2 = {
				modifier = {
					if = {
						limit = {
							OR = {
								has_law = law_type:law_charitable_health_system
								has_law = law_type:law_private_health_insurance
								has_law = law_type:law_public_health_insurance
							}
						}
					}
					add = 4
				}
				modifier = {
					if = {
						limit = {
							has_technology_researched = pharmaceuticals
						}
					}
					add = 4
				}
				set_global_variable = elgar_donizetti_dies_1869_var
				trigger_event = {
					id = elgar.1055
					years = 3
				} 
			}
		}
	}
}

#Elgar 1055: Donizetti cured

elgar.1055 = {
	type = country_event

    title = elgar.1055.t
		
    desc = elgar.1055.d

	flavor = elgar.1055.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_donizetti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_global_variable = elgar_donizetti_dies_1869_var
	}

	immediate = {
	}

	option = { #A medical miracle.
		name = elgar.1055.g
		remove_modifier = elgar_donizetti_suspended_modifier
	}
}

#Elgar 1061: Adelia

#elgar.1061 = {
#	type = country_event
#
#	title = elgar.1061.t
#		
#	desc = elgar.1061.d
#
#	flavor = elgar.1061.f
#
#	duration = 1
#		
#	event_image = { 
#		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
#	}
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
#
#	icon = "gfx/interface/icons/event_icons/event_music.dds"
#
#	trigger = {
#		has_modifier = elgar_donizetti_contract_modifier
#		NOT = {
#			has_modifier = elgar_donizetti_suspended_modifier
#		}
#		NOT = {
#			has_global_variable = elgar_adelia_var
#		}
#	}
#
#	immediate = {
#		set_global_variable = elgar_adelia_var
#	}
#
#	option = { #Bravissimo
#		name = elgar.1061.g
#		elgar_add_100_music_tradition = yes
#	}
#}

#Elgar 1062: Don Pasquale

elgar.1062 = {
	type = country_event

    title = elgar.1062.t
		
    desc = elgar.1061.d

	flavor = elgar.1062.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_donizetti_contract_modifier
		NOT = {
			has_modifier = elgar_donizetti_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_pasquale_var
		}
	}

	immediate = {
		set_global_variable = elgar_pasquale_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1063: Dom Sébastien

elgar.1063 = {
	type = country_event

    title = elgar.1063.t
		
    desc = elgar.1061.d

	flavor = elgar.1063.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_donizetti_contract_modifier
		NOT = {
			has_modifier = elgar_donizetti_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_sebastien_var
		}
	}

	immediate = {
		set_global_variable = elgar_sebastien_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}


######Berlioz######

#Elgar 1101: Grande symphonie funèbre et triomphale, 1840 [France may get Berlioz. AI won't be able to do this yet.]

elgar.1101 = {
	type = country_event

    title = elgar.1101.t
		
    desc = elgar.1101.d

	flavor = elgar.1101.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1840.1.1
		NOT = {
			game_date >= 1841.1.1
		}
		ROOT = c:FRA
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_berlioz_performance_modifier
				years = 2
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_berlioz_minimum = yes
		}
		custom_tooltip = elgar_berlioz_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_berlioz_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_berlioz_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_berlioz_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1121
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1111: Berlioz arrives

elgar.1111 = {
	type = country_event

    title = elgar.1111.t
		
    desc = elgar.1011.d

	flavor = elgar.1111.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_berlioz_dead_var
		}
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_berlioz_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1112
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_berlioz_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1112
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_berlioz_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1112
					days = 60
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_berlioz_minimum = yes
		}
		custom_tooltip = elgar_berlioz_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_berlioz_ng_tour_var
		remove_global_variable = elgar_berlioz_sg_tour_var
		remove_global_variable = elgar_berlioz_gb_tour_var
		remove_global_variable = elgar_berlioz_rs_tour_var
		remove_global_variable = elgar_berlioz_sp_tour_var
		add_modifier = {
			name = elgar_berlioz_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_berlioz_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_berlioz_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1121
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1112: Berlioz departs

elgar.1112 = {
	type = country_event

    title = elgar.1112.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_berlioz_dead_var
		}
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_berlioz_performance_modifier
			}
			remove_modifier = elgar_berlioz_performance_modifier
			add_modifier = {
				name = elgar_berlioz_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_berlioz_ng_tour_var
			}
			elgar_berlioz_tournee_north_germany = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_berlioz_sg_tour_var
			}
			elgar_berlioz_tournee_south_germany = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_berlioz_gb_tour_var
			}
			elgar_berlioz_tournee_britain = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_berlioz_rs_tour_var
			}
			elgar_berlioz_tournee_russia = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_berlioz_sp_tour_var
			}
			elgar_berlioz_tournee_spain = yes
		}
		if = {
			limit = {
				any_country = {
					has_modifier = elgar_berlioz_contract_modifier
				}
			}
			random_country = {
				limit = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				trigger_event = {
					id = elgar.1171
					days = { 5 10 }
				}
			}
		}
	}
}

#Elgar 1121: Berlioz' contract ends

elgar.1121 = {
	type = country_event

    title = elgar.1121.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_berlioz_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_berlioz_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_berlioz_was_here_modifier
				years = 5
			}
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_donizetti_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_berlioz_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_berlioz_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1122
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1122: Berlioz' contract finally ends

elgar.1122 = {
	type = country_event

    title = elgar.1122.t
		
    desc = elgar.1022.d

	flavor = elgar.1022.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_berlioz_dead_var
		}
	}

	immediate = {
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_berlioz_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_berlioz_was_here_modifier
				years = 5
			}
		}
	}
}

#Elgar 1131: Berlioz dies, 1869

elgar.1131 = {
	type = country_event

    title = elgar.1131.t
		
    desc = elgar.1031.d

	flavor = elgar.1131.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1869.1.1
		NOT = {
			game_date >= 1870.1.1
		}
		NOT = {
			has_global_variable = elgar_berlioz_dead_var
		}
		any_state = {
			has_modifier = elgar_berlioz_performance_modifier
		}
	}

	immediate = {
		remove_global_variable = elgar_berlioz_ng_tour_var
		remove_global_variable = elgar_berlioz_sg_tour_var
		remove_global_variable = elgar_berlioz_gb_tour_var
		remove_global_variable = elgar_berlioz_rs_tour_var
		remove_global_variable = elgar_berlioz_sp_tour_var
		set_global_variable = elgar_berlioz_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_berlioz_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_berlioz_performance_modifier
			}
			remove_modifier = elgar_berlioz_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_berlioz_was_here_modifier
			}
			remove_modifier = elgar_berlioz_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_berlioz_great_composer_modifier
			}
			remove_modifier = elgar_berlioz_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			remove_modifier = elgar_berlioz_contract_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = romanticism
			}
			post_notification = elgar_berlioz_dead_notification
		}
	}
}

#Elgar 1141: Northern Germany Tour, 1842

elgar.1141 = {
	type = country_event

    title = elgar.1141.t
		
    desc = elgar.1141.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1842.1.1
		NOT = {
			game_date >= 1843.1.1
		}
		ROOT = c:FRA
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_berlioz_tournee_north_germany = yes
			set_global_variable = {
				name = elgar_berlioz_ng_tour_var
				years = 2
			}
		}
		if = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_berlioz_suspended_modifier
				years = 2
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_berlioz_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1142: Southern Germany Tour, 1847

elgar.1142 = {
	type = country_event

    title = elgar.1141.t
		
    desc = elgar.1142.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1847.1.1
		NOT = {
			game_date >= 1848.1.1
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				has_modifier = elgar_berlioz_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_berlioz_contract_modifier
					}
				}
				ROOT = c:FRA
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_berlioz_ng_tour_var
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_berlioz_tournee_south_germany = yes
			set_global_variable = {
				name = elgar_berlioz_sg_tour_var
				years = 2
			}
		}
		if = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_berlioz_suspended_modifier
				years = 2
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_berlioz_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1143: Britain Tour, 1853

elgar.1143 = {
	type = country_event

    title = elgar.1141.t
		
    desc = elgar.1143.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1853.1.1
		NOT = {
			game_date >= 1854.1.1
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				has_modifier = elgar_berlioz_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_berlioz_contract_modifier
					}
				}
				ROOT = c:FRA
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_berlioz_sg_tour_var
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_berlioz_tournee_britain = yes
			set_global_variable = {
				name = elgar_berlioz_gb_tour_var
				years = 1
			}
		}
		if = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_berlioz_suspended_modifier
				years = 1
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_berlioz_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1144: Russia Tour, 1858

elgar.1144 = {
	type = country_event

    title = elgar.1141.t
		
    desc = elgar.1144.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1858.1.1
		NOT = {
			game_date >= 1859.1.1
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				has_modifier = elgar_berlioz_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_berlioz_contract_modifier
					}
				}
				ROOT = c:FRA
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_berlioz_gb_tour_var
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_berlioz_tournee_russia = yes
			set_global_variable = {
				name = elgar_berlioz_rs_tour_var
				years = 1
			}
		}
		if = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_berlioz_suspended_modifier
				years = 1
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_berlioz_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1145: Last Tour, 1863

elgar.1145 = {
	type = country_event

    title = elgar.1145.t
		
    desc = elgar.1145.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1863.1.1
		NOT = {
			game_date >= 1864.1.1
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_berlioz_contract_modifier
				}
				has_modifier = elgar_berlioz_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_berlioz_contract_modifier
					}
				}
				ROOT = c:FRA
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_berlioz_rs_tour_var
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			random_list = {
				1 = { 
					elgar_berlioz_tournee_north_germany = yes 
					set_global_variable = {
						name = elgar_berlioz_ng_tour_var
						years = 2
					}
				}
				1 = { 
					elgar_berlioz_tournee_south_germany = yes
					set_global_variable = {
						name = elgar_berlioz_sg_tour_var
						years = 2
					}
				}
				1 = { 
					elgar_berlioz_tournee_britain = yes 
					set_global_variable = {
						name = elgar_berlioz_gb_tour_var
						years = 2
					}
				}
				1 = { 
					elgar_berlioz_tournee_russia = yes 
					set_global_variable = {
						name = elgar_berlioz_rs_tour_var
						years = 2
					}
				}
				1 = { 
					elgar_berlioz_tournee_spain = yes 
					set_global_variable = {
						name = elgar_berlioz_sp_tour_var
						years = 2
					}
				}
			}
		}
		if = {
			limit = {
				has_modifier = elgar_berlioz_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_berlioz_suspended_modifier
				years = 2
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_berlioz_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1151: Berlioz back in Paris, 1850 [AI won't do this at the moment]

elgar.1151 = {
	type = country_event

    title = elgar.1151.t
		
    desc = elgar.1151.d

	flavor = elgar.1151.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1850.1.1
		NOT = {
			game_date >= 1851.1.1
		}
		ROOT = c:FRA
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_berlioz_performance_modifier
					days = 180
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_berlioz_performance_modifier
					years = 1
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_berlioz_performance_modifier
					years = 2
				}
			}
		}

		ai_chance = {
			base = 25
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_berlioz_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_berlioz_stays_tt 
		elgar_add_1_composer = yes
		remove_global_variable = elgar_berlioz_ng_tour_var
		remove_global_variable = elgar_berlioz_sg_tour_var
		remove_global_variable = elgar_berlioz_gb_tour_var
		remove_global_variable = elgar_berlioz_rs_tour_var
		remove_global_variable = elgar_berlioz_sp_tour_var
		add_modifier = {
			name = elgar_berlioz_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_berlioz_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_berlioz_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1121
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1161: Les Troyens

elgar.1161 = {
	type = country_event

    title = elgar.1161.t
		
    desc = elgar.1061.d

	flavor = elgar.1161.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_berlioz_contract_modifier
		NOT = {
			has_modifier = elgar_berlioz_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_troyens_var
		}
	}

	immediate = {
		set_global_variable = elgar_troyens_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1162: La damnation de Faust

elgar.1162 = {
	type = country_event

    title = elgar.1162.t
		
    desc = elgar.1061.d

	flavor = elgar.1162.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_berlioz_contract_modifier
		NOT = {
			has_modifier = elgar_berlioz_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_damnation_var
		}
	}

	immediate = {
		set_global_variable = elgar_damnation_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1163: Traite Instrumental

elgar.1163 = {
	type = country_event

    title = elgar.1163.t
		
    desc = elgar.1061.d

	flavor = elgar.1163.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_berlioz_contract_modifier
		NOT = {
			has_modifier = elgar_berlioz_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_traite_var
		}
	}

	immediate = {
		set_global_variable = elgar_traite_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1171: Berlioz brings Prestige to $COUNTRY$

elgar.1171 = {
	type = country_event

    title = elgar.1171.t
		
    desc = elgar.1071.d

	flavor = elgar.1071.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_berlioz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_berlioz_dead_var
		}
	}

	immediate = {
	}

	option = { #His tour seems to be a success.
		name = elgar.1071.g
		elgar_add_5_music_tradition = yes
	}
}


######Liszt######

#Elgar 1201: Thalberg vs. Liszt, 1837

elgar.1201 = {
	type = country_event

    title = elgar.1201.t
		
    desc = elgar.1201.d

	flavor = elgar.1201.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1837.1.1
		NOT = {
			game_date >= 1838.1.1
		}
		ROOT = c:FRA
	}

	immediate = {
		set_global_variable = elgar_liszt_active
	}

	option = { #Thalberg was better
		name = elgar.1201.g
		default_option = yes
		elgar_add_10_music_tradition = yes
	}

	option = { #Liszt was better
		name = elgar.1201.h
		add_modifier = {
			name = elgar_good_taste_modifier
			years = 2
		}
	}
}

#Elgar 1211: Liszt arrives

elgar.1211 = {
	type = country_event

    title = elgar.1211.t
		
    desc = elgar.1011.d

	flavor = elgar.1211.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_liszt_dead_var
		}
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_liszt_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1212
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_liszt_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1212
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_liszt_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1212
					days = 60
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_berlioz_minimum = yes
		}
		custom_tooltip = elgar_liszt_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
		remove_global_variable = elgar_liszt_sp_tour_var
		remove_global_variable = elgar_liszt_we_tour_var
		remove_global_variable = elgar_liszt_ee_tour_var
		remove_global_variable = elgar_liszt_gt_tour_var
		add_modifier = {
			name = elgar_liszt_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_liszt_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1221
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1212: Liszt departs

elgar.1212 = {
	type = country_event

    title = elgar.1212.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_liszt_dead_var
		}
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_liszt_performance_modifier
			}
			remove_modifier = elgar_liszt_performance_modifier
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_liszt_it_tour_var
			}
			elgar_liszt_tournee_italy = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_liszt_ge_tour_var
			}
			elgar_liszt_tournee_germany = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_liszt_sp_tour_var
			}
			elgar_liszt_tournee_western_europe = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_liszt_we_tour_var
			}
			elgar_liszt_tournee_eastern_europe = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_liszt_ee_tour_var
			}
			elgar_liszt_tournee_spain = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_liszt_gt_tour_var
			}
			elgar_liszt_tournee_grand_tour = yes
		}
	}
}

#Elgar 1221: Liszt's contract ends

elgar.1221 = {
	type = country_event

    title = elgar.1221.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_liszt_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_liszt_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_grand_tour = yes
			set_global_variable = {
				name = elgar_liszt_gt_tour_var
				years = 5
			}
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_liszt_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_liszt_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1222
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}
	}
}

#Elgar 1222: Liszt's contract finally ends

elgar.1222 = {
	type = country_event

    title = elgar.1222.t
		
    desc = elgar.1022.d

	flavor = elgar.1022.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_liszt_dead_var
		}
	}

	immediate = {
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_liszt_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_grand_tour = yes
			set_global_variable = {
				name = elgar_liszt_gt_tour_var
				years = 5
			}
		}
	}
}

#Elgar 1231: Liszt dies, 1886

elgar.1231 = {
	type = country_event

    title = elgar.1231.t
		
    desc = elgar.1031.d

	flavor = elgar.1231.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1886.1.1
		NOT = {
			game_date >= 1887.1.1
		}
		NOT = {
			has_global_variable = elgar_liszt_dead_var
		}
		any_state = {
			has_modifier = elgar_liszt_performance_modifier
		}
	}

	immediate = {
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
		remove_global_variable = elgar_liszt_sp_tour_var
		remove_global_variable = elgar_liszt_we_tour_var
		remove_global_variable = elgar_liszt_ee_tour_var
		remove_global_variable = elgar_liszt_gt_tour_var
		set_global_variable = elgar_liszt_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_liszt_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_liszt_performance_modifier
			}
			remove_modifier = elgar_liszt_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_liszt_was_here_modifier
			}
			remove_modifier = elgar_liszt_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_liszt_great_composer_modifier
			}
			remove_modifier = elgar_liszt_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_liszt_contract_modifier
			}
			remove_modifier = elgar_liszt_contract_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = elgar_irrationalism_tech
			}
			post_notification = elgar_liszt_dead_notification
		}
	}
}

#Elgar 1241: Italy Tour, 1839

elgar.1241 = {
	type = country_event

    title = elgar.1241.t
		
    desc = elgar.1241.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1839.1.1
		NOT = {
			game_date >= 1840.1.1
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
		}
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #We wish him all the best
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_italy = yes
			set_global_variable = {
				name = elgar_liszt_it_tour_var
				years = 1
			}
		}
	}
}

#Elgar 1242: Germany Tour, 1841

elgar.1242 = {
	type = country_event

    title = elgar.1241.t
		
    desc = elgar.1242.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1841.1.1
		NOT = {
			game_date >= 1842.1.1
		}
		any_scope_state = {
			state_region = s:STATE_TUSCANY
		}
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_liszt_it_tour_var
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_germany = yes
			set_global_variable = {
				name = elgar_liszt_ge_tour_var
				years = 3
			}
		}
	}
}

#Elgar 1243: Spain Tour, 1844

elgar.1243 = {
	type = country_event

    title = elgar.1241.t
		
    desc = elgar.1243.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1844.1.1
		NOT = {
			game_date >= 1845.1.1
		}
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_spain = yes
			set_global_variable = {
				name = elgar_liszt_sp_tour_var
				days = 180
			}
		}
	}
}

#Elgar 1244: Western Europe Tour, 1845

elgar.1244 = {
	type = country_event

    title = elgar.1241.t
		
    desc = elgar.1244.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1845.1.1
		NOT = {
			game_date >= 1846.1.1
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
		}
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
		remove_global_variable = elgar_liszt_sp_tour_var
	}

	option = { #Good luck!
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_western_europe = yes
			set_global_variable = {
				name = elgar_liszt_we_tour_var
				days = 180
			}
		}
	}
}

#Elgar 1245: Eastern Europe Tour, 1847

elgar.1245 = {
	type = country_event

    title = elgar.1241.t
		
    desc = elgar.1245.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1847.1.1
		NOT = {
			game_date >= 1848.1.1
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
		}
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
		remove_global_variable = elgar_liszt_sp_tour_var
		remove_global_variable = elgar_liszt_we_tour_var
		
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_eastern_europe = yes
			set_global_variable = {
				name = elgar_liszt_ee_tour_var
				days = 180
			}
		}
	}
}

#Elgar 1246: Germany Tour, 1849

elgar.1246 = {
	type = country_event

    title = elgar.1241.t
		
    desc = elgar.1242.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1849.1.1
		NOT = {
			game_date >= 1850.1.1
		}
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
		remove_global_variable = elgar_liszt_sp_tour_var
		remove_global_variable = elgar_liszt_we_tour_var
		remove_global_variable = elgar_liszt_ee_tour_var
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_liszt_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_liszt_tournee_germany = yes
			set_global_variable = {
				name = elgar_liszt_ge_tour_var
				years = 2
			}
		}
	}
}

#Elgar 1251: Liszt in Weimar, 1852

elgar.1251 = {
	type = country_event

    title = elgar.1251.t
		
    desc = elgar.1251.d

	flavor = elgar.1251.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			any_country = {
				has_modifier = elgar_liszt_contract_modifier
			}
		}
		game_date >= 1852.1.1
		NOT = {
			game_date >= 1853.1.1
		}
		exists = c:WEI
		ROOT = c:WEI
	}

	immediate = {
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.g
		custom_tooltip = elgar_liszt_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_liszt_it_tour_var
		remove_global_variable = elgar_liszt_ge_tour_var
		remove_global_variable = elgar_liszt_sp_tour_var
		remove_global_variable = elgar_liszt_we_tour_var
		remove_global_variable = elgar_liszt_ee_tour_var
		remove_global_variable = elgar_liszt_gt_tour_var
		add_modifier = {
			name = elgar_liszt_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_liszt_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_liszt_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1221
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Elgar 1252: Von der Wiege zum Grabe, 1882

elgar.1252 = {
	type = country_event

    title = elgar.1252.t
		
    desc = elgar.1252.d

	flavor = elgar.1252.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_liszt.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1882.1.1
		NOT = {
			game_date >= 1883.1.1
		}
		any_scope_state = {
			state_region = s:STATE_LAZIO
		}
	}

	immediate = {
	}

	option = { #Later generations will understand.
		name = elgar.1252.g
		default_option = yes
		random_list = {
			15 = { elgar_add_100_music_tradition = yes }
			50 = { elgar_add_50_music_tradition = yes }
			35 = { }
		}
	}
}

#Elgar 1261: Les Preludes

elgar.1261 = {
	type = country_event

    title = elgar.1261.t
		
    desc = elgar.1061.d

	flavor = elgar.1261.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_liszt_contract_modifier
		NOT = {
			has_global_variable = elgar_preludes_var
		}
	}

	immediate = {
		set_global_variable = elgar_preludes_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1262: Hungarian Rhapsodies

elgar.1262 = {
	type = country_event

    title = elgar.1262.t
		
    desc = elgar.1061.d

	flavor = elgar.1262.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_liszt_contract_modifier
		NOT = {
			has_global_variable = elgar_hungarian_rhapsody_var
		}
	}

	immediate = {
		set_global_variable = elgar_hungarian_rhapsody_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1263: Dante Symphony

elgar.1263 = {
	type = country_event

    title = elgar.1263.t
		
    desc = elgar.1061.d

	flavor = elgar.1263.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_liszt_contract_modifier
		NOT = {
			has_global_variable = elgar_dante_var
		}
	}

	immediate = {
		set_global_variable = elgar_dante_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}


######Wagner######

#Elgar 1301: Rienzi, Dresden 1842

elgar.1301 = {
	type = country_event

    title = elgar.1301.t
		
    desc = elgar.1301.d

	flavor = elgar.1301.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1842.1.1
		NOT = {
			game_date >= 1843.1.1
		}
		ROOT = c:SAX
	}

	immediate = {
		set_global_variable = elgar_wagner_active
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1021.h
		trigger = {
			elgar_wagner_minimum = yes
		}
		custom_tooltip = elgar_wagner_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_wagner_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_wagner_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1321
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1311: Wagner arrives

elgar.1311 = {
	type = country_event

    title = elgar.1311.t
		
    desc = elgar.1011.d

	flavor = elgar.1311.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_wagner_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1312
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_wagner_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1312
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_wagner_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1312
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_wagner_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1312
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_wagner_minimum = yes
		}
		custom_tooltip = elgar_wagner_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_wagner_tour_var
		add_modifier = {
			name = elgar_wagner_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_wagner_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1321
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1312: Wagner departs

elgar.1312 = {
	type = country_event

    title = elgar.1312.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_wagner_performance_modifier
			}
			remove_modifier = elgar_wagner_performance_modifier
			add_modifier = {
				name = elgar_wagner_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		elgar_wagner_tournee = yes
	}
}

#Elgar 1321: Wagner's contract ends

elgar.1321 = {
	type = country_event

    title = elgar.1321.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_wagner_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_wagner_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_wagner_was_here_modifier
				years = 5
			}
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_wagner_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_wagner_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1322
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}
	}
}

#Elgar 1322: Wagner's contract finally ends

elgar.1322 = {
	type = country_event

    title = elgar.1322.t
		
    desc = elgar.1022.d

	flavor = elgar.1022.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_wagner_dead_var
		}
	}

	immediate = {
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_wagner_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_wagner_was_here_modifier
				years = 5
			}
		}
	}
}

#Elgar 1331: Wagner dies, 1883

elgar.1331 = {
	type = country_event

    title = elgar.1331.t
		
    desc = elgar.1031.d

	flavor = elgar.1331.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1883.1.1
		NOT = {
			game_date >= 1884.1.1
		}
		NOT = {
			has_global_variable = elgar_wagner_dead_var
		}
		any_state = {
			has_modifier = elgar_wagner_bayreuth_modifier
		}
	}

	immediate = {
		remove_global_variable = elgar_wagner_tour_var
		set_global_variable = elgar_wagner_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_wagner_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_wagner_performance_modifier
			}
			remove_modifier = elgar_wagner_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_wagner_was_here_modifier
			}
			remove_modifier = elgar_wagner_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_wagner_great_composer_modifier
			}
			remove_modifier = elgar_wagner_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_wagner_contract_modifier
			}
			remove_modifier = elgar_wagner_contract_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = elgar_irrationalism_tech
			}
			post_notification = elgar_wagner_dead_notification
		}
	}
}

#Elgar 1341: Europe Tournee, 1860

elgar.1341 = {
	type = country_event

    title = elgar.1341.t
		
    desc = elgar.1341.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1860.1.1
		NOT = {
			game_date >= 1861.1.1
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
		}
		NOT = {
			any_country = {
				has_modifier = elgar_wagner_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_wagner_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_wagner_tournee = yes
			set_global_variable = {
				name = elgar_wagner_tour_var
				years = 5
			}
		}
	}
}

#Elgar 1351: Lohengrin, Weimar 1850

elgar.1351 = {
	type = country_event

    title = elgar.1351.t
		
    desc = elgar.1351.d

	flavor = elgar.1351.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1850.1.1
		NOT = {
			game_date >= 1851.1.1
		}
		ROOT = c:WEI
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_wagner_minimum = yes
		}
		custom_tooltip = elgar_wagner_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_wagner_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_wagner_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1321
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1352: Kunstwerk der Zukunft, Zürich ab 1849

elgar.1352 = {
	type = country_event

    title = elgar.1352.t
		
    desc = elgar.1352.d

	flavor = elgar.1352.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1849.1.1
		NOT = {
			game_date >= 1859.1.1
		}
		ROOT = c:SWI
		has_technology_researched = elgar_irrationalism_tech
		NOT = {
			has_variable = elgar_kunstwerk_der_zukunft_var
		}
	}

	immediate = {
	}

	option = { #Who is supposed to understand these hard-to-read boxed sentences?
		name = elgar.1352.g
		default_option = yes
		elgar_add_50_music_tradition = yes
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_wagner_minimum = yes
		}
		custom_tooltip = elgar_wagner_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_wagner_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_wagner_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1321
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 0
		}
	}

	after = {
		set_variable = elgar_kunstwerk_der_zukunft_var
	}
}

#Elgar 1353: Tristan, Bavaria 1865

elgar.1353 = {
	type = country_event

    title = elgar.1353.t
		
    desc = elgar.1353.d

	flavor = elgar.1353.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1865.1.1
		NOT = {
			game_date >= 1866.1.1
		}
		any_scope_state = {
			state_region = s:STATE_BAVARIA
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_wagner_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_wagner_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_wagner_tour_var
		add_modifier = {
			name = elgar_wagner_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_wagner_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_wagner_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1321
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 75
		}
	}
}

#Elgar 1354: Bayreuth 1876 (historical)

elgar.1354 = {
	type = country_event

    title = elgar.1354.t
		
    desc = elgar.1354.d

	flavor = elgar.1354.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1875.1.1
		NOT = {
			game_date >= 1883.1.1
		}
		NOT = {
			any_state = {
				has_modifier = elgar_wagner_bayreuth_modifier
			}
		}
		any_scope_state = {
			state_region = s:STATE_FRANCONIA
		}
		OR = {
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:united_german
			country_has_primary_culture = cu:alemannic
		}
		has_technology_researched = elgar_irrationalism_tech
		var:elgar_music_tradition >= 400
	}

	immediate = {
	}

	option = { #A PEAK OF GERMAN CULTURE
		name = elgar.1354.g
		random_scope_state = {
			limit = {
				state_region = s:STATE_FRANCONIA
			}
			add_modifier = {
				name = elgar_wagner_bayreuth_modifier
			}
		}
	}
}

#Elgar 1355: Bayreuth (founded)

elgar.1355 = {
	type = country_event

    title = elgar.1354.t
		
    desc = elgar.1354.d

	flavor = elgar.1354.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #A PEAK OF GERMAN CULTURE
		name = elgar.1354.g
		if = {
			limit = {
				any_scope_state = {
					state_region = s:STATE_FRANCONIA
				}
			}
			random_scope_state = {
				limit = {
					state_region = s:STATE_FRANCONIA
				}
				add_modifier = {
					name = elgar_wagner_bayreuth_modifier
				}
			}
		}
		if = {
			limit = {
				NOT = {
					any_scope_state = {
						state_region = s:STATE_FRANCONIA
					}
				}
			}
			random_scope_state = {
				limit = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
				add_modifier = {
					name = elgar_wagner_bayreuth_modifier
				}
			}
		}
		elgar_add_200_music_tradition = yes
	}
}

#Elgar 1356: Richard Wagner, a politician?

elgar.1356 = {
	type = country_event

	title = elgar.1356.t
	desc = elgar.1356.d
	flavor = elgar.1356.f

	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	duration = 3

	trigger = {
		has_modifier = elgar_wagner_contract_modifier
		NOT = {
			has_variable = elgar_wagner_politician_var
		}
	}

	immediate = {
		set_variable = elgar_wagner_politician_var
	}

	option = { #He should enter politics
		name = elgar.1356.g
		create_character = {
			first_name = elgar_richard
	  		last_name = elgar_wagner
	   		culture = cu:north_german
    		female = no
    		religion = rel:protestant
    		ideology = ideology_ethno_nationalist
			ig_leader = yes
    		interest_group = ig_intelligentsia
			dna = ecchi_dna_richard_wagner
    		birth_date = 1813.5.22
    		traits = { 
				firebrand
				elgar_composer
				bigoted
				ambitious
				wrathful
				expensive_tastes
			}
		}
		every_state = {
			limit = {
				has_modifier = elgar_wagner_performance_modifier
			}
			remove_modifier = elgar_wagner_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_wagner_was_here_modifier
			}
			remove_modifier = elgar_wagner_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_wagner_great_composer_modifier
			}
			remove_modifier = elgar_wagner_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_wagner_contract_modifier
			}
			remove_modifier = elgar_wagner_contract_modifier
		}
	}

	option = { #He should compose, not debate!
		name = elgar.1356.h
		default_option = yes
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 1357: Tannhauser scandal

elgar.1357 = {
	type = country_event

    title = elgar.1357.t
		
    desc = elgar.1357.d

	flavor = elgar.1357.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_wagner.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_tannhauser_scandal_var
		}
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
			has_modifier = elgar_wagner_performance_modifier
		}
	}

	immediate = {
		set_global_variable = elgar_tannhauser_scandal_var

		random_scope_character = {
			limit = { 
				is_ruler = yes 
			}
			save_scope_as = king
		}
		ig:ig_armed_forces = {
			save_scope_as = army_ig
		}
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should never show up in Paris again!
		name = elgar.1357.g
		default_option = yes
		elgar_sub_100_music_tradition = yes
		add_modifier = {
			name = elgar_music_repression_modifier
			years = 5
		}
		every_country = {
			limit = {
				has_modifier = elgar_konservative_musikschule_modifier
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}
	}

	option = { #We have to appease Herrn Wagner.
		name = elgar.1357.h
		scope:king = {
			add_modifier = {
				name = elgar_embarrassed_in_public_modifier
				years = 10
			}
		}
		scope:army_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 10
			}
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 10
			}
		}
		every_country = {
			limit = {
				has_modifier = elgar_neudeutsche_musikschule_modifier
			}
			change_relations = {
				country = ROOT 
				value = 5
			}
		}

		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1361: Die Meistersinger von Nürnberg

elgar.1361 = {
	type = country_event

    title = elgar.1361.t
		
    desc = elgar.1061.d

	flavor = elgar.1361.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_wagner_contract_modifier
		NOT = {
			has_global_variable = elgar_meistersinger_var
		}
	}

	immediate = {
		set_global_variable = elgar_meistersinger_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1362: Die Walküre

elgar.1362 = {
	type = country_event

    title = elgar.1362.t
		
    desc = elgar.1061.d

	flavor = elgar.1362.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_wagner_contract_modifier
		NOT = {
			has_global_variable = elgar_walkuere_var
		}
	}

	immediate = {
		set_global_variable = elgar_walkuere_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1363: Parsifal

elgar.1363 = {
	type = country_event

    title = elgar.1363.t
		
    desc = elgar.1061.d

	flavor = elgar.1363.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_wagner_contract_modifier
		NOT = {
			has_global_variable = elgar_parsifal_var
		}
	}

	immediate = {
		set_global_variable = elgar_parsifal_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}


######Grieg######

#Elgar 1401: A debut in Karlshamn, 1861

elgar.1401 = {
	type = country_event

    title = elgar.1401.t
		
    desc = elgar.1401.d

	flavor = elgar.1401.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1861.1.1
		NOT = {
			game_date >= 1862.1.1
		}
		any_scope_state = {
			state_region = s:STATE_SCANIA
		}
	}

	immediate = {
		set_global_variable = elgar_grieg_active
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 1411: Grieg arrives

elgar.1411 = {
	type = country_event

    title = elgar.1411.t
		
    desc = elgar.1011.d

	flavor = elgar.1411.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_grieg_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1412
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_grieg_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1412
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_grieg_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1412
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_grieg_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1412
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_grieg_minimum = yes
		}
		custom_tooltip = elgar_grieg_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_grieg_sc_tour_var
		remove_global_variable = elgar_grieg_ne_tour_var
		remove_global_variable = elgar_grieg_we_tour_var
		add_modifier = {
			name = elgar_grieg_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_grieg_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1421
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1412: Grieg departs

elgar.1412 = {
	type = country_event

    title = elgar.1412.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_grieg_performance_modifier
			}
			remove_modifier = elgar_grieg_performance_modifier
			add_modifier = {
				name = elgar_grieg_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_grieg_sc_tour_var
			}
			elgar_grieg_tournee_scandinavia = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_grieg_ne_tour_var
			}
			elgar_grieg_tournee_northern_europe = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_grieg_we_tour_var
			}
			elgar_grieg_tournee_western_europe = yes
		}
		if = {
			limit = {
				any_country = {
					has_modifier = elgar_grieg_contract_modifier
				}
			}
			random_country = {
				limit = {
					has_modifier = elgar_grieg_contract_modifier
				}
				trigger_event = {
					id = elgar.1471
					days = { 5 10 }
				}
			}
		}
	}
}

#Elgar 1421: Grieg's contract ends

elgar.1421 = {
	type = country_event

    title = elgar.1421.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_grieg_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_grieg_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_grieg_was_here_modifier
				years = 5
			}
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_grieg_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_grieg_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1422
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}
	}
}

#Elgar 1422: Grieg's contract finally ends

elgar.1422 = {
	type = country_event

    title = elgar.1422.t
		
    desc = elgar.1022.d

	flavor = elgar.1022.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_grieg_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_grieg_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_grieg_was_here_modifier
				years = 5
			}
		}
	}
}

#Elgar 1431: Grieg dies, 1907

elgar.1431 = {
	type = country_event

    title = elgar.1431.t
		
    desc = elgar.1031.d

	flavor = elgar.1431.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1907.1.1
		NOT = {
			game_date >= 1908.1.1
		}
		NOT = {
			has_global_variable = elgar_grieg_dead_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_grieg_contract_modifier
				}
				has_modifier = elgar_grieg_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_grieg_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_EASTERN_NORWAY
				}
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_grieg_sc_tour_var
		remove_global_variable = elgar_grieg_ne_tour_var
		remove_global_variable = elgar_grieg_we_tour_var
		set_global_variable = elgar_grieg_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_grieg_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_grieg_performance_modifier
			}
			remove_modifier = elgar_grieg_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_grieg_was_here_modifier
			}
			remove_modifier = elgar_grieg_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_grieg_great_composer_modifier
			}
			remove_modifier = elgar_grieg_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_grieg_contract_modifier
			}
			remove_modifier = elgar_grieg_contract_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = elgar_irrationalism_tech
				has_technology_researched = realism
			}
			post_notification = elgar_grieg_dead_notification
		}
	}
}

#Elgar 1441: Grieg first Tour, 1865

elgar.1441 = {
	type = country_event

    title = elgar.1441.t
		
    desc = elgar.1441.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1865.1.1
		NOT = {
			game_date >= 1866.1.1
		}
		any_scope_state = {
			state_region = s:STATE_EASTERN_NORWAY
		}
		NOT = {
			any_country = {
				has_modifier = elgar_grieg_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_grieg_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_grieg_tournee_scandinavia = yes
			set_global_variable = {
				name = elgar_grieg_sc_tour_var
				years = 1
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_grieg_minimum = yes
		}
		custom_tooltip = elgar_grieg_stays_tt
		remove_global_variable = elgar_grieg_sc_tour_var
		remove_global_variable = elgar_grieg_ne_tour_var
		remove_global_variable = elgar_grieg_we_tour_var
		add_modifier = {
			name = elgar_grieg_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1421
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1442: Grieg second Tour, 1875

elgar.1442 = {
	type = country_event

    title = elgar.1441.t
		
    desc = elgar.1442.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1875.1.1
		NOT = {
			game_date >= 1876.1.1
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_grieg_contract_modifier
				}
				has_modifier = elgar_grieg_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_grieg_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_EASTERN_NORWAY
				}
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_grieg_sc_tour_var
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_grieg_tournee_northern_europe = yes
			set_global_variable = {
				name = elgar_grieg_ne_tour_var
				years = 5
			}
		}
		if = {
			limit = {
				has_modifier = elgar_grieg_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_grieg_suspended_modifier
				years = 5
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_grieg_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1443: Grieg third Tour, 1885

elgar.1443 = {
	type = country_event

    title = elgar.1441.t
		
    desc = elgar.1443.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1885.1.1
		NOT = {
			game_date >= 1886.1.1
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_grieg_contract_modifier
				}
				has_modifier = elgar_grieg_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_grieg_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_EASTERN_NORWAY
				}
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_grieg_ne_tour_var
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_grieg_tournee_northern_europe = yes
			set_global_variable = {
				name = elgar_grieg_we_tour_var
				years = 5
			}
		}
		if = {
			limit = {
				has_modifier = elgar_grieg_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_grieg_suspended_modifier
				years = 5
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_grieg_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1451: Holberg Suite, 1884 (AI will get him)

elgar.1451 = {
	type = country_event

    title = elgar.1451.t
		
    desc = elgar.1451.d

	flavor = elgar.1451.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1884.1.1
		NOT = {
			game_date >= 1885.1.1
		}
		any_scope_state = {
			state_region = s:STATE_EASTERN_NORWAY
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_grieg_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_grieg_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_grieg_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_grieg_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1421
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

#Elgar 1452: Piano Concerto in A minor, 1869

elgar.1452 = {
	type = country_event

    title = elgar.1452.t
		
    desc = elgar.1452.d

	flavor = elgar.1452.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1869.1.1
		NOT = {
			game_date >= 1870.1.1
		}
		any_scope_state = {
			state_region = s:STATE_ZEALAND
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_grieg_minimum = yes
		}
		custom_tooltip = elgar_grieg_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_grieg_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_grieg_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_grieg_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1421
				popup = yes
				days = 3650
			}
		}
	}
}

#Elgar 1461: Peer Gynt

elgar.1461 = {
	type = country_event

    title = elgar.1461.t
		
    desc = elgar.1061.d

	flavor = elgar.1461.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_grieg_contract_modifier
		NOT = {
			has_modifier = elgar_grieg_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_peer_gynt_var
		}
	}

	immediate = {
		set_global_variable = elgar_peer_gynt_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1462: Lyric Pieces

elgar.1462 = {
	type = country_event

    title = elgar.1462.t
		
    desc = elgar.1061.d

	flavor = elgar.1462.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_grieg_contract_modifier
		NOT = {
			has_modifier = elgar_grieg_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_lyric_pieces_var
		}
	}

	immediate = {
		set_global_variable = elgar_lyric_pieces_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1463: Norwegian Dances

elgar.1463 = {
	type = country_event

    title = elgar.1463.t
		
    desc = elgar.1061.d

	flavor = elgar.1463.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_grieg_contract_modifier
		NOT = {
			has_modifier = elgar_grieg_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_norwegian_dances_var
		}
	}

	immediate = {
		set_global_variable = elgar_norwegian_dances_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1471: Grieg brings Prestige to $COUNTRY$

elgar.1471 = {
	type = country_event

    title = elgar.1471.t
		
    desc = elgar.1071.d

	flavor = elgar.1071.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_grieg.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_grieg_dead_var
		}
	}

	immediate = {
	}

	option = { #His tour seems to be a success.
		name = elgar.1071.g
		elgar_add_10_music_tradition = yes
	}
}


######Brahms######

#Elgar 1501: New Lanes, 1853

elgar.1501 = {
	type = country_event

    title = elgar.1501.t
		
    desc = elgar.1501.d

	flavor = elgar.1501.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1853.1.1
		NOT = {
			game_date >= 1854.1.1
		}
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
	}

	immediate = {
		set_global_variable = elgar_brahms_active
	}

	option = { #We expect great things from Mr. Brahms.
		name = elgar.1051.g
		default_option = yes
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 1511: Brahms arrives

elgar.1511 = {
	type = country_event

    title = elgar.1511.t
		
    desc = elgar.1011.d

	flavor = elgar.1511.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_brahms_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1512
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_brahms_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1512
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_brahms_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1512
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_brahms_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1512
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_brahms_minimum = yes
		}
		custom_tooltip = elgar_brahms_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_brahms_tour_var
		add_modifier = {
			name = elgar_brahms_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_brahms_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1521
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1512: Brahms departs

elgar.1512 = {
	type = country_event

    title = elgar.1512.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_brahms_performance_modifier
			}
			remove_modifier = elgar_brahms_performance_modifier
			add_modifier = {
				name = elgar_brahms_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_brahms_tour_var
			}
			elgar_brahms_tournee = yes
		}
		if = {
			limit = {
				any_country = {
					has_modifier = elgar_brahms_contract_modifier
				}
			}
			random_country = {
				limit = {
					has_modifier = elgar_brahms_contract_modifier
				}
				trigger_event = {
					id = elgar.1571
					days = { 5 10 }
				}
			}
		}
	}
}

#Elgar 1521: Brahms' contract ends

elgar.1521 = {
	type = country_event

    title = elgar.1521.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_brahms_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_brahms_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_brahms_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_brahms_tournee = yes
			set_global_variable = {
				name = elgar_brahms_tour_var
				years = 3
			}
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_brahms_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_brahms_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1522
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}
	}
}

#Elgar 1522: Brahms' contract finally ends

elgar.1522 = {
	type = country_event

    title = elgar.1522.t
		
    desc = elgar.1022.d

	flavor = elgar.1022.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_brahms_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_brahms_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_brahms_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_brahms_tournee = yes
			set_global_variable = {
				name = elgar_brahms_tour_var
				years = 3
			}
		}
	}
}

#Elgar 1531: Brahms dies, 1897

elgar.1531 = {
	type = country_event

    title = elgar.1531.t
		
    desc = elgar.1031.d

	flavor = elgar.1531.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1897.1.1
		NOT = {
			game_date >= 1898.1.1
		}
		NOT = {
			has_global_variable = elgar_brahms_dead_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_brahms_contract_modifier
				}
				has_modifier = elgar_brahms_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_brahms_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_AUSTRIA
				}
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_brahms_tour_var
		set_global_variable = elgar_brahms_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_brahms_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_brahms_performance_modifier
			}
			remove_modifier = elgar_brahms_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_brahms_was_here_modifier
			}
			remove_modifier = elgar_brahms_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_brahms_great_composer_modifier
			}
			remove_modifier = elgar_brahms_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_brahms_contract_modifier
			}
			remove_modifier = elgar_brahms_contract_modifier
		}
		every_country = {
			limit = {
				has_technology_researched = elgar_irrationalism_tech
				has_technology_researched = realism
			}
			post_notification = elgar_brahms_dead_notification
		}
	}
}

#Elgar 1541: Brahms first Tour, 1862

elgar.1541 = {
	type = country_event

    title = elgar.1541.t
		
    desc = elgar.1541.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1862.1.1
		NOT = {
			game_date >= 1863.1.1
		}
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
	}

	immediate = {
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_brahms_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_brahms_tournee = yes
			set_global_variable = {
				name = elgar_brahms_tour_var
				years = 3
			}
		}
	}
}

#Elgar 1542: Brahms second Tour, 1867

elgar.1542 = {
	type = country_event

    title = elgar.1541.t
		
    desc = elgar.1541.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1867.1.1
		NOT = {
			game_date >= 1868.1.1
		}
		NOT = {
			has_global_variable = elgar_brahms_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_brahms_contract_modifier
				}
				has_modifier = elgar_brahms_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_brahms_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_BADEN
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_brahms_tournee = yes
			set_global_variable = {
				name = elgar_brahms_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_brahms_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_brahms_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_brahms_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1543: Brahms third Tour, 1872

elgar.1543 = {
	type = country_event

    title = elgar.1541.t
		
    desc = elgar.1541.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1872.1.1
		NOT = {
			game_date >= 1873.1.1
		}
		NOT = {
			has_global_variable = elgar_brahms_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_brahms_contract_modifier
				}
				has_modifier = elgar_brahms_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_brahms_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_AUSTRIA
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_brahms_tournee = yes
			set_global_variable = {
				name = elgar_brahms_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_brahms_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_brahms_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_brahms_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1544: Brahms fourth Tour, 1883

elgar.1544 = {
	type = country_event

    title = elgar.1541.t
		
    desc = elgar.1541.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1883.1.1
		NOT = {
			game_date >= 1884.1.1
		}
		NOT = {
			has_global_variable = elgar_brahms_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_brahms_contract_modifier
				}
				has_modifier = elgar_brahms_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_brahms_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_WEST_SWITZERLAND
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		hidden_effect = {
			elgar_brahms_tournee = yes
			set_global_variable = {
				name = elgar_brahms_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_brahms_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_brahms_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_brahms_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1551: Variations on a theme by Haydn, 1873 (AI will get him)

elgar.1551 = {
	type = country_event

    title = elgar.1551.t
		
    desc = elgar.1551.d

	flavor = elgar.1551.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1873.1.1
		NOT = {
			game_date >= 1874.1.1
		}
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_brahms_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_brahms_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_brahms_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_brahms_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1521
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

#Elgar 1552: Symphony No. 1, 1876

elgar.1552 = {
	type = country_event

    title = elgar.1552.t
		
    desc = elgar.1552.d

	flavor = elgar.1552.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1876.1.1
		NOT = {
			game_date >= 1877.1.1
		}
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1051.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_brahms_minimum = yes
		}
		custom_tooltip = elgar_brahms_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_brahms_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_brahms_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_brahms_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1521
				popup = yes
				days = 3650
			}
		}
	}
}

#Elgar 1553: Gesang der Parzen, 1882

elgar.1553 = {
	type = country_event

    title = elgar.1553.t
		
    desc = elgar.1553.d

	flavor = elgar.1553.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1882.1.1
		NOT = {
			game_date >= 1883.1.1
		}
		OR = {
			any_scope_state = {
				state_region = s:STATE_WEST_SWITZERLAND
			}
			has_modifier = elgar_brahms_contract_modifier
		}
	}

	immediate = {
	}

	option = { #It's as wonderful as it is disturbing.
		name = elgar.1553.g
		elgar_add_50_music_tradition = yes
	}
}

#Elgar 1561: Deutsches Requiem

elgar.1561 = {
	type = country_event

    title = elgar.1561.t
		
    desc = elgar.1061.d

	flavor = elgar.1561.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_brahms_contract_modifier
		NOT = {
			has_modifier = elgar_brahms_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_deutsches_requiem_var
		}
	}

	immediate = {
		set_global_variable = elgar_deutsches_requiem_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1562: Hungarian Dances

elgar.1562 = {
	type = country_event

    title = elgar.1562.t
		
    desc = elgar.1061.d

	flavor = elgar.1562.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_brahms_contract_modifier
		NOT = {
			has_modifier = elgar_brahms_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_hungarian_dances_var
		}
	}

	immediate = {
		set_global_variable = elgar_hungarian_dances_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1563: Symphony No. 4

elgar.1563 = {
	type = country_event

    title = elgar.1563.t
		
    desc = elgar.1061.d

	flavor = elgar.1563.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_brahms_contract_modifier
		NOT = {
			has_modifier = elgar_brahms_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_brahms_symphony_var
		}
	}

	immediate = {
		set_global_variable = elgar_brahms_symphony_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1571: Brahms brings Prestige to $COUNTRY$

elgar.1571 = {
	type = country_event

    title = elgar.1571.t
		
    desc = elgar.1071.d

	flavor = elgar.1071.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_brahms.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_brahms_dead_var
		}
	}

	immediate = {
	}

	option = { #His tour seems to be a success.
		name = elgar.1071.g
		elgar_add_15_music_tradition = yes
	}
}


######Delius######

#Elgar 1601: The composing orange plantation owner, 1885

elgar.1601 = {
	type = country_event

    title = elgar.1601.t
		
    desc = elgar.1601.d

	flavor = elgar.1601.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1885.1.1
		NOT = {
			game_date >= 1886.1.1
		}
		any_scope_state = {
			state_region = s:STATE_FLORIDA
		}
		NOT = {
			has_global_variable = elgar_delius_active
		}
	}

	immediate = {
		set_global_variable = elgar_delius_active
	}

	option = { #What was to become of this good-for-nothing?
		name = elgar.1601.g
		elgar_add_25_music_tradition = yes
	}
}

#Elgar 1611: Delius arrives

elgar.1611 = {
	type = country_event

    title = elgar.1611.t
		
    desc = elgar.1011.d

	flavor = elgar.1611.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_delius_minimum = yes
		}
		custom_tooltip = elgar_delius_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_delius_tour_var
		add_modifier = {
			name = elgar_delius_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_delius_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_delius_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1621
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1612: Delius departs

elgar.1612 = {
	type = country_event

    title = elgar.1612.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_delius_performance_modifier
			}
			remove_modifier = elgar_delius_performance_modifier
			add_modifier = {
				name = elgar_delius_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_delius_tour_var
			}
			elgar_delius_tournee = yes
		}
	}
}

#Elgar 1621: Delius' contract ends

elgar.1621 = {
	type = country_event

    title = elgar.1621.t
		
    desc = elgar.1021.d

	flavor = elgar.1021.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_delius_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_delius_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_delius_was_here_modifier
				years = 5
			}
		}
	}

	option = { #We should extend his contract with better terms.
		name = elgar.1021.h
		add_modifier = {
			name = elgar_delius_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_delius_contract_modifier
			multiplier = money_amount_multiplier_medium
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_delius_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1622
				popup = yes
				days = 3650
			}
		}
		
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_satisfied_ig_modifier
				years = 1
			}
		}
	}
}

#Elgar 1622: Delius' contract finally ends

elgar.1622 = {
	type = country_event

    title = elgar.1622.t
		
    desc = elgar.1022.d

	flavor = elgar.1022.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_delius_dead_var
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_delius_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_delius_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_delius_tournee = yes
			set_global_variable = {
				name = elgar_delius_tour_var
				years = 3
			}
		}
	}
}

#Elgar 1631: Delius dies, 1934

elgar.1631 = {
	type = country_event

    title = elgar.1631.t
		
    desc = elgar.1031.d

	flavor = elgar.1631.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1934.1.1
		NOT = {
			game_date >= 1935.1.1
		}
		NOT = {
			has_global_variable = elgar_delius_dead_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_delius_contract_modifier
				}
				has_modifier = elgar_delius_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_delius_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_ILE_DE_FRANCE
				}
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_delius_tour_var
		set_global_variable = elgar_delius_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_delius_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_delius_performance_modifier
			}
			remove_modifier = elgar_delius_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_delius_was_here_modifier
			}
			remove_modifier = elgar_delius_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_delius_great_composer_modifier
			}
			remove_modifier = elgar_delius_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_delius_contract_modifier
			}
			remove_modifier = elgar_delius_contract_modifier
		}
		every_country = {
			limit = {
				OR = {
					has_technology_researched = elgar_impressionism_tech
					has_technology_researched = elgar_expressionism_tech
					has_technology_researched = elgar_art_nouveau_tech
				}
			}
			post_notification = elgar_delius_dead_notification
		}
	}
}

#Elgar 1641: Delius on tour, 1888

elgar.1641 = {
	type = country_event

    title = elgar.1641.t
		
    desc = elgar.1641.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1888.1.1
		NOT = {
			game_date >= 1889.1.1
		}
		any_scope_state = {
			state_region = s:STATE_SAXONY
		}
		NOT = {
			has_global_variable = elgar_delius_leipzig_var
		}
	}

	immediate = {
		set_global_variable = elgar_delius_leipzig_var
	}

	option = { #Good luck!
		name = elgar.1021.g
		default_option = yes
		elgar_add_25_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_delius_performance_modifier
				days = 15
			}
			add_modifier = {
				name = elgar_delius_was_here_modifier
				years = 1
			}
		}
		hidden_effect = {
			elgar_delius_tournee = yes
			set_global_variable = {
				name = elgar_delius_tour_var
				years = 3
			}
		}
	}
}

#Elgar 1651: Grez-sur-Loing, 1903

elgar.1651 = {
	type = country_event

    title = elgar.1651.t
		
    desc = elgar.1651.d

	flavor = elgar.1651.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1903.1.1
		NOT = {
			game_date >= 1904.1.1
		}
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		NOT = {
			any_country = {
				has_modifier = elgar_delius_contract_modifier
			}
		}
		NOT = {
			has_global_variable = elgar_delius_grez_var
		}
	}

	immediate = {
		set_global_variable = elgar_delius_grez_var
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_delius_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_delius_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_delius_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_delius_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_delius_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1621
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

#Elgar 1652: England, 1914

elgar.1652 = {
	type = country_event

    title = elgar.1652.t
		
    desc = elgar.1652.d

	flavor = elgar.1652.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_delius.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1914.1.1
		NOT = {
			game_date >= 1915.1.1
		}
		any_scope_state = {
			state_region = s:STATE_HOME_COUNTIES
		}
		NOT = {
			any_country = {
				has_modifier = elgar_delius_contract_modifier
			}
		}
		NOT = {
			has_global_variable = elgar_delius_london_var
		}
	}

	immediate = {
		set_global_variable = elgar_delius_london_var
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
					}
				}
			}
			elgar_add_5_music_tradition = yes
			random_scope_state = {
				limit = {
					is_capital = yes
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 15
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 5
					}
				}
			}
			elgar_add_10_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 30
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_delius_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1612
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_delius_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_delius_stays_tt
		elgar_add_1_composer = yes
		add_modifier = {
			name = elgar_delius_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_delius_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_delius_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1621
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

#Elgar 1661: Irmelin

elgar.1661 = {
	type = country_event

    title = elgar.1661.t
		
    desc = elgar.1061.d

	flavor = elgar.1661.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_delius_contract_modifier
		NOT = {
			has_global_variable = elgar_irmelin_var
		}
	}

	immediate = {
		set_global_variable = elgar_irmelin_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1662: A Village Romeo and Juliet

elgar.1662 = {
	type = country_event

    title = elgar.1662.t
		
    desc = elgar.1061.d

	flavor = elgar.1662.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_delius_contract_modifier
		NOT = {
			has_global_variable = elgar_village_var
		}
	}

	immediate = {
		set_global_variable = elgar_village_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1663: On Hearing the First Cuckoo in Spring

elgar.1663 = {
	type = country_event

    title = elgar.1663.t
		
    desc = elgar.1061.d

	flavor = elgar.1663.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_delius_contract_modifier
		NOT = {
			has_global_variable = elgar_first_cuckoo_var
		}
	}

	immediate = {
		set_global_variable = elgar_first_cuckoo_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}


######Mahler######

#Elgar 1701: Mahler's first appearance, 1880

elgar.1701 = {
	type = country_event

    title = elgar.1701.t
		
    desc = elgar.1701.d

	flavor = elgar.1701.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1880.1.1
		NOT = {
			game_date >= 1881.1.1
		}
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
	}

	immediate = {
		set_global_variable = elgar_mahler_active
	}

	option = { #At 20, isn't he a little too young for a job like this?
		name = elgar.1701.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		hidden_effect = {
			elgar_mahler_europe_tournee = yes
			set_global_variable = {
				name = elgar_mahler_europe_tour_var
				years = 5
			}
		}
	}
}

#Elgar 1711: Mahler arrives

elgar.1711 = {
	type = country_event

    title = elgar.1711.t
		
    desc = elgar.1011.d

	flavor = elgar.1711.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_mahler_dead_var
		}
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 5
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 10
					}
				}
			}
			elgar_add_25_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_mahler_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1712
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 15
					}
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_mahler_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1712
					days = 120
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 15
				}
			}
			elgar_add_75_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_mahler_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1712
					days = 150
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_mahler_minimum = yes
		}
		custom_tooltip = elgar_mahler_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_mahler_europe_tour_var
		remove_global_variable = elgar_mahler_world_tour_var
		add_modifier = {
			name = elgar_mahler_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_mahler_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_mahler_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1721
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1712: Mahler departs

elgar.1712 = {
	type = country_event

    title = elgar.1712.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_mahler_dead_var
		}
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_mahler_performance_modifier
			}
			remove_modifier = elgar_mahler_performance_modifier
			add_modifier = {
				name = elgar_mahler_was_here_modifier
				years = 5
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_mahler_europe_tour_var
			}
			elgar_mahler_europe_tournee = yes
		}
		if = {
			limit = {
				has_global_variable = elgar_mahler_world_tour_var
			}
			elgar_mahler_world_tournee = yes
		}
		if = {
			limit = {
				any_country = {
					has_modifier = elgar_mahler_contract_modifier
				}
			}
			random_country = {
				limit = {
					has_modifier = elgar_mahler_contract_modifier
				}
				trigger_event = {
					id = elgar.1771
					days = { 5 10 }
				}
			}
		}
	}
}

#Elgar 1721: Mahler's contract ends (not able to continue)

elgar.1721 = {
	type = country_event

    title = elgar.1721.t
		
    desc = elgar.1021.d

	flavor = elgar.1721.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_mahler_dead_var
		}
	}

	immediate = {
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_mahler_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_mahler_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_mahler_world_tournee = yes
			set_global_variable = {
				name = elgar_mahler_world_tour_var
				years = 3
			}
		}
	}
}

#Elgar 1731: Mahler dies, 1911

elgar.1731 = {
	type = country_event

    title = elgar.1731.t
		
    desc = elgar.1031.d

	flavor = elgar.1731.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1911.1.1
		NOT = {
			game_date >= 1912.1.1
		}
		NOT = {
			has_global_variable = elgar_mahler_dead_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_mahler_contract_modifier
				}
				has_modifier = elgar_mahler_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_mahler_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_AUSTRIA
				}
			}
		}
	}

	immediate = {
		remove_global_variable = elgar_mahler_europe_tour_var
		remove_global_variable = elgar_mahler_world_tour_var
		set_global_variable = elgar_mahler_dead_var
	}

	option = { #A titan of music history has left us.
		name = elgar.1032.g
		custom_tooltip = elgar_mahler_dead_tt
		every_state = {
			limit = {
				has_modifier = elgar_mahler_performance_modifier
			}
			remove_modifier = elgar_mahler_performance_modifier
		}
		every_state = {
			limit = {
				has_modifier = elgar_mahler_was_here_modifier
			}
			remove_modifier = elgar_mahler_was_here_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_mahler_great_composer_modifier
			}
			remove_modifier = elgar_mahler_great_composer_modifier
		}
		every_country = {
			limit = {
				has_modifier = elgar_mahler_contract_modifier
			}
			remove_modifier = elgar_mahler_contract_modifier
		}
		every_country = {
			limit = {
				OR = {
					has_technology_researched = elgar_impressionism_tech
					has_technology_researched = elgar_expressionism_tech
					has_technology_researched = elgar_art_nouveau_tech
				}
			}
			post_notification = elgar_mahler_dead_notification
		}
	}
}

#Elgar 1741: Mahler's World Tour, 1900

elgar.1741 = {
	type = country_event

    title = elgar.1741.t
		
    desc = elgar.1742.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1900.1.1
		NOT = {
			game_date >= 1901.1.1
		}
		NOT = {
			has_global_variable = elgar_mahler_world_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_mahler_contract_modifier
				}
				has_modifier = elgar_mahler_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_mahler_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_AUSTRIA
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		hidden_effect = {
			elgar_mahler_world_tournee = yes
			set_global_variable = {
				name = elgar_mahler_world_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_mahler_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_mahler_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_mahler_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1751: The new Kapellmeister of the Vienna State Opera, 1897

elgar.1751 = {
	type = country_event

    title = elgar.1751.t
		
    desc = elgar.1751.d

	flavor = elgar.1751.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1897.1.1
		NOT = {
			game_date >= 1898.1.1
		}
		any_scope_state = {
			state_region = s:STATE_AUSTRIA
		}
		NOT = {
			any_country = {
				has_modifier = elgar_mahler_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1751.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_mahler_performance_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_mahler_europe_tournee = yes
			set_global_variable = {
				name = elgar_mahler_europe_tour_var
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1751.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_mahler_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_mahler_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_mahler_europe_tour_var
		remove_global_variable = elgar_mahler_world_tour_var
		add_modifier = {
			name = elgar_mahler_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_mahler_contract_modifier
			multiplier = money_amount_multiplier_very_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_mahler_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1721
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

#Elgar 1752: An Austrian in New York, 1908

elgar.1752 = {
	type = country_event

    title = elgar.1752.t
		
    desc = elgar.1752.d

	flavor = elgar.1752.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1908.1.1
		NOT = {
			game_date >= 1909.1.1
		}
		any_scope_state = {
			state_region = s:STATE_NEW_YORK
		}
		NOT = {
			any_country = {
				has_modifier = elgar_mahler_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1752.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_mahler_performance_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_mahler_world_tournee = yes
			set_global_variable = {
				name = elgar_mahler_world_tour_var
				years = 5
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1752.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_mahler_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_mahler_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_mahler_europe_tour_var
		remove_global_variable = elgar_mahler_world_tour_var
		add_modifier = {
			name = elgar_mahler_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_mahler_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_mahler_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1721
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

#Elgar 1761: Symphony No. 5

elgar.1761 = {
	type = country_event

    title = elgar.1561.t
		
    desc = elgar.1061.d

	flavor = elgar.1561.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_brahms_contract_modifier
		NOT = {
			has_modifier = elgar_brahms_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_deutsches_requiem_var
		}
	}

	immediate = {
		set_global_variable = elgar_deutsches_requiem_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1762: Lied von der Erde

elgar.1762 = {
	type = country_event

    title = elgar.1762.t
		
    desc = elgar.1061.d

	flavor = elgar.1762.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_mahler_contract_modifier
		NOT = {
			has_modifier = elgar_mahler_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_lied_erde_var
		}
	}

	immediate = {
		set_global_variable = elgar_lied_erde_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1763: Kindertotenlieder

elgar.1763 = {
	type = country_event

    title = elgar.1763.t
		
    desc = elgar.1061.d

	flavor = elgar.1763.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_mahler_contract_modifier
		NOT = {
			has_modifier = elgar_mahler_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_kindertotenlieder_var
		}
	}

	immediate = {
		set_global_variable = elgar_kindertotenlieder_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1771: Mahler brings Prestige to $COUNTRY$

elgar.1771 = {
	type = country_event

    title = elgar.1771.t
		
    desc = elgar.1071.d

	flavor = elgar.1071.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_mahler.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		NOT = {
			has_global_variable = elgar_mahler_dead_var
		}
	}

	immediate = {
	}

	option = { #His tour seems to be a success.
		name = elgar.1071.g
		elgar_add_25_music_tradition = yes
	}
}


######Rachmaninov######

#Elgar 1801: Piano Concerto No. 2 1901

elgar.1801 = {
	type = country_event

    title = elgar.1801.t
		
    desc = elgar.1801.d

	flavor = elgar.1801.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1901.1.1
		NOT = {
			game_date >= 1902.1.1
		}
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
	}

	immediate = {
		set_global_variable = elgar_rachmaninov_active
	}

	option = { #A masterpiece!
		name = elgar.232.g
		default_option = yes
		elgar_add_50_music_tradition = yes

		ai_chance = {
			base = 50
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_rachmaninov_minimum = yes
		}
		custom_tooltip = elgar_mahler_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_rachmaninov_tour_var
		add_modifier = {
			name = elgar_mahler_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_mahler_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_mahler_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1821
				popup = yes
				days = 3650
			}
		}

		ai_chance = {
			base = 50
		}
	}
}

#Elgar 1811: Rachmaninoff arrives

elgar.1811 = {
	type = country_event

    title = elgar.1811.t
		
    desc = elgar.1011.d

	flavor = elgar.1811.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 15
					}
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_rachmaninov_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1812
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 15
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 20
					}
				}
			}
			elgar_add_75_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_rachmaninov_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1812
					days = 120
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 20
				}
			}
			elgar_add_100_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_rachmaninov_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1812
					days = 150
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_rachmaninov_minimum = yes
		}
		custom_tooltip = elgar_rachmaninov_stays_tt
		remove_global_variable = elgar_rachmaninov_tour_var
		add_modifier = {
			name = elgar_rachmaninov_great_composer_modifier
			days = 3650
		}
		add_modifier = {
			name = elgar_rachmaninov_contract_modifier
			multiplier = money_amount_multiplier_small
			days = 3650
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_rachmaninov_performance_modifier
				days = 3650
			}
		}
		hidden_effect = {
			trigger_event = {
				id = elgar.1821
				popup = yes
				days = 3650
			}
		}
	}

	after = {
	}
}

#Elgar 1812: Rachmaninov departs

elgar.1812 = {
	type = country_event

    title = elgar.1812.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_rachmaninov_performance_modifier
			}
			remove_modifier = elgar_rachmaninov_performance_modifier
			add_modifier = {
				name = elgar_rachmaninov_was_here_modifier
				years = 3
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_rachmaninov_tour_var
			}
			elgar_rachmaninov_tournee = yes
		}
	}
}

#Elgar 1821: Rachmaninov's contract ends (not able to continue)

elgar.1821 = {
	type = country_event

    title = elgar.1821.t
		
    desc = elgar.1021.d

	flavor = elgar.1721.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #We wish him all the best.
		name = elgar.1021.g
		default_option = yes
		custom_tooltip = elgar_rachmaninov_leaves_tt
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_rachmaninov_was_here_modifier
				years = 5
			}
		}
		hidden_effect = {
			elgar_rachmaninov_tournee = yes
			set_global_variable = {
				name = elgar_rachmaninov_tour_var
				years = 5
			}
		}
	}
}

#Elgar 1841: Rachmaninov's first World Tour, 1906

elgar.1841 = {
	type = country_event

    title = elgar.1841.t
		
    desc = elgar.1841.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1906.1.1
		NOT = {
			game_date >= 1907.1.1
		}
		NOT = {
			has_global_variable = elgar_rachmaninov_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_rachmaninov_contract_modifier
				}
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_rachmaninov_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_INGRIA
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		hidden_effect = {
			elgar_rachmaninov_tournee = yes
			set_global_variable = {
				name = elgar_rachmaninov_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_rachmaninov_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_rachmaninov_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1842: Rachmaninov's Second World Tour, 1922

elgar.1842 = {
	type = country_event

    title = elgar.1841.t
		
    desc = elgar.1841.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1922.1.1
		NOT = {
			game_date >= 1923.1.1
		}
		NOT = {
			has_global_variable = elgar_rachmaninov_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_rachmaninov_contract_modifier
				}
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_rachmaninov_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_INGRIA
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		hidden_effect = {
			elgar_rachmaninov_tournee = yes
			set_global_variable = {
				name = elgar_rachmaninov_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_rachmaninov_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_rachmaninov_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1843: Rachmaninov's Third World Tour, 1930

elgar.1843 = {
	type = country_event

    title = elgar.1841.t
		
    desc = elgar.1841.d

	flavor = elgar.1041.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1930.1.1
		NOT = {
			game_date >= 1931.1.1
		}
		NOT = {
			has_global_variable = elgar_rachmaninov_tour_var
		}
		OR = {
			AND = {
				any_country = {
					has_modifier = elgar_rachmaninov_contract_modifier
				}
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			AND = {
				NOT = {
					any_country = {
						has_modifier = elgar_rachmaninov_contract_modifier
					}
				}
				any_scope_state = {
					state_region = s:STATE_INGRIA
				}
			}
		}
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = intelligentsia_ig
		}
	}

	option = { #He should represent France in the world.
		name = elgar.1041.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		hidden_effect = {
			elgar_rachmaninov_tournee = yes
			set_global_variable = {
				name = elgar_rachmaninov_tour_var
				years = 3
			}
		}
		if = {
			limit = {
				has_modifier = elgar_rachmaninov_contract_modifier
			}
			custom_tooltip = elgar_composer_tour_tt
			add_modifier = {
				name = elgar_rachmaninov_suspended_modifier
				years = 3
			}
		}
	}

	option = { #He has to stay in France!
		name = elgar.1041.h
		trigger = {
			has_modifier = elgar_rachmaninov_contract_modifier
		}
		scope:intelligentsia_ig = {
			add_modifier = {
				name = elgar_snubbed_ig_modifier
				years = 5
			}
		}
		ai_chance = {
			base = 0
		}
	}
}

#Elgar 1851: USA, 1920

elgar.1851 = {
	type = country_event

    title = elgar.1851.t
		
    desc = elgar.1851.d

	flavor = elgar.1851.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1920.1.1
		NOT = {
			game_date >= 1921.1.1
		}
		any_scope_state = {
			state_region = s:STATE_NEW_YORK
		}
		NOT = {
			any_country = {
				has_modifier = elgar_rachmaninov_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1851.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_rachmaninov_performance_modifier
				years = 2
			}
		}
		hidden_effect = {
			elgar_rachmaninov_tournee = yes
			set_global_variable = {
				name = elgar_rachmaninov_tour_var
				years = 5
			}
		}

		ai_chance = {
			base = 35
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1851.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_rachmaninov_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_rachmaninov_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_rachmaninov_tour_var
		add_modifier = {
			name = elgar_rachmaninov_great_composer_modifier
		}
		add_modifier = {
			name = elgar_rachmaninov_contract_modifier
			multiplier = money_amount_multiplier_small
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_rachmaninov_performance_modifier
			}
		}

		ai_chance = {
			base = 65
		}
	}
}

#Elgar 1861: Piano Concerto No. 3

elgar.1861 = {
	type = country_event

    title = elgar.1861.t
		
    desc = elgar.1061.d

	flavor = elgar.1861.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_rachmaninov_contract_modifier
		NOT = {
			has_modifier = elgar_rachmaninov_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_rachmaninov_concerto_var
		}
	}

	immediate = {
		set_global_variable = elgar_rachmaninov_concerto_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1862: Rhapsody on a Theme of Paganini

elgar.1862 = {
	type = country_event

    title = elgar.1862.t
		
    desc = elgar.1061.d

	flavor = elgar.1862.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_rachmaninov_contract_modifier
		NOT = {
			has_modifier = elgar_rachmaninov_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_rhapsody_paganini_var
		}
	}

	immediate = {
		set_global_variable = elgar_rhapsody_paganini_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1863: Symphony No. 3

elgar.1863 = {
	type = country_event

    title = elgar.1863.t
		
    desc = elgar.1061.d

	flavor = elgar.1863.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_rachmaninov_contract_modifier
		NOT = {
			has_modifier = elgar_rachmaninov_suspended_modifier
		}
		NOT = {
			has_global_variable = elgar_rachmaninov_symphony_var
		}
	}

	immediate = {
		set_global_variable = elgar_rachmaninov_symphony_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1871: Rachmaninov brings Prestige to $COUNTRY$

#elgar.1871 = {
#	type = country_event
#
#	title = elgar.1871.t
#		
#	desc = elgar.1071.d
#
#	flavor = elgar.1071.f
#
#	duration = 1
#		
#	event_image = { 
#		texture = "gfx/event_pictures/elgar_pictures/elgar_rachmaninov.dds"
#	}
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"
#
#	icon = "gfx/interface/icons/event_icons/event_music.dds"
#
#	trigger = {
#	}
#
#	immediate = {
#	}
#
#	option = { #His tour seems to be a success.
#		name = elgar.1071.g
#		elgar_add_25_music_tradition = yes
#	}
#}



######Prokofiev######

#Elgar 1901: Skythian Suite, 1916

elgar.1901 = {
	type = country_event

    title = elgar.1901.t
		
    desc = elgar.1901.d

	flavor = elgar.1901.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_prokofiev.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1916.1.1
		NOT = {
			game_date >= 1917.1.1
		}
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
	}

	immediate = {
		set_global_variable = elgar_prokofiev_active
	}

	option = { #A masterpiece!
		name = elgar.232.g
		default_option = yes
		elgar_add_50_music_tradition = yes
	}
	option = { #Disgusting.
		name = elgar.232.h
		add_modifier = {
			name = elgar_good_taste_modifier
			years = 5
		}
	}
}

#Elgar 1911: Prokofiev arrives

elgar.1911 = {
	type = country_event

    title = elgar.1911.t
		
    desc = elgar.1011.d

	flavor = elgar.1911.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_prokofiev.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Welcome, welcome!
		name = elgar.1011.g
		default_option = yes
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 10
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 15
					}
				}
			}
			elgar_add_50_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_prokofiev_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1912
					days = 60
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 15
				}
				NOT = {
					any_scope_building = {
						is_building_type = building_elgar_opera
						level >= 20
					}
				}
			}
			elgar_add_75_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_prokofiev_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1912
					days = 120
				}
			}
		}
		if = {
			limit = {
				any_scope_building = {
					is_building_type = building_elgar_opera
					level >= 20
				}
			}
			elgar_add_100_music_tradition = yes
			hidden_effect = {
				elgar_composer_lotto_1 = yes
				elgar_composer_lotto_2 = yes
				elgar_composer_lotto_3 = yes
			}
			random_scope_state = {
				limit = {
					has_building = building_elgar_opera
				}
				add_modifier = {
					name = elgar_prokofiev_performance_modifier
				}
			}
			hidden_effect = {
				trigger_event = {
					id = elgar.1912
					days = 120
				}
			}
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_prokofiev_minimum = yes
		}
		custom_tooltip = elgar_prokofiev_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_prokofiev_tour_var
		add_modifier = {
			name = elgar_prokofiev_great_composer_modifier
		}
		add_modifier = {
			name = elgar_prokofiev_contract_modifier
			multiplier = money_amount_multiplier_small
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_prokofiev_performance_modifier
			}
		}
	}

	after = {
	}
}

#Elgar 1912: Prokofiev departs

elgar.1912 = {
	type = country_event

    title = elgar.1912.t
		
    desc = elgar.1012.d

	flavor = elgar.1012.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_prokofiev.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Hope to see you again soon!
		name = elgar.1012.g
		default_option = yes
		random_scope_state = {
			limit = {
				has_modifier = elgar_prokofiev_performance_modifier
			}
			remove_modifier = elgar_prokofiev_performance_modifier
			add_modifier = {
				name = elgar_prokofiev_was_here_modifier
				years = 3
			}
		}
	}

	after = {
		if = {
			limit = {
				has_global_variable = elgar_prokofiev_tour_var
			}
			elgar_prokofiev_tournee = yes
		}
	}
}

#Elgar 1941: Symphony No. 1 "Classical", 1918

elgar.1941 = {
	type = country_event

    title = elgar.1941.t
		
    desc = elgar.1941.d

	flavor = elgar.1941.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_prokofiev.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1918.1.1
		NOT = {
			game_date >= 1919.1.1
		}
		any_scope_state = {
			state_region = s:STATE_INGRIA
		}
	}

	immediate = {
	}

	option = { #A nice performance, but we don't have use for him.
		name = elgar.1941.g
		default_option = yes
		elgar_add_50_music_tradition = yes
		hidden_effect = {
			elgar_prokofiev_tournee = yes
			set_global_variable = {
				name = elgar_prokofiev_tour_var
				years = 3
			}
		}
		
	}

	option = { #Hire this brilliant man!
		name = elgar.1011.h
		trigger = {
			elgar_prokofiev_minimum = yes
		}
		custom_tooltip = elgar_prokofiev_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_prokofiev_tour_var
		add_modifier = {
			name = elgar_prokofiev_great_composer_modifier
		}
		add_modifier = {
			name = elgar_prokofiev_contract_modifier
			multiplier = money_amount_multiplier_small
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_prokofiev_performance_modifier
			}
		}
	}
}

#Elgar 1951: Paris, 1924

elgar.1951 = {
	type = country_event

    title = elgar.1951.t
		
    desc = elgar.1951.d

	flavor = elgar.1951.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_prokofiev.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		game_date >= 1924.1.1
		NOT = {
			game_date >= 1925.1.1
		}
		any_scope_state = {
			state_region = s:STATE_ILE_DE_FRANCE
		}
		NOT = {
			any_country = {
				has_modifier = elgar_prokofiev_contract_modifier
			}
		}
	}

	immediate = {
	}

	option = { #A wonderful performance.
		name = elgar.1951.g
		default_option = yes
		elgar_add_100_music_tradition = yes
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			add_modifier = {
				name = elgar_prokofiev_performance_modifier
				years = 2
			}
		}
		hidden_effect = {
			elgar_prokofiev_tournee = yes
			set_global_variable = {
				name = elgar_prokofiev_tour_var
				years = 5
			}
		}

		ai_chance = {
			base = 67
		}
	}

	option = { #Hire this brilliant man!
		name = elgar.1951.h
		trigger = {
			OR = {
				AND = {
					is_player = yes
					elgar_prokofiev_minimum = yes
				}
				is_player = no
			}
		}
		custom_tooltip = elgar_prokofiev_stays_tt
		elgar_add_1_composer = yes
		remove_global_variable = elgar_prokofiev_tour_var
		add_modifier = {
			name = elgar_prokofiev_great_composer_modifier
		}
		add_modifier = {
			name = elgar_prokofiev_contract_modifier
			multiplier = money_amount_multiplier_very_small
		}
		random_scope_state = {
			limit = {
				has_building = building_elgar_opera
			}
			add_modifier = {
				name = elgar_prokofiev_performance_modifier
			}
		}

		ai_chance = {
			base = 33
		}
	}
}

#Elgar 1961: Romeo and Juliet

elgar.1961 = {
	type = country_event

    title = elgar.1961.t
		
    desc = elgar.1061.d

	flavor = elgar.1961.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_prokofiev_contract_modifier
		NOT = {
			has_global_variable = elgar_romeo_juliet_var
		}
	}

	immediate = {
		set_global_variable = elgar_romeo_juliet_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1962: Lieutenant Kijé

elgar.1962 = {
	type = country_event

    title = elgar.1962.t
		
    desc = elgar.1061.d

	flavor = elgar.1962.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_prokofiev_contract_modifier
		NOT = {
			has_global_variable = elgar_kije_var
		}
	}

	immediate = {
		set_global_variable = elgar_kije_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}

#Elgar 1963: Peter and the Wolf

elgar.1963 = {
	type = country_event

    title = elgar.1963.t
		
    desc = elgar.1061.d

	flavor = elgar.1963.f

	duration = 1
		
	event_image = { 
		texture = "gfx/event_pictures/elgar_pictures/elgar_opus.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_music.dds"

	trigger = {
		has_modifier = elgar_prokofiev_contract_modifier
		NOT = {
			has_global_variable = elgar_peter_wolf_var
		}
	}

	immediate = {
		set_global_variable = elgar_peter_wolf_var
	}

	option = { #Bravissimo
		name = elgar.1061.g
		elgar_add_100_music_tradition = yes
	}
}
