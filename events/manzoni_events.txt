#####################
# Manzoni EVENTS  #
#####################

#by Lord R & Marco Dandolo

###################

namespace = manzoni

###################

### Great Britain ###
# Manzoni 1000: Sherlock Holmes published

### Switzerland ###
#Manzoni 1100: Heidi published
#Manzoni 1101: Kleider machen Leute published
#Manzoni 1102: Uli der Knecht published
#Manzoni 1103: Steppenwolf published
#Manzoni 1104: Monsieur Crépin published
#Manzoni 1105: Aline published

### Italy ###
#Manzoni 1200: I Promessi Sposi
#Manzoni 1201: I Promessi Sposi (for other italian nations and Austria)
#Manzoni 1202: Giacomo Leopardi, La Ginestra
#Manzoni 1203: Giosué Carducci, Rime Nuove
#Manzoni 1204: Giovanni Pascoli, Myricae
#Manzonu 1205: Italo Svevo, Zeno's Conscience
#Manzoni 1206: Gabriele D'Annunzio, Il Piacere

###################

### Great Britain ###

# Manzoni 1000: Sherlock Holmes published
manzoni.1000 = {
	type = country_event
	placement = ROOT

	title = manzoni.1000.t
	desc = manzoni.1000.d
	flavor = manzoni.1000.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		NOT = {
			has_global_variable = manzoni_sherlock_holmes_global_var
		}
		year >= 1886
		c:GBR ?= this
	}

	immediate = {
		set_global_variable = manzoni_sherlock_holmes_global_var

		create_character = {
			template = manzoni_gbr_doyle_arthur_conan_template

			save_scope_as = manzoni_writer_scope
		}
		scope:manzoni_writer_scope = {
			place_character_in_void = 4
			set_variable = manzoni_doyle_character_var
		}
	}

	option = { #Elementary, my dear Watson.
		name = manzoni.1000.a
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}
}

###################

### Switzerland ###

#Manzoni 1100: Heidi published
manzoni.1100 = {
	type = country_event
	placement = ROOT

	title = manzoni.1100.t
	desc = manzoni.1100.d
	flavor = manzoni.1100.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_heidi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		AND = {
			exists = c:SWI
			c:SWI = ROOT
			has_technology_researched = realism
			game_date >= 1880.4.13
			NOT = { has_global_variable = manzoni_heidi_published_global_var }
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_heidi_published_global_var
		}
	}

	option = {
		name = manzoni.1100.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}
}

#Manzoni 1101: Kleider machen Leute published
manzoni.1101 = {
	type = country_event
	placement = ROOT

	title = manzoni.1101.t
	desc = manzoni.1101.d
	flavor = manzoni.1101.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_gottfried_keller.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		AND = {
			exists = c:SWI
			c:SWI = ROOT
			has_technology_researched = realism
			game_date >= 1874.05.15
			NOT = { has_global_variable = manzoni_kleider_machen_leute_published_global_var }
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_kleider_machen_leute_published_global_var
		}
	}

	option = {
		name = manzoni.1101.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

#Manzoni 1102: Uli der Knecht published
manzoni.1102 = {
	type = country_event
	placement = ROOT

	title = manzoni.1102.t
	desc = manzoni.1102.d
	flavor = manzoni.1102.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_uli_der_knecht.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		AND = {
			exists = c:SWI
			c:SWI = ROOT
			has_technology_researched = realism
			game_date >= 1841.02.13
			NOT = { has_global_variable = manzoni_uli_der_knecht_published_global_var }
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_uli_der_knecht_published_global_var
		}
	}

	option = {
		name = manzoni.1102.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

#Manzoni 1103: Steppenwolf published
manzoni.1103 = {
	type = country_event
	placement = ROOT

	title = manzoni.1103.t
	desc = manzoni.1103.d
	flavor = manzoni.1103.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_steppenwolf.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		exists = c:SWI
			c:SWI = ROOT
		game_date >= 1927.3.11
		NOT = { has_global_variable = manzoni_steppenwolf_published_global_var }
	}

	immediate = {
		set_global_variable = {
			name = manzoni_steppenwolf_published_global_var
		}
	}

	option = {
		name = manzoni.1103.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}
}

#Manzoni 1104: Monsieur Crépin published
manzoni.1104 = {
	type = country_event
	placement = ROOT

	title = manzoni.1104.t
	desc = manzoni.1104.d
	flavor = manzoni.1104.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_toepffer.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		exists = c:SWI
		c:SWI = ROOT
		game_date >= 1837.11.11
		NOT = {
			has_global_variable = manzoni_crepin_published_global_var
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_crepin_published_global_var
		}
	}

	option = {
		name = manzoni.1104.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

#Manzoni 1105: Aline published
manzoni.1105 = {
	type = country_event
	placement = ROOT

	title = manzoni.1105.t
	desc = manzoni.1105.d
	flavor = manzoni.1105.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_ramuz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		exists = c:SWI
		c:SWI = ROOT
		game_date >= 1905.7.22
		NOT = { has_global_variable = manzoni_aline_published_global_var }
	}

	immediate = {
		set_global_variable = {
			name = manzoni_aline_published_global_var
		}
	}

	option = {
		name = manzoni.1105.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

###################

### Italy ###

#Manzoni 1200: Alessandro Manzoni, I Promessi Sposi
manzoni.1200 = {
	type = country_event
	placement = ROOT

	title = manzoni.1200.t
	desc = manzoni.1200.d
	flavor = manzoni.1200.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_promessi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_LOMBARDY
		}
		has_technology_researched = romanticism
		game_date >= 1842.1.1
		NOT = { 
			has_global_variable = manzoni_promessi_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_promessi_published_global_var
		}
	}

	option = {
		name = manzoni.1200.g #Who cares about a silly Italian novel?
		trigger = {
			NOR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
			}
		}
		add_radicals = {
			value = 0.1
			culture = cu:north_italian
		}
		add_radicals = {
			value = 0.1
			culture = cu:south_italian
		}
	}

	option = {
		name = manzoni.1200.h #The peak of Italian culture!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
			}
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 50
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_italian
						country_has_primary_culture = cu:north_italian
					}
					NOT = {
						this = ROOT
					}
				}
				trigger_event = { 
					id = manzoni.1201
					popup = yes 
					days = { 1 7 }
				}
			}
		}
	}
}

#Manzoni 1201: Alessandro Manzoni, I Promessi Sposi
manzoni.1201 = {
	type = country_event
	placement = ROOT

	title = manzoni.1200.t
	desc = manzoni.1200.d
	flavor = manzoni.1200.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_promessi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.1200.h #The peak of Italian culture!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
			}
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 50
		}
	}

	after = {
	}
}

#Manzoni 1202: Giacomo Leopardi, La Ginestra
manzoni.1202 = {
	type = country_event
	placement = ROOT

	title = manzoni.1202.t
	desc = manzoni.1202.d
	flavor = manzoni.1202.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_leopardi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_CAMPANIA
		}
		NOT = {
			game_date >= 1837.6.14 #Leopardi dies
		}
		NOT = { 
			has_global_variable = manzoni_ginestra_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_ginestra_published_global_var
		}
	}

	option = {
		name = manzoni.1202.g #How melancholic
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}

	after = {
	}
}

#Manzoni 1203: Giosué Carducci, Rime Nuove
manzoni.1203 = {
	type = country_event
	placement = ROOT

	title = manzoni.1203.t
	desc = manzoni.1203.d
	flavor = manzoni.1203.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_carducci.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = realism
		game_date >= 1887.1.1
		NOT = {
			game_date >= 1907.2.16 #Carducci dies
		}
		NOT = { 
			has_global_variable = manzoni_rime_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_rime_published_global_var
		}
	}

	option = {
		name = manzoni.1203.g #The new national poet of Italy!
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 30
		}
	}

	after = {
	}
}

#Manzoni 1204: Giovanni Pascoli, Myricae
manzoni.1204 = {
	type = country_event
	placement = ROOT

	title = manzoni.1204.t
	desc = manzoni.1204.d
	flavor = manzoni.1204.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_pascoli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1891.1.1
		NOT = {
			game_date >= 1912.4.6 #Pascoli dies
		}
		NOT = { 
			has_global_variable = manzoni_myricae_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_myricae_published_global_var
		}
	}

	option = {
		name = manzoni.1204.g #A little great poet.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1205: Italo Svevo, Zeno's Conscience
manzoni.1205 = {
	type = country_event
	placement = ROOT

	title = manzoni.1205.t
	desc = manzoni.1205.d
	flavor = manzoni.1205.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_svevo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		has_technology_researched = psychoanalysis
		game_date >= 1923.1.1
		NOT = {
			game_date >= 1928.9.13 #Svevo dies
		}
		NOT = { 
			has_global_variable = manzoni_zeno_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_zeno_published_global_var
		}
	}

	option = {
		name = manzoni.1205.g #Is the author making fun of Sigmund Freud?
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1206: Gabriele D'Annunzio, Il Piacere
manzoni.1206 = {
	type = country_event
	placement = ROOT

	title = manzoni.1206.t
	desc = manzoni.1206.d
	flavor = manzoni.1206.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dannunzio.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1889.1.1
		NOT = { 
			has_global_variable = manzoni_piacere_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_piacere_published_global_var
		}
	}

	option = {
		name = manzoni.1206.g #Is this symbolism or already decadence?
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1207: Carlo Collodi, Pinocchio
manzoni.1207 = {
	type = country_event
	placement = ROOT

	title = manzoni.1207.t
	desc = manzoni.1207.d
	flavor = manzoni.1207.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_collodi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = realism
		game_date >= 1883.1.1
		NOT = {
			game_date >= 1890.10.26 #Collodi dies
		}
		NOT = { 
			has_global_variable = manzoni_pinocchio_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_pinocchio_published_global_var
		}
	}

	option = {
		name = manzoni.1207.g #This children's tale would definitely have been more successful as a film.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1208: Edmondo de Amicis, Cuore
manzoni.1208 = {
	type = country_event
	placement = ROOT

	title = manzoni.1208.t
	desc = manzoni.1208.d
	flavor = manzoni.1208.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_amicis.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = realism
		game_date >= 1886.1.1
		NOT = {
			game_date >= 1908.3.11 #Amicis dies
		}
		NOT = { 
			has_global_variable = manzoni_amicis_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_amicis_published_global_var
		}
	}

	option = {
		name = manzoni.1208.g #A patriotic novel for young Italians!
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		add_loyalists = {
			value = 0.03
			culture = cu:north_italian
		}
		add_loyalists = {
			value = 0.03
			culture = cu:south_italian
		}
	}

	after = {
	}
}

###################

### Germany ###

#Manzoni 1300: Heinrich Heine, Deutschland, ein Wintermärchen
manzoni.1300 = {
	type = country_event
	placement = ROOT

	title = manzoni.1300.t
	desc = manzoni.1300.d
	flavor = manzoni.1300.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_wintermaerchen.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
		}
		has_technology_researched = romanticism
		game_date >= 1843.1.1
		game_date <= 1845.1.1
		NOT = { 
			has_variable = manzoni_wintermaerchen_published_var #Note that this will trigger in every german state
		}
	}

	immediate = {
		set_variable = manzoni_wintermaerchen_published_var #Note that this will trigger in every german state
	}

	option = {
		name = manzoni.1300.g #It should be published.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_very_bad_influence_modifier
				years = 5
			}
			add_modifier = {
				name = manzoni_heine_allowed_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					OR = {
						has_modifier = gaudi_dombau_phase_1_modifier
						has_modifier = gaudi_dombau_phase_2_modifier
						has_modifier = gaudi_dombau_phase_3_modifier
						has_modifier = gaudi_dombau_phase_4_modifier
					}
				}
			}
			trigger_event = {
				id = manzoni.1301
				days = { 5 10 }
			}
		}
	}

	option = {
		name = manzoni.1300.h #Ban and confiscate it!
		trigger = {
			has_law = law_type:law_outlawed_dissent
		}
		add_modifier = {
			name = manzoni_heine_banned_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_censored_modifier
				years = 5
			}
		}
	}

	option = {
		name = manzoni.1300.i #Censor it.
		trigger = {
			has_law = law_type:law_censorship
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		add_modifier = {
			name = manzoni_censorship_machinery_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_bad_influence_modifier
				years = 5
			}
			add_modifier = {
				name = manzoni_heine_censored_modifier
				years = 5
			}
		}
	}

	after = {
	}
}

#Manzoni 1301: Heinrich Heine mocks Cologne Cathedral
manzoni.1301 = {
	type = country_event
	placement = ROOT

	title = manzoni.1301.t
	desc = manzoni.1301.d
	flavor = manzoni.1301.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_wintermaerchen.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.1301.g #Damn you, Heine!
		default_option = yes
		add_modifier = {
			name = manzoni_mocked_by_heine_modifier 
			years = 3
		}
	}

	after = {
	}
}

#Manzoni 1302: Joseph von Eichendorff, Mondnacht
manzoni.1302 = {
	type = country_event
	placement = ROOT

	title = manzoni.1302.t
	desc = manzoni.1302.d
	flavor = manzoni.1302.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_mondnacht.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
		}
		has_technology_researched = romanticism
		game_date >= 1837.1.1
		game_date <= 1848.1.1
		NOT = { 
			has_variable = manzoni_mondnacht_published_var #Note that this will trigger in every german state
		}
	}

	immediate = {
		set_variable = manzoni_mondnacht_published_var #Note that this will trigger in every german state
	}

	option = {
		name = manzoni.1302.g #Beautiful.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 5
		}
	}

	option = {
		name = manzoni.1302.h #So, instead of searching political freedom, germans are distracted by silly poems?
		every_interest_group = {
			limit = {
				is_in_government = no
			}
			add_modifier = {
				name = manzoni_michel_sleeps_modifier
				years = 3
			}
		}
	}

	after = {
	}
}