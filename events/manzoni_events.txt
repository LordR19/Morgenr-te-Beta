#####################
# Manzoni EVENTS  #
#####################

#by Lord R & Marco Dandolo

###################

namespace = manzoni

###################

### Basic Events ###
#Manzoni 2: The audience changes its taste (hidden)
#Manzoni 3: The audience changes its taste (Notification)

### Publisher Events ###
#Manzoni 10: A new Publisher
#Manzoni 11: Public Publisher
#Manzoni 12: Literary Publisher
#Manzoni 13: Scientific Publisher
#Manzoni 14: Art Publisher

### National Writer Events ###
#Manzoni 101: [Work Title] published (Masterwork event)
#Manzoni 102: Writer becomes Universal Writer

### Publisher & Writers Events ###
#Manzoni 301: Bibliomania
#Manzoni 302: Has bibliomania passed its peak?
#Manzoni 303: Bookclub
#Manzoni 304: Thriving Book Industry

#Manzoni 311: IG wants to buy bankrupt publisher
#Manzoni 312: A publisher critical of the government

#Manzoni 321: Publisher gets Book License
#Manzoni 322: Foreign Pulp literature
#Manzoni 323: Pirated Copies

### Reading Tour ###
#Manzoni 331: Writer's first destination
#Manzoni 332: Writer arrives in Neighbour Country
#Manzoni 333: Writer's meeting
#Manzoni 334: Another destination?

### Journal Entries ###
#Manzoni 341: Literary Circle

### Political Events ###
### National Writers
# Manzoni 400: [Writer] critical of our government
# Manzoni 401: [Writer] is no longer a National Writer

### Local Writers ###
# Manzoni 500: [Writer] fed up with government

# Manzoni 510: [Agitator] focuses on writing
# Manzoni 511: [Politician] focuses on writing

# Manzoni 590: A local Writer appears

### National Library ###
# Manzoni 600: National Library Inauguration
# Manzoni 601: Dissolve Library

# Manzoni 610: Plunder the Library
# Manzoni 611: National Library plundered

### Writer Interactions ###
#Manzoni 801: Beautiful Illustrations
#Manzoni 802: Theories about Extraterrestrial Life

### Italian Nationalism ###
#Manzoni 901: The Fate of Lucca (for Parma)
#Manzoni 902: The Fate of Lucca (for Tuscany)
#Manzoni 910: Roma Aeterna
#Manzoni 911: An Italian Consciousness
#Manzoni 912: A Pan-Italian Consciousness
#Manzoni 913: A Pan-Italian Consciousness (Notification)
#Manzoni 914: Character becomes Italian
#Manzoni 915: Brigants in $STATE$
#Manzoni 916: Fear for regional heritage
#Manzoni 917: Dialects or languages?
#Manzoni 918: Fate of Foscolo
#Manzoni 919: Fate of Foscolo (for Great Britain)
#Manzoni 920: Foscolo returns/Foscolo denied
#Manzoni 921: Italian Music Culture
#Manzoni 922: Dante Cult
#Manzoni 923: An Italian Consciousness
#Manzoni 924: Lingua del Sì
#Manzoni 925: Corsican integrated
#Manzoni 926: Ticinese integrated
#Manzoni 927: Maltese integrated
#Manzoni 928: Rumantsch integrated

### Great Britain ###
# Manzoni 1000: Sherlock Holmes published
# Manzoni 1001: The Hobbit or There and Back Again
# Manzoni 1002: War of the Worlds
# Manzoni 1003: Treasure Island (Robert Louis Stevenson)

### Switzerland ###
#Manzoni 1100: Heidi (Johanna Spyri)
#Manzoni 1101: Kleider machen Leute (Gottfried Keller)
#Manzoni 1102: Uli der Knecht (Jeremias Gotthelf)
#Manzoni 1103: Steppenwolf (Hermann Hesse)
#Manzoni 1104: Histoire d'Albert (Rodolphe Töpffer)
#Manzoni 1105: La Grande Peur dans la montagne (C.F. Ramuz)

### Italy ###
#Manzoni 1200: I Promessi Sposi
#Manzoni 1201: I Promessi Sposi (for other italian nations and Austria)
#Manzoni 1202: Giacomo Leopardi, La Ginestra
#Manzoni 1203: Giosué Carducci, Rime Nuove
#Manzoni 1204: Giovanni Pascoli, Myricae
#Manzonu 1205: Zeno's Conscience (Italo Svevo)
#Manzoni 1206: Gabriele D'Annunzio, Il Piacere
#Manzoni 1207: Pinocchio (Carlo Collodi)
#Manzoni 1208: Cuore (Edmondo de Amicis)

### Germany ###
#Manzoni 1300: Heinrich Heine, Deutschland, ein Wintermärchen
#Manzoni 1301: Heinrich Heine mocks Cologne Cathedral
#Manzoni 1302: Joseph von Eichendorff, Mondnacht
#Manzoni 1303: The Weavers in $STATE$
#Manzoni 1304: Heinrich Heine, Weberlied
#Manzoni 1305: Gerhart Hauptmann, Die Weber
#Manzoni 1306: Berlin Alexanderplatz (Alfred Döblin)
#Manzoni 1307: Buddenbrooks (Thomas Mann)

### France ###
#Manzoni 1400: Le Tour du monde en quatre-vingts jours
#Manzoni 1401: La Comédie humaine
#Manzoni 1402: Les Trois Mousquetaires
#Manzoni 1403: Le Petit Prince (Saint-Exupéry)

### USA ###
#Manzoni 1500: The Raven

### Sweden ###
#Manzoni 1600: Nils Holgerssons underbara resa genom Sverige
#Manzoni 1601: Röda rummet

### Austria ###
#Manzoni 1700: Die Verwandlung
#Manzoni 1701: Der Mann ohne Eigenschaften

### Denmark ###
#Manzoni 1800: Den lille Havfrue

### Ireland ###
#Manzoni 1900: Dracula
#Manzoni 1901: Ulysses (James Joyce)

### Netherlands ###
#Manzoni 2000: Max Havelaar

### Dai Nam ###
#Manzoni 2100: Tang Thương Ngẫu Lục

### Russia ###
#Manzoni 2200: A duel for Honor (Pushkin death (?) event)

###################

#Manzoni 2: The audience changes its taste (hidden)
manzoni.2 = {
	dlc = dlc_morgenrote

	type = country_event
	
	hidden = yes

	trigger = {
		has_technology_researched = elgar_classicism_tech
	}

	immediate = {
		manzoni_taste_change_effect = yes
	}
}

#Manzoni 3: The audience changes its taste (Notification)
manzoni.3 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = {
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_juvenile_var
			}
			desc = manzoni.3.t_juvenile
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_crime_var
			}
			desc = manzoni.3.t_crime
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_adventure_var
			}
			desc = manzoni.3.t_adventure
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_science_var
			}
			desc = manzoni.3.t_science
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_social_var
			}
			desc = manzoni.3.t_social
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_literary_var
			}
			desc = manzoni.3.t_literary
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_devotional_var
			}
			desc = manzoni.3.t_devotional
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_romance_var
			}
			desc = manzoni.3.t_romance
		}
	}
	desc = manzoni.3.d
	flavor = {
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_juvenile_var
			}
			desc = manzoni.3.f_juvenile
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_crime_var
			}
			desc = manzoni.3.f_crime
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_adventure_var
			}
			desc = manzoni.3.f_adventure
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_science_var
			}
			desc = manzoni.3.f_science
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_social_var
			}
			desc = manzoni.3.f_social
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_literary_var
			}
			desc = manzoni.3.f_literary
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_devotional_var
			}
			desc = manzoni.3.f_devotional
		}
		triggered_desc = {
			trigger = {
				has_variable = manzoni_taste_romance_var
			}
			desc = manzoni.3.f_romance
		}
	}

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_literary_society.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Tastes and fashions come and go.
		name = manzoni.3.g
		default_option = yes
	}
}

#Manzoni 10: A new Publisher
manzoni.10 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.10.t

	desc = manzoni.10.d

	flavor = manzoni.10.f

	placement = scope:manzoni_publisher_state

	duration = 3

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_american_publisher.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		owner = {
			set_variable = manzoni_publisher_inauguration_happened
		}
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_manzoni_publishing_industry
					level > 0
				}
			}
			save_scope_as = manzoni_publisher_state
		}
	}

	option = {
		name = manzoni.10.i #I think the publisher will entertain people well
		scope:manzoni_publisher_state = {
			add_loyalists_in_state = {
				value = 0.02
			}
		}
		random_list = {
			75 = {}
			25 = {
				scope:manzoni_publisher_state = {
					activate_production_method = {
						building_type = building_manzoni_publishing_industry
						production_method = manzoni_pm_publisher_public
					}
				}
			}
		}
	}

	option = {
		name = manzoni.10.g #Certainly a publisher of higher literature.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = { AMOUNT = 30 }
		random_list = {
			75 = {}
			25 = {
				scope:manzoni_publisher_state = {
					activate_production_method = {
						building_type = building_manzoni_publishing_industry
						production_method = manzoni_pm_publisher_literary
					}
				}
			}
		}
	}

	option = {
		name = manzoni.10.h #This is a scientific publisher, isn't it?
		elgar_small_add_technology = yes
		random_list = {
			75 = {}
			25 = {
				scope:manzoni_publisher_state = {
					activate_production_method = {
						building_type = building_manzoni_publishing_industry
						production_method = manzoni_pm_publisher_scientific
					}
				}
			}
		}
	}

	option = {
		name = manzoni.10.j #An art publisher, that would be great!
		artists_add_x_artistic_progress = {
			AMOUNT = 50
		}
		random_list = {
			75 = {}
			25 = {
				scope:manzoni_publisher_state = {
					activate_production_method = {
						building_type = building_manzoni_publishing_industry
						production_method = manzoni_pm_publisher_art
					}
				}
			}
		}
	}

	after = {
		scope:manzoni_publisher_scope = {
			free_character_from_void = no
		}
	}
}

#Manzoni 11: Public Publisher
manzoni.11 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.11.t

	desc = manzoni.11.d

	flavor = manzoni.11.f

	placement = scope:manzoni_publisher_state

	duration = 3

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_american_publisher.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		manzoni_has_publisher_general = yes
		manzoni_has_publisher_public = no
		market.mg:manzoni_prints = {
			market_goods_has_goods_shortage = yes
		}
		any_scope_building = {
			is_building_type = building_manzoni_publishing_industry
			rich_building_trigger = yes
			level >= 4
		}
		has_modifier = manzoni_thriving_book_industry_modifier
	}

	immediate = {
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
		random_scope_state = {
			limit = {
				is_production_method_active = {
					building_type = building_manzoni_publishing_industry
					production_method = manzoni_pm_publisher_general
				}
			}
			save_scope_as = manzoni_publisher_state
		}
	}

	option = {
		name = manzoni.11.g #This publisher is a cornerstone of our book industry.
		scope:manzoni_publisher_state = {
			activate_production_method = {
				building_type = building_manzoni_publishing_industry
				production_method = manzoni_pm_publisher_public
			}
		}
	}

	after = {
		scope:manzoni_publisher_scope = {
			free_character_from_void = no
		}
	}
}

#Manzoni 12: Literary Publisher
manzoni.12 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.12.t

	desc = manzoni.12.d

	flavor = manzoni.12.f

	placement = scope:manzoni_publisher_state

	duration = 3

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_american_publisher.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		manzoni_has_publisher_general = yes
		manzoni_has_publisher_literary = no
		manzoni_writer_meets_taste_trigger = yes
		manzoni_has_great_writer = yes
	}

	immediate = {
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
		random_scope_state = {
			limit = {
				is_production_method_active = {
					building_type = building_manzoni_publishing_industry
					production_method = manzoni_pm_publisher_general
				}
			}
			save_scope_as = manzoni_publisher_state
		}
	}

	option = {
		name = manzoni.12.g #This publisher is a cornerstone of our cultural sector.
		scope:manzoni_publisher_state = {
			activate_production_method = {
				building_type = building_manzoni_publishing_industry
				production_method = manzoni_pm_publisher_literary
			}
		}
	}

	after = {
		scope:manzoni_publisher_scope = {
			free_character_from_void = no
		}
	}
}

#Manzoni 13: Scientific Publisher
manzoni.13 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.13.t

	desc = manzoni.13.d

	flavor = manzoni.13.f

	placement = scope:manzoni_publisher_state

	duration = 3

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_american_publisher.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		manzoni_has_publisher_general = yes
		manzoni_has_publisher_scientific = no
	}

	immediate = {
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
		random_scope_state = {
			limit = {
				is_production_method_active = {
					building_type = building_manzoni_publishing_industry
					production_method = manzoni_pm_publisher_general
				}
			}
			save_scope_as = manzoni_publisher_state
		}
	}

	option = {
		name = manzoni.13.g #This publisher is a cornerstone of our cultural sector.
		scope:manzoni_publisher_state = {
			activate_production_method = {
				building_type = building_manzoni_publishing_industry
				production_method = manzoni_pm_publisher_scientific
			}
		}
	}

	after = {
		scope:manzoni_publisher_scope = {
			free_character_from_void = no
		}
	}
}

#Manzoni 14: Art Publisher
manzoni.14 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.14.t

	desc = manzoni.14.d

	flavor = manzoni.14.f

	placement = scope:manzoni_publisher_state

	duration = 3

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_american_publisher.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		manzoni_has_publisher_general = yes
		manzoni_has_publisher_art = no
	}

	immediate = {
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
		random_scope_state = {
			limit = {
				is_production_method_active = {
					building_type = building_manzoni_publishing_industry
					production_method = manzoni_pm_publisher_general
				}
			}
			save_scope_as = manzoni_publisher_state
		}
	}

	option = {
		name = manzoni.13.g #This publisher is a cornerstone of our cultural sector.
		scope:manzoni_publisher_state = {
			activate_production_method = {
				building_type = building_manzoni_publishing_industry
				production_method = manzoni_pm_publisher_art
			}
		}
	}

	after = {
		scope:manzoni_publisher_scope = {
			free_character_from_void = no
		}
	}
}

################################################################################

#Manzoni 101: [Work Title] published (Masterwork event)
manzoni.101 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.101.t
	desc = manzoni.101.d
	flavor = manzoni.101.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Fantastic
		name = manzoni.101.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 102: Writer becomes Universal Writer
manzoni.102 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.102.t
	desc = manzoni.102.d
	flavor = manzoni.102.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
		scope:manzoni_writer_scope = {
			add_trait = manzoni_universal_writer
		}
	}

	option = { #Fantastic
		name = manzoni.102.g
		default_option = yes

		manzoni_add_x_literary_tradition_effect = { AMOUNT = 30 }
		writer_experience_gain_effect = { AMOUNT = 50 }
	}
}

################################################################################

### Publisher & Writers Events ###

#Manzoni 301-310: Rise and Fall of the Industry, Bibliomania

#Manzoni 301: Bibliomania
manzoni.301 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.301.t

	desc = manzoni.301.d

	flavor = manzoni.301.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookclub.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		country_has_building_type_levels = {  
			target = bt:building_manzoni_publishing_industry
			value  >= 5
		}
		literacy_rate >= 0.5
		OR = {
			has_modifier = manzoni_thriving_book_industry_modifier
			manzoni_has_great_writer = yes
		}
		NOT = {
			any_primary_culture = {
				has_cultural_obsession = manzoni_prints
			}
		}
	}

	immediate = {
		random_primary_culture = {
			limit = {
				NOT = { has_cultural_obsession = manzoni_prints }
			}
			save_scope_as = print_addict_culture
		}
	}

	option = {
		name = manzoni.301.g #But everyone knows how dangerous reading is!
		default_option = yes
		elgar_medium_add_technology = yes
		scope:print_addict_culture = {
			add_cultural_obsession = manzoni_prints
		}
	}
}

#Manzoni 302: Has bibliomania passed its peak?
manzoni.302 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.302.t

	desc = manzoni.302.d

	flavor = manzoni.302.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookclub.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		NOT = {
			has_modifier = manzoni_reading_campaign_modifier
		}
		manzoni_has_great_writer = no
		any_primary_culture = {
			has_cultural_obsession = manzoni_prints
		}
		has_modifier = manzoni_weakening_book_industry_modifier
	}

	immediate = {
		random_primary_culture = {
			limit = {
				has_cultural_obsession = manzoni_prints
			}
			save_scope_as = print_addict_culture
		}
	}

	option = {
		name = manzoni.302.g #Books are boring anyway.
		default_option = yes
		scope:print_addict_culture = {
			remove_cultural_obsession = manzoni_prints
		}
	}

	option = {
		name = manzoni.302.h #Start a campaign to awaken the love of reading!
		add_modifier = {
			name = manzoni_reading_campaign_modifier
			years = 5
		}
		add_modifier = {
			name = manzoni_reading_campaign_cost_modifier
			multiplier = money_amount_multiplier_very_small
			years = 5
		}
	}
}

#Manzoni 303: Bookclub
manzoni.303 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.303.t

	desc = manzoni.303.d

	flavor = manzoni.303.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookclub.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		any_primary_culture = {
			has_cultural_obsession = manzoni_prints
		}
		any_scope_state = {
			is_production_method_active = {
				building_type = building_arts_academy
				production_method = pm_artists_arts_academy_salon
			}
			NOT = {
				has_modifier = manzoni_bookclub_modifier
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_production_method_active = {
					building_type = building_arts_academy
					production_method = pm_artists_arts_academy_salon
				}
				NOT = {
					has_modifier = manzoni_bookclub_modifier
				}
			}
			save_scope_as = manzoni_book_state
		}
		create_character = {
			female = yes
			save_scope_as = manzoni_bookmadame_scope
		}
		scope:manzoni_bookmadame_scope = {
			place_character_in_void = 120
		}
	}

	option = {
		name = manzoni.303.g #A fantastic initiative.
		default_option = yes
		scope:manzoni_book_state = {
			add_modifier = {
				name = manzoni_bookclub_modifier
			}
		}
	}

	after = {
		scope:manzoni_bookmadame_scope = {
			free_character_from_void = no
		}
	}
}

#Manzoni 304: Thriving Book Industry
manzoni.304 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.304.t

	desc = manzoni.304.d

	flavor = manzoni.304.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookshop.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		market.mg:manzoni_prints = {
			market_goods_has_goods_shortage = no
		}
		any_scope_building = {
			is_building_type = building_manzoni_publishing_industry
			rich_building_trigger = yes
			level >= 2
		}
		exists = ig:ig_industrialists
		ig:ig_industrialists = {
			is_marginal = no
		}
	}

	immediate = {
		random_scope_building = {
			limit = {
				is_building_type = building_manzoni_publishing_industry
				rich_building_trigger = yes
				level >= 2
			}
			save_scope_as = manzoni_publishing_industry_building
			state = {
				save_scope_as = manzoni_book_state
			}
		}
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
	}

	option = {
		name = manzoni.304.g #Produce even more books!
		add_modifier = {
			name = manzoni_thriving_book_industry_modifier
		}
		scope:manzoni_publishing_industry_building = {
			add_modifier = {
				name = manzoni_thriving_publisher_modifier
				years = 15
			}
		}
	}

	option = {
		name = manzoni.304.h #Produce high quality books.
		default_option = yes
		add_modifier = {
			name = manzoni_thriving_book_industry_modifier
		}
		manzoni_add_x_literary_tradition_effect = { AMOUNT = 15 }
	}

	after = {
	}
}

#Manzoni 311-320: Economy & Politics

#Manzoni 311: IG wants to buy bankrupt publisher
manzoni.311 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.311.t

	desc = manzoni.311.d

	flavor = manzoni.311.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookshop.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		manzoni_has_printing_industry = yes
		any_interest_group = {
    		is_marginal = no
			is_in_government = no
        }
	}

	immediate = {
		random_scope_state = {
			limit = {
				any_scope_building = {
					is_building_type = building_manzoni_publishing_industry
					level > 0
				}
			}
			save_scope_as = manzoni_book_state
		}
		random_interest_group = {
			limit = {
    			is_marginal = no
				is_in_government = no
			}
			save_scope_as = publisher_ig
			leader = {
				save_scope_as = publisher_ig_leader
			}
		}
	}

	option = {
		name = manzoni.311.g #If they save the company, why should we put obstacles in their way?
		default_option = yes
		scope:publisher_ig = {
			add_modifier = {
				name = manzoni_publisher_fusion_modifier
				years = 10
			}
		}
		scope:manzoni_book_state = {
			add_modifier = {
				name = manzoni_publisher_rescued_modifier
			}
		}
	}

	option = {
		name = manzoni.311.h #We cannot allow this political influence!
		scope:publisher_ig = {
			add_modifier = {
				name = manzoni_denied_publisher_fusion_modifier
				years = 5
			}
		}
		scope:manzoni_book_state = {
			add_modifier = {
				name = manzoni_publisher_crisis_modifier
			}
		}
	}

	after = {
	}
}

#Manzoni 312: A publisher critical of the government
manzoni.312 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.312.t

	desc = manzoni.312.d

	flavor = manzoni.312.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookshop.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		manzoni_has_printing_industry = yes
	}

	immediate = {
		random_scope_building = {
			limit = {
				is_building_type = building_manzoni_publishing_industry
			}
			save_scope_as = manzoni_publishing_industry_building
			state = {
				save_scope_as = manzoni_book_state
			}
		}
	}

	option = {
		name = manzoni.312.g #A few administrative acts could make their business more difficult.
		default_option = yes
		scope:manzoni_publishing_industry_building = {
			add_modifier = {
				name = manzoni_puplisher_stipulations_modifier
				years = 5
			}
		}
		every_interest_group = {
			limit = {
				is_in_government = no
			}
			add_modifier = {
				name = manzoni_political_headwind_modifier
				years = 5
			}
		}
	}

	option = {
		name = manzoni.312.h #We don't need dirty tricks like that.
		manzoni_add_x_publications_country_effect = { AMOUNT = 50 }
		every_interest_group = {
			limit = {
				is_in_government = no
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
	}

	after = {
	}
}

#Manzoni 321-330: Contracts and Success of Artists

#Manzoni 321: Publisher gets Book License
manzoni.321 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.321.t

	desc = manzoni.321.d

	flavor = manzoni.321.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookshop.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 10
	}

	trigger = {
		manzoni_has_printing_industry = yes
		manzoni_writer_meets_taste_trigger = no
		any_country = {
			has_diplomatic_relevance = ROOT
			manzoni_has_writer = yes
			var:manzoni_writer_var ?= {
				manzoni_foreign_writer_meets_taste_trigger = yes
			}
		}
	}

	immediate = {
		random_country = {
			limit = {
				has_diplomatic_relevance = ROOT
				manzoni_has_writer = yes
				var:manzoni_writer_var ?= {
					manzoni_foreign_writer_meets_taste_trigger = yes
				}
			}
			save_scope_as = manzoni_country_scope
			var:manzoni_writer_var = {
				save_scope_as = manzoni_writer_scope
			}
		}
		create_character = {
			save_scope_as = manzoni_publisher_scope
		}
		scope:manzoni_publisher_scope = {
			place_character_in_void = 120
		}
		random_primary_culture = {
			limit = {
				has_cultural_obsession = manzoni_prints
			}
			save_scope_as = print_addict_culture
		}
	}

	option = {
		name = manzoni.321.g #But why don't people read works by domestic authors?
		default_option = yes
		manzoni_add_x_publications_country_effect = { AMOUNT = 15 }
		add_modifier = {
			name = manzoni_thriving_book_industry_modifier
		}
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			add_loyalists = {
				value = 0.03
				culture = scope:print_addict_culture
			}
		}
		writer_experience_gain_effect = { AMOUNT = -5 }
	}

	after = {
		hidden_effect = {
			scope:manzoni_country_scope = {
				post_notification = manzoni_book_license_notification
				manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 10 }
				writer_experience_gain_effect = { AMOUNT = 25 }
			}
			scope:manzoni_writer_scope = {
				manzoni_add_x_book_license_character_effect = { AMOUNT = 1 }
			}
			if = {
				limit = {
					scope:manzoni_writer_scope = {
						var:manzoni_num_book_licenses_var >= 5
						NOT = {
							has_trait = manzoni_universal_writer
						}
					}
				}
				scope:manzoni_country_scope = {
					trigger_event = {
						id = manzoni.102
					}
				}
			}
		}
	}
}

#Manzoni 322: Foreign Pulp literature
manzoni.322 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.322.t

	desc = manzoni.322.d

	flavor = manzoni.322.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookclub.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 20
	}

	trigger = {
		manzoni_has_printing_industry = yes
		any_country = {
			has_diplomatic_relevance = ROOT
			manzoni_has_writer = yes
			var:manzoni_writer_var ?= {
				NOT = {
					has_trait = manzoni_great_writer
				}
				OR = {
					has_trait = manzoni_genre_crime_mystery
					has_trait = manzoni_genre_romance
					has_trait = manzoni_genre_juvenile
				}
			}
		}
	}

	immediate = {
		random_country = {
			limit = {
				has_diplomatic_relevance = ROOT
				manzoni_has_writer = yes
				var:manzoni_writer_var ?= {
					NOT = {
						has_trait = manzoni_great_writer
					}
					OR = {
						has_trait = manzoni_genre_crime_mystery
						has_trait = manzoni_genre_romance
						has_trait = manzoni_genre_juvenile
					}
				}
			}
			save_scope_as = manzoni_country_scope
			var:manzoni_writer_var = {
				save_scope_as = manzoni_writer_scope
			}
		}
		random_primary_culture = {
			limit = {
				has_cultural_obsession = manzoni_prints
			}
			save_scope_as = print_addict_culture
		}
	}

	option = {
		name = manzoni.322.g #Ban this foreign trash!
		default_option = yes
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 10 }
		add_modifier = {
			name = manzoni_censorship_machinery_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_pulp_literature_banned_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			add_loyalists = {
				value = 0.01
				culture = scope:print_addict_culture
			}
		}
	}

	option = {
		name = manzoni.322.h #If people want to read it then it can't be that bad.
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = -25 }
		manzoni_add_x_publications_country_effect = { AMOUNT = 50 }
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_pulp_literature_allowed_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			add_loyalists = {
				value = 0.01
				culture = scope:print_addict_culture
			}
		}
	}

	after = {
		hidden_effect = {
			scope:manzoni_country_scope = {
				post_notification = manzoni_book_license_notification
				manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 5 }
				writer_experience_gain_effect = { AMOUNT = 25 }
			}
		}
	}
}

#Manzoni 323: Pirated Copies
manzoni.323 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.323.t

	desc = manzoni.323.d

	flavor = manzoni.323.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_bookshop.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = 15
	}

	trigger = {
		manzoni_has_printing_industry = yes
		any_country = {
			country_rank > rank_value:major_power
			has_diplomatic_relevance = ROOT
			manzoni_has_great_writer = yes
		}
	}

	immediate = {
		random_country = {
			limit = {
				country_rank > rank_value:major_power
				has_diplomatic_relevance = ROOT
				manzoni_has_great_writer = yes
			}
			save_scope_as = manzoni_country_scope
			var:manzoni_writer_var = {
				save_scope_as = manzoni_writer_scope
			}
		}
		random_scope_building = {
			limit = {
				is_building_type = building_manzoni_publishing_industry
			}
			save_scope_as = manzoni_publishing_industry_building
			state = {
				save_scope_as = manzoni_book_state
			}
		}
		random_primary_culture = {
			limit = {
				has_cultural_obsession = manzoni_prints
			}
			save_scope_as = print_addict_culture
		}
	}

	option = {
		name = manzoni.323.g #Stop the printing presses until a contract is negotiated.
		default_option = yes
		manzoni_add_x_publications_country_effect = { AMOUNT = -20 }
		change_infamy = -3
		scope:manzoni_country_scope = {
			change_relations = {
				country = ROOT 
				value = 10
			}
		}
		scope:manzoni_publishing_industry_building = {
			add_modifier = {
				name = manzoni_stopped_pirated_copies_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			add_radicals = {
				value = 0.01
				culture = scope:print_addict_culture
			}
		}
	}

	option = {
		name = manzoni.322.h #Literature is for everyone.
		change_infamy = 3
		scope:manzoni_country_scope = {
			change_relations = {
				country = ROOT 
				value = -10
			}
		}
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			add_loyalists = {
				value = 0.01
				culture = scope:print_addict_culture
			}
		}
	}

	after = {
		hidden_effect = {
			scope:manzoni_country_scope = {
				post_notification = manzoni_book_license_notification
				manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 5 }
				writer_experience_gain_effect = { AMOUNT = 25 }
			}
		}
	}
}

#Manzoni 331-340: Writer's first destination
manzoni.331 = {
	dlc = dlc_morgenrote

	type = country_event

    title = manzoni.331.t
		
    desc = manzoni.331.d

	flavor = manzoni.331.f

	duration = 3
		
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_writer_destination_effect = yes
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #Farewell!
		name = manzoni.331.g
		default_option = yes
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 15 }
		scope:manzoni_writer_scope = {
			writer_experience_gain_effect = { AMOUNT = 20 }
		}
		set_variable = {
			name = manzoni_writer_num_destinations_var
			value = 1
		}
		scope:manzoni_writer_destination_scope = {
			change_relations = {
				country = ROOT
				value = 10
			}
		}
		if = {
			limit = {
				scope:manzoni_writer_destination_scope = {
					manzoni_has_writer = yes
				}
			}
			trigger_event = {
				id = manzoni.333
				days = { 21 28 }
			}
		}
		trigger_event = {
			id = manzoni.334
			days = { 90 120 }
		}
		hidden_effect = {
			scope:manzoni_writer_destination_scope = {
				trigger_event = {
					id = manzoni.332
				}
			}
		}
	}

	after = {
	}
}

#Manzoni 332: Writer arrives in Neighbour Country
manzoni.332 = {
	dlc = dlc_morgenrote

	type = country_event

    title = manzoni.332.t
		
    desc = manzoni.332.d

	flavor = manzoni.332.f

	duration = 3
		
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		if = {
			limit = {
				manzoni_has_printing_industry = yes
			}
			random_scope_building = {
				limit = {
					is_building_type = building_manzoni_publishing_industry
				}
				save_scope_as = manzoni_publishing_industry_building
				state = {
					save_scope_as = manzoni_publisher_state
				}
			}
		}
		if = {
			limit = {
				manzoni_has_salon = yes
			}
			random_scope_state = {
				limit = {
					is_production_method_active = {
						building_type = building_arts_academy
						production_method = pm_artists_arts_academy_salon
					}
				}
				save_scope_as = manzoni_salon_state
			}
		}
		random_primary_culture = {
			limit = {
				has_cultural_obsession = manzoni_prints
			}
			save_scope_as = print_addict_culture
		}
	}

	option = { #Arrange a meeting with a local publisher.
		name = manzoni.332.g
		default_option = yes
		trigger = {
			manzoni_has_printing_industry = yes
		}
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 5 }
		scope:manzoni_publishing_industry_building = {
			add_modifier = {
				name = manzoni_foreign_writer_publisher_modifier
				years = 3
			}
		}
	}
	option = { #Organize a public reading in the Literature Salon.
		name = manzoni.332.h
		trigger = {
			manzoni_has_salon = yes
		}
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 15 }
		scope:manzoni_salon_state = {
			add_modifier = {
				name = manzoni_foreign_writer_salon_modifier
				years = 3
			}
		}
	}
	option = { #The monarch wants a private presentation of his works.
		name = manzoni.332.i
		trigger = {
			has_law = law_type:law_monarchy
		}
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 5 }
		hidden_effect = {
			if = {
				limit = { has_modifier = manzoni_foreign_writer_monarch_modifier }
				while = {
					limit = {
						has_modifier = manzoni_foreign_writer_monarch_modifier
					}
					remove_modifier = manzoni_foreign_writer_monarch_modifier
				}
			}
		}
		add_modifier = {
			name = manzoni_foreign_writer_monarch_modifier
			years = 3
		}
		random_interest_group = {
			limit = {
				is_in_government = yes
			}
			add_modifier = {
				name = manzoni_foreign_writer_ig_modifier
				years = 3
			}
		}
	}
	option = { #Give him a warm welcome.
		name = manzoni.332.j
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 2 }
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			add_loyalists = {
				value = 0.01
				culture = scope:print_addict_culture
			}
		}
	}

	after = {
		set_variable = {
			name = manzoni_visit_by_universal_writer_var
			years = 3
		}
		if = {
			limit = {
				manzoni_has_writer = yes
			}
			var:manzoni_writer_var = {
				save_scope_as = manzoni_writer_2_scope
			}
			trigger_event = {
				id = manzoni.333
				days = { 21 28 }
			}
		}
	}
}

#Manzoni 333: Writer's meeting
manzoni.333 = {
	dlc = dlc_morgenrote

	type = country_event

    title = manzoni.333.t
		
    desc = manzoni.333.d

	flavor = manzoni.333.f

	duration = 3
		
	gui_window = event_window_2char

	left_icon = scope:manzoni_writer_scope
	right_icon = scope:manzoni_writer_2_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
	}

	option = { #Inspirational
		name = manzoni.333.g
		default_option = yes
		elgar_medium_add_technology = yes
	}
}

#Manzoni 334: Another destination?
manzoni.334 = {
	dlc = dlc_morgenrote

	type = country_event

    title = manzoni.334.t
		
    desc = manzoni.334.d

	flavor = manzoni.334.f

	duration = 3
		
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		manzoni_has_writer = yes
	}

	immediate = {
		manzoni_writer_destination_effect = yes
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #Farewell!
		name = manzoni.334.g
		default_option = yes
		trigger = {
			exists = scope:manzoni_writer_destination_scope
			NOT = {
				var:manzoni_writer_num_destinations_var > 5
			}
		}
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 15 }
		scope:manzoni_writer_scope = {
			writer_experience_gain_effect = { AMOUNT = 20 }
		}
		change_variable = {
			name = manzoni_writer_num_destinations_var
			add = 1
		}
		scope:manzoni_writer_destination_scope = {
			change_relations = {
				country = ROOT
				value = 10
			}
		}
		if = {
			limit = {
				scope:manzoni_writer_destination_scope = {
					manzoni_has_writer = yes
				}
			}
			trigger_event = {
				id = manzoni.333
				days = { 21 28 }
			}
		}
		trigger_event = {
			id = manzoni.334
			days = { 90 120 }
		}
		hidden_effect = {
			scope:manzoni_writer_destination_scope = {
				trigger_event = {
					id = manzoni.332
				}
			}
		}
	}
	option = { #Farewell!
		name = manzoni.334.h
		default_option = yes
		set_variable = {
			name = manzoni_writer_num_destinations_var
			value = 0
		}
		scope:manzoni_writer_scope = {
			set_variable = manzoni_reading_tour_var
			set_character_busy_and_immortal = no
		}
		remove_modifier = manzoni_writer_on_tour_modifier
	}

	after = {
	}
}

#Manzoni 341-350: Journal Entries

#Manzoni 341: Literary Cycle
manzoni.341 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.341.t

	desc = manzoni.341.d

	flavor = manzoni.341.f

	event_image = { 
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_literary_society.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		#Triggered by JE
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = {
		name = manzoni.341.g #This will significantly increase the literary culture of our country.
		default_option = yes
		writer_experience_gain_effect = { AMOUNT = 50 }
		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 50 }
		manzoni_add_x_publications_country_effect = { AMOUNT = 1000 }
	}

	option = {
		name = manzoni.341.h #This will inspire a new generation of artists.
		writer_experience_gain_effect = { AMOUNT = 50 }
		artists_add_x_artistic_progress = {
			AMOUNT = 250
		}
	}

	option = {
		name = manzoni.341.i #This literature circle will have a strong influence on our society.
		writer_experience_gain_effect = { AMOUNT = 50 }
		add_modifier = {
			name = manzoni_literary_cycle_modifier
			years = 10
		}
	}

	after = {
	}
}

### Political Events ###

### National Writers
# Manzoni 400: [Writer] critical of our government
manzoni.400 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.400.t
	desc = manzoni.400.d
	flavor = manzoni.400.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		NOT = { has_variable = manzoni_writer_warned_government_var }
		var:manzoni_writer_var ?= {
			interest_group = {
				OR = {
					is_being_suppressed = yes
					ig_approval < -2
				}
			}
		}
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #Maybe we should change something...
		name = manzoni.400.g
		default_option = yes

		set_variable = {
			name = manzoni_writer_warned_government_var
			years = 2
		}

		custom_tooltip = manzoni.400_tt
	}
}

# Manzoni 401: [Writer] is no longer a National Writer
manzoni.401 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.401.t
	desc = manzoni.401.d
	flavor = manzoni.401.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		has_variable = manzoni_writer_warned_government_var
		var:manzoni_writer_var ?= {
			interest_group = {
				OR = {
					is_being_suppressed = yes
					ig_approval < -2
				}
			}
		}
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #Oh no! Anyways!
		name = manzoni.401.g
		default_option = yes

		set_writer_local_writer_effect = yes
		remove_variable = manzoni_writer_warned_government_var
	}
}

### Local Writers ###
# Manzoni 500: [Writer] fed up with government
manzoni.500 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.500.t
	desc = manzoni.500.d
	flavor = manzoni.500.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		any_in_list = {
			variable = mr_local_writers_list

			NOT = { has_variable = manzoni_recently_prevented_agitator_var }
			popularity >= 40
			interest_group = {
				OR = {
					is_being_suppressed = yes
					ig_approval <= -5
				}
			}
		}
	}

	immediate = {
		random_in_list = {
			variable = mr_local_writers_list
			limit = {
				NOT = { has_variable = manzoni_recently_prevented_agitator_var }
				popularity >= 40
				interest_group = {
					OR = {
						is_being_suppressed = yes
						ig_approval <= -5
					}
				}
			}

			save_scope_as = manzoni_writer_scope
			interest_group = {
				save_scope_as = manzoni_writer_ig_scope
			}
		}
	}

	option = { #Fine.
		name = manzoni.500.g
		default_option = yes

		#Makes the Writer become an agitator
		scope:manzoni_writer_scope = {
			set_writer_to_agitator_character_scope_effect = yes
		}

		ai_chance = {
			base = 5
		}
	}

	option = { #Do everything possible to stop [HerHim]!
		name = manzoni.500.h

		trigger = {
			NOR = {
				has_law = law_type:law_outlawed_dissent
				has_law = law_type:law_censorship
			}
		}

		#Makes the interest group even more angry
		scope:manzoni_writer_ig_scope = {
			add_modifier = {
				name = manzoni_did_not_allow_writer_become_agitator_modifier
				years = 5
				is_decaying = yes
			}
		}
		
		#Adds Radicals to a primary culture that has an obsession for prints
		if = {
			limit = {
				any_primary_culture = {
					has_cultural_obsession = manzoni_prints
				}
			}
			random_primary_culture = {
				limit = { has_cultural_obsession = manzoni_prints }
			}
			add_radicals = {
				value = 0.03
			}
		}

		#Adds a variable to the writer to not fire the same event for them again in the next 5 years.
		scope:manzoni_writer_scope = {
			set_variable = {
				name = manzoni_recently_prevented_agitator_var
				years = 5
			}
		}

		ai_chance = {
			base = 0
		}
	}

	option = { #No.
		name = manzoni.500.i
		trigger = {
			has_law = law_type:law_censorship
		}

		#Makes the interest group even more angry
		scope:manzoni_writer_ig_scope = {
			add_modifier = {
				name = manzoni_did_not_allow_writer_become_agitator_censorship_modifier
				years = 2
				is_decaying = yes
			}
		}

		#Adds a variable to the writer to not fire the same event for them again in the next 5 years.
		scope:manzoni_writer_scope = {
			set_variable = {
				name = manzoni_recently_prevented_agitator_var
				years = 5
			}
		}

		ai_chance = {
			base = 100
		}
	}

	option = { #Good Joke!
		name = manzoni.500.j
		trigger = {
			has_law = law_type:law_outlawed_dissent
		}

		#Adds a variable to the writer to not fire the same event for them again in the next 5 years.
		scope:manzoni_writer_scope = {
			set_variable = {
				name = manzoni_recently_prevented_agitator_var
				years = 5
			}
		}

		ai_chance = {
			base = 1000
		}
	}
}

# Manzoni 510: [Agitator] focuses on writing
manzoni.510 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.510.t
	desc = manzoni.510.d
	flavor = manzoni.510.f

	cooldown = {
		years = { 3 10 }
	}

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		trigger_if = {
			limit = { has_variable_list = mr_local_writers_list }
			variable_list_size = {
				name = mr_local_writers_list
				value < 3
			}
		}
		any_scope_character = {
			has_role = agitator
			has_trait = literary
			interest_group = {
				ig_approval >= 10
			}
		}
	}

	immediate = {
		random_scope_character = {
			limit = {
				has_role = agitator
				has_trait = literary
				interest_group = {
					ig_approval >= 10
				}
			}
			save_scope_as = manzoni_writer_scope
			interest_group = {
				save_scope_as = manzoni_writer_ig_scope
			}
		}
	}

	option = { #I hope [SheHe] will create fantastic works!
		name = manzoni.510.g
		default_option = yes

		scope:manzoni_writer_scope = {
			set_character_as_local_writer_character_scope_effect = yes
		}
	}

	option = { #I think [SheHe] should stay in politics.
		name = manzoni.510.h
		trigger = {
			is_player = yes
		}

		scope:manzoni_writer_ig_scope = {
			add_modifier = {
				name = manzoni_did_not_allow_politician_to_become_writer_modifier
				years = 3
				is_decaying = yes
			}
		}
	}
}

# Manzoni 511: [Politician] focuses on writing
manzoni.511 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.510.t
	desc = manzoni.510.d
	flavor = manzoni.510.f

	cooldown = {
		years = { 3 10 }
	}

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		trigger_if = {
			limit = { has_variable_list = mr_local_writers_list }
			variable_list_size = {
				name = mr_local_writers_list
				value < 3
			}
		}
		any_scope_character = {
			has_role = politician
			has_trait = literary
			is_ruler = no
			is_busy = no
			interest_group = {
				ig_approval >= 10
			}
		}
	}

	immediate = {
		random_scope_character = {
			limit = {
				has_role = politician
				has_trait = literary
				is_ruler = no
				is_busy = no
				interest_group = {
					ig_approval >= 10
				}
			}
			save_scope_as = manzoni_writer_scope
			interest_group = {
				save_scope_as = manzoni_writer_ig_scope
			}
		}
	}

	option = { #I hope [SheHe] will create fantastic works!
		name = manzoni.510.g
		default_option = yes

		scope:manzoni_writer_scope = {
			set_character_as_local_writer_character_scope_effect = yes
		}
	}

	option = { #I think [SheHe] should stay in politics.
		name = manzoni.510.h
		trigger = {
			is_player = yes
		}

		scope:manzoni_writer_ig_scope = {
			add_modifier = {
				name = manzoni_did_not_allow_politician_to_become_writer_modifier
				years = 3
				is_decaying = yes
			}
		}
	}
}

# Manzoni 590: A local Writer appears
manzoni.590 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.590.t
	desc = manzoni.590.d
	flavor = manzoni.590.f

	cooldown = {
		years = { 5 10 }
	}

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_new_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		NOT = { is_country_type = decentralized }
		trigger_if = {
			limit = { has_variable_list = mr_local_writers_list }
			variable_list_size = {
				name = mr_local_writers_list
				value <= 3
			}
		}
	}

	immediate = {
		create_new_writer_effect = yes
	}

	option = { #More writers are always good!
		name = manzoni.590.g
		default_option = yes

		manzoni_set_new_writer_local_writer_effect = yes
	}

	weight_multiplier = {
		base = 1
		modifier = {
			OR = {
				country_has_state_religion = rel:sunni
				country_has_state_religion = rel:shiite
				country_has_state_religion = rel:hindu
			}
			factor = 2
		}
		modifier = {
			any_primary_culture = {
				OR = {
					has_discrimination_trait = korean_language
					has_discrimination_trait = han_chinese
					has_discrimination_trait = yamato
				}
			}
			factor = 2
		}
		modifier = {
			literacy_rate >= 20
			factor = 1.5
		}
		modifier = {
			literacy_rate >= 40
			factor = 1.5
		}
		modifier = {
			literacy_rate >= 60
			factor = 1.5
		}
		modifier = {
			literacy_rate >= 80
			factor = 1.5
		}
		modifier = {
			any_scope_building = {
				is_building_type = building_manzoni_publishing_industry
			}
			factor = 1.5
		}
		modifier = {
			manzoni_x_or_more_local_writers_trigger = { AMOUNT = 1 }
			factor = 0.5
		}
		modifier = {
			manzoni_x_or_more_local_writers_trigger = { AMOUNT = 1 }
			factor = 0.1
		}
	}
}

###################

### National Library ###

# Manzoni 600: National Library Inauguration
manzoni.600 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.600.t

	desc = manzoni.600.d

	flavor = manzoni.600.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_library.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		owner = {
			set_variable = manzoni_library_inauguration_happened
		}
		create_character = {
			save_scope_as = manzoni_librarian_scope
		}
		scope:manzoni_librarian_scope = {
			place_character_in_void = 120 #Will not be killed!
		}
	}

	option = {
		name = manzoni.600.g #Champagne, Champagne!
		default_option = yes
		dubois_add_x_academy_progress = {
			AMOUNT = 25
		}
		artists_add_x_artistic_progress = {
			AMOUNT = 25
		}
	}

	after = {
		manzoni_update_library_effect = yes
	}
}

# Manzoni 601: Dissolve Library
manzoni.601 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.601.t
	desc = manzoni.601.d
	flavor = manzoni.601.f

	duration = 3

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_library.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		has_technology_researched = realism
		any_scope_state = {
			is_capital = no
			has_building = building_manzoni_library
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_capital = no
				has_building = building_manzoni_library
			}
			save_scope_as = manzoni_library_state
			random_scope_building = {
				limit = {
					is_building_type = building_manzoni_library
				}
				save_scope_as = manzoni_library_building
			}
		}
	}

	option = {
		name = manzoni.601.g
		default_option = yes

		trigger = {
			any_scope_state = {
				is_capital = yes
				has_building = building_manzoni_library
			}
		}
		scope:manzoni_library_state = {
			if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_great
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 50000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_excellent
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 25000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_large
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 10000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_medium
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 5000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_small
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 2500 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_tiny
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 1250 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_new
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 500 }
				}
			}
		}
		scope:manzoni_library_state = {
			remove_building = building_manzoni_library
		}
	}

	option = {
		name = manzoni.601.h

		trigger = {
			any_scope_state = {
				is_capital = yes
				NOT = {
					has_building = building_manzoni_library
				}
			}
		}
		random_scope_state = {
    		limit = { 
				is_capital = yes
			}
    		create_building={
				building="building_manzoni_library"
				level=1
				reserves=1
			}
			activate_building = {
				building = "building_manzoni_library"
			}
  		}
		scope:manzoni_library_state = {
			if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_great
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 50000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_excellent
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 25000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_large
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 10000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_medium
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 5000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_small
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 2500 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_tiny
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 1250 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_new
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 500 }
				}
			}
		}
		scope:manzoni_library_state = {
			remove_building = building_manzoni_library
		}
	}
}

# Manzoni 610: Plunder the Library
manzoni.610 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.610.t

	desc = manzoni.610.d

	flavor = manzoni.610.f

	placement = scope:manzoni_library_state 

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_library.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		is_at_war = yes
		manzoni_has_library = yes
		any_state = {
			controller = ROOT
			NOT = {
				owner = ROOT
			}
			NOT = {
				has_modifier = manzoni_sacked_library_modifier
			}
			
			NOT = {
				has_modifier = manzoni_library_protected_state_modifier
			}
			has_building = building_manzoni_library
		}
	}

	immediate = {
		random_state = {
			limit = {
				controller = ROOT
				NOT = {
					owner = ROOT
				}
				NOT = {
					has_modifier = manzoni_sacked_library_modifier
				}
				NOT = {
					has_modifier = manzoni_library_protected_state_modifier
				}
				has_building = building_manzoni_library
			}
			save_scope_as = manzoni_library_state
			owner = {
				save_scope_as = manzoni_library_country
			}
			random_scope_building = {
				limit = {
					is_building_type = building_manzoni_library
				}
				save_scope_as = manzoni_library_building
			}
		}
	}

	option = { #Plunder the library!
		name = manzoni.610.g
		default_option = yes
		change_infamy = 3
		scope:manzoni_library_state = {
			if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_great
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 50000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_excellent
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 25000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_large
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 10000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_medium
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 5000 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_small
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 2500 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_tiny
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 1250 }
				}
			}
			else_if = {
				limit = {
					is_production_method_active = {
						building_type = building_manzoni_library
						production_method = manzoni_pm_library_new
					}
				}
				ROOT = {
					manzoni_add_x_publications_country_effect = { AMOUNT = 500 }
				}
			}
			add_modifier = {
				name = manzoni_sacked_library_modifier
				years = 5
			}
			owner = {
				change_relations = {
					country = ROOT 
					value = -25
				}
				trigger_event = {
					id = manzoni.611
				}
			}
		}
		scope:manzoni_library_building = {
			add_modifier = {
				name = manzoni_library_chaos_modifier
				years = 5
			}
		}
	}

	option = { #Remain civilized
		name = manzoni.610.h
		change_infamy = -3
		scope:manzoni_library_state = {
			add_modifier = {
				name = manzoni_library_protected_state_modifier
				years = 3
			}
			owner = {
				change_relations = {
					country = ROOT 
					value = 10
				}
			}
		}
	}

	after = {
	}
}


# Manzoni 611: National Library plundered
manzoni.611 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.611.t

	desc = manzoni.611.d

	flavor = manzoni.611.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_library.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		random_scope_building = {
			limit = {
				is_building_type = building_manzoni_library
			}
			save_scope_as = manzoni_library_building
			state = {
				save_scope_as = manzoni_library_state
			}
		}
	}

	option = { #They did WHAT?!
		name = manzoni.611.g
		default_option = yes
	}

	after = {
	}
}

################################################################################

#Manzoni 801: Beautiful Illustrations
manzoni.801 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.801.t
	desc = manzoni.801.d
	flavor = manzoni.801.f

	gui_window = event_window_2char

	left_icon = scope:manzoni_writer_scope
	right_icon = scope:klimt_painter_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = { 7 12 }
	}

	trigger = {
		manzoni_has_writer_no_tooltip = yes
		klimt_has_painter_no_tooltip = yes
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
		var:klimt_painter_var = {
			save_scope_as = klimt_painter_scope
		}
	}

	option = { #The details are incredible!
		name = manzoni.801.g
		default_option = yes

		manzoni_add_x_literary_tradition_unscaled_effect = { AMOUNT = 5 }
		klimt_add_x_painting_tradition_unscaled_effect = { AMOUNT = 5 }
		writer_experience_gain_effect = { AMOUNT = 10 }
		painter_experience_gain_effect = { AMOUNT = 10 }
	}

	option = { #This will become a bestseller!
		name = manzoni.801.h
		trigger = {
			var:manzoni_writer_var = {
				has_trait = manzoni_writer_fiction
			}
		}

		var:manzoni_writer_var = {
			add_modifier = {
				name = manzoni_beautiful_illustrations_modfier
				years = 4
			}
		}
		custom_tooltip = manzoni.801.h_tt
		writer_experience_gain_effect = { AMOUNT = 10 }
		painter_experience_gain_effect = { AMOUNT = 10 }
	}

	after = {
	}
}

#Manzoni 802: Theories about Extraterrestrial Life
manzoni.802 = {
	dlc = dlc_morgenrote

	type = country_event

	title = manzoni.802.t
	desc = manzoni.802.d
	flavor = manzoni.802.f

	gui_window = event_window_2char

	left_icon = scope:manzoni_writer_scope
	right_icon = scope:verrier_astronomer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	cooldown = {
		years = { 7 12 }
	}

	trigger = {
		manzoni_has_writer_no_tooltip = yes
		var:manzoni_writer_var ?= {
			has_trait = manzoni_genre_science_fiction
		}
		verrier_has_astronomer_no_tooltip_trigger = yes
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
		var:verrier_astronomer_var = {
			save_scope_as = verrier_astronomer_scope
		}
	}

	option = { #Maybe we should search for extraterrestials?
		name = manzoni.802.g
		default_option = yes

		astronomer_experience_gain_effect = { AMOUNT = 15 }
		writer_experience_gain_effect = { AMOUNT = 10 }
	}

	option = { #They should write a book about their theories!
		name = manzoni.802.h
		trigger = {
			var:manzoni_writer_var = {
				has_trait = manzoni_writer_fiction
			}
		}

		var:manzoni_writer_var = {
			add_modifier = {
				name = manzoni_alien_theories_modfier
				years = 4
			}
		}
		custom_tooltip = manzoni.801.h_tt
	}

	option = { #Fascinating!
		name = manzoni.802.i

		verrier_medium_add_technology = yes
	}

	after = {
	}
}

################################################################################

#Manzoni 901: The Fate of Lucca (for Parma)
manzoni.901 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.901.t
	desc = manzoni.901.d
	flavor = manzoni.901.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_ruler_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = manzoni_duke_of_lucca_var
			}
			save_scope_as = manzoni_ruler_scope
			scope:manzoni_ruler_scope = {
				set_character_as_ruler = yes
			}
		}
	}

	option = { #Long live the $MONARCH$
		name = manzoni.901.g
		default_option = yes
	}
}

#Manzoni 902: The Fate of Lucca (for Tuscany)
manzoni.902 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.901.t
	desc = manzoni.901.d
	flavor = manzoni.901.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_ruler_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = manzoni_duke_of_lucca_var
			}
			save_scope_as = manzoni_ruler_scope
		}
		annex = c:LUC
	}

	option = { #Lucca is ours!
		name = manzoni.902.g
		default_option = yes
	}
}

#Manzoni 910: Roma Aeterna
manzoni.910 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = scope:manzoni_new_capital_scope
	
	title = manzoni.910.t
	desc = manzoni.910.d
	flavor = manzoni.910.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_roma.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = manzoni_old_capital_scope
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_LAZIO
			}
			save_scope_as = manzoni_new_capital_scope
		}
	}

	option = {
		name = manzoni.910.g #Viva Roma!
		default_option = yes
		if = {
			limit = {
				scope:manzoni_old_capital_scope = {
					has_building = building_lepsius_archaeological_museum
				}
				NOT = {
					scope:manzoni_new_capital_scope = {
						has_building = building_lepsius_archaeological_museum
					}
				}
			}
			scope:manzoni_old_capital_scope = {
				remove_building = building_lepsius_archaeological_museum
			}
			scope:manzoni_new_capital_scope = {
				create_building = {
					building = "building_lepsius_archaeological_museum"
				}
			}
		}
		if = {
			limit = {
				scope:manzoni_old_capital_scope = {
					has_building = building_dubois_zoo
				}
				NOT = {
					scope:manzoni_new_capital_scope = {
						has_building = building_dubois_zoo
					}
				}
			}
			scope:manzoni_new_capital_scope = {
				create_building = {
					building = "building_dubois_zoo"
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_dubois_zoo
							production_method = pm_paleontological_collection
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_dubois_zoo
						production_method = pm_paleontological_collection
					}
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_dubois_zoo
							production_method = pm_botanical_garden
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_dubois_zoo
						production_method = pm_botanical_garden
					}
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_dubois_zoo
							production_method = pm_specimen_collection
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_dubois_zoo
						production_method = pm_specimen_collection
					}
				}
			}
			scope:manzoni_old_capital_scope = {
				remove_building = building_dubois_zoo
			}
			
		}
		if = {
			limit = {
				scope:manzoni_old_capital_scope = {
					has_building = building_verrier_observatory
				}
				NOT = {
					scope:manzoni_new_capital_scope = {
						has_building = building_verrier_observatory
					}
				}
			}
			scope:manzoni_new_capital_scope = {
				create_building = {
					building = "building_verrier_observatory"
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_verrier_observatory
							production_method = pm_gaudi_magnetic_observatory
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_verrier_observatory
						production_method = pm_gaudi_magnetic_observatory
					}
				}
			}
			scope:manzoni_old_capital_scope = {
				remove_building = building_verrier_observatory
			}
		}
		set_capital = STATE_LAZIO
	}

	after = {
		lepsius_update_exhibition_effect = yes
		if = {
			limit = {
				has_variable = dubois_zoo_fourth_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_5
				}
			}
		}
		else_if = {
			limit = {
				has_variable = dubois_zoo_third_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_4
				}
			}
		}
		else_if = {
			limit = {
				has_variable = dubois_zoo_second_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_3
				}
			}
		}
		else_if = {
			limit = {
				has_variable = dubois_zoo_first_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_2
				}
			}
		}
		else = {
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_1
				}
			}
		}
		remove_variable = manzoni_roma_aeterna_var
	}
}

#Manzoni 911: An Italian Consciousness
manzoni.911 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = scope:united_italian_culture_state
	
	title = manzoni.911.t
	desc = manzoni.911.d
	flavor = manzoni.911.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		any_scope_state = {
			is_incorporated = yes
			state_region = {
				OR = {
					is_homeland = cu:north_italian
					is_homeland = cu:south_italian
				}
			}
			turmoil <= 0.15
			OR = {
				any_scope_building = {
					OR = {
						is_building_type = building_naval_base
						is_building_type = building_barracks
					}
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_university
					level >= 3
				}
				any_scope_building = {
					is_building_type = building_government_administration
					level >= 3
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 3
				}
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				state_region = {
					OR = {
						is_homeland = cu:north_italian
						is_homeland = cu:south_italian
					}
				}
				turmoil <= 0.15
				OR = {
					any_scope_building = {
						OR = {
							is_building_type = building_naval_base
							is_building_type = building_barracks
						}
						level >= 10
					}
					any_scope_building = {
						is_building_type = building_university
						level >= 3
					}
					any_scope_building = {
						is_building_type = building_government_administration
						level >= 3
					}
					any_scope_building = {
						is_building_type = building_urban_center
						level >= 3
					}
				}
			}
			save_scope_as = united_italian_culture_state
		}
	}

	option = {
		name = manzoni.911.g
		default_option = yes
		custom_tooltip = {
			text = manzoni_italian_consiousness_tt
			scope:united_italian_culture_state = {
				every_scope_pop = {
					limit = {
						culture = cu:north_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:south_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:north_italian
					remove_homeland = cu:south_italian
				}
			}
		}
	}
}

#Manzoni 912: A Pan-Italian Consciousness
manzoni.912 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.912.t
	desc = manzoni.912.d
	flavor = manzoni.912.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
		set_global_variable = manzoni_united_italian_nation_var
	}

	option = {
		name = manzoni.912.g #We've made the Italians!
		default_option = yes
		custom_tooltip = {
			text = manzoni_pan_italian_identity_tt
			every_character = {
				limit = {
					OR = {
						has_culture = cu:south_italian
						has_culture = cu:north_italian
					}
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:north_italian
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:south_italian
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					OR = {
						any_scope_pop = {
							culture = cu:north_italian
						}
						any_scope_pop = {
							culture = cu:south_italian
						}
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:north_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:south_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				if = {
					limit = {
						is_player = yes
					}
					trigger_event = {
						id = manzoni.913
					}
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:north_italian
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:north_italian
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:south_italian
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:south_italian
				}
			}
		}
		add_loyalists = {
			culture = cu:united_italian
			value = 0.05
		}
	}
}

#Manzoni 913: A Pan-Italian Consciousness (Notification)

manzoni.913 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.912.t
	desc = manzoni.913.d
	flavor = manzoni.912.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.913.g #Are you saying that there are no differences between a Sicilian fisherman and a Trentino shepherd?
		default_option = yes
		custom_tooltip = manzoni_pan_italian_identity_tt
	}
}

#Manzoni 914: Character becomes Italian

manzoni.914 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.914.t
	desc = manzoni.914.d
	flavor = manzoni.914.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_character_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		days = 120
	}
	
	trigger = {
		any_scope_character = {
			OR = {
				has_culture = cu:south_italian
				has_culture = cu:north_italian
			}
		}
	}

	immediate = {
		random_scope_character = {
			limit = {
				OR = {
					has_culture = cu:south_italian
					has_culture = cu:north_italian
				}
			}
			save_scope_as = manzoni_character_scope
		}
	}

	option = {
		name = manzoni.914.g #The days of campanilismo are over.
		default_option = yes
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 3
		}
		scope:manzoni_character_scope = {
			change_character_culture = cu:united_italian
		}
	}
}

#Manzoni 915: Brigants in $STATE$

manzoni.915 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.915.t
	desc = manzoni.915.d
	flavor = manzoni.915.f

	placement = scope:manzoni_brigant_state
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_briganti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		years = 2
	}
	
	trigger = {
		institution_investment_level = {
			institution = institution_social_security
			value < 2
		}
		institution_investment_level = {
			institution = institution_police
			value < 2
		}
		any_scope_state = {
			average_sol < 8
			is_incorporated = yes
			NOT = {
				has_modifier = manzoni_brigants_modifier
			}
		}
	}

	immediate = {
		create_character = {
			female = no
			save_scope_as = manzoni_brigant_character
		}
		random_scope_state = {
			limit = {
				average_sol < 8
				is_incorporated = yes
				NOT = {
					has_modifier = manzoni_brigants_modifier
				}
			}
			save_scope_as = manzoni_brigant_state
		}
	}

	option = {
		name = manzoni.915.g #Another bandit masquerading as Robin Hood!
		default_option = yes
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = -3
		}
		scope:manzoni_brigant_state = {
			add_modifier = {
				name = manzoni_brigants_modifier
				years = 15
			}
			add_radicals_in_state = {
				strata = poor
				value = 0.05
			}
		}
	}
}

#Manzoni 916: Fear for regional heritage

manzoni.916 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.916.t
	desc = manzoni.916.d
	flavor = manzoni.916.f

	placement = scope:manzoni_regionalist_state
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_rural_leader_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		years = 3
	}
	
	trigger = {
		any_scope_state = {
			is_incorporated = yes
			any_scope_building = {
				is_building_type = building_urban_center
				level <= 5
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_building = {
					is_building_type = building_urban_center
					level <= 5
				}
			}
			save_scope_as = manzoni_regionalist_state
		}
		ig:ig_rural_folk = {
			save_scope_as = manzoni_rural_ig_scope
			leader = {
				save_scope_as = manzoni_rural_leader_scope
			}
		}
	}

	option = {
		name = manzoni.916.g #STATE is an Italian region like any other.
		default_option = yes
		add_modifier = {
			name = manzoni_anti_regionalism_country_modifier
			years = 5
		}
		scope:manzoni_rural_ig_scope = {
			add_modifier = {
				name = manzoni_anti_regionalism_ig_modifier
				years = 5
			}
		}
		scope:manzoni_regionalist_state = {
			add_radicals_in_state = {
				value = 0.05
			}
		}
	}

	option = {
		name = manzoni.916.h #We should take this special heritage into account.
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = -20
		}
	}
}

#Manzoni 917: Dialects or languages?

manzoni.917 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.917.t
	desc = manzoni.917.d
	flavor = manzoni.917.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_intelligentsia_leader_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		years = 10
	}
	
	trigger = {
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = manzoni_intelligentsia_ig_scope
			leader = {
				save_scope_as = manzoni_intelligentsia_leader_scope
			}
		}
	}

	option = {
		name = manzoni.917.g #Our linguistic diversity is our prestige.
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = -20
		}
		scope:manzoni_intelligentsia_ig_scope = {
			add_modifier = {
				name = manzoni_linguistic_impurity_modifier
				years = 5
			}
		}
		add_loyalists = {
			strata = poor
			value = 0.03
		}
	}

	option = {
		name = manzoni.917.h #Speak Italian, speak clear.
		default_option = yes
		verrier_small_add_technology = yes
		lepsius_small_add_technology = yes
		dubois_small_add_technology = yes
		elgar_small_add_technology = yes
		add_radicals = {
			strata = poor
			value = 0.05
		}
	}
}

#Manzoni 918: Fate of Foscolo

manzoni.918 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.918.t
	desc = manzoni.918.d
	flavor = manzoni.918.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_foscolo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_foscolo_var
		}
		exists = c:GBR
	}

	immediate = {
		set_variable = manzoni_foscolo_var
	}

	option = {
		name = manzoni.918.g #Ask them to give us Foscolo.
		default_option = yes
		c:GBR = {
			trigger_event = {
				id = manzoni.919
				days = 7
			}
		}
	}

	option = {
		name = manzoni.918.h #We would be embarrassed if they said no.
	}
}

#Manzoni 919: Fate of Foscolo (for Great Britain)

manzoni.919 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.918.t
	desc = manzoni.919.d
	flavor = manzoni.918.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_foscolo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.919.g #They should have their petty little poet. What was his name again?
		default_option = yes
		change_infamy = -2
		change_relations = {
			country = c:ITA
			value = 10
		}
		set_global_variable = manzoni_foscolo_returns

		ai_chance = {
			base = 1
			modifier = { #Cordial relations
				trigger = {
					"relations(c:ITA)" >= relations_threshold:cordial
				}
				add = 1
			}
			modifier = { #Amicable relations
				trigger = {
					"relations(c:ITA)" >= relations_threshold:amicable
				}
				add = 1
			}	
			modifier = { #Defensive Pact
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = defensive_pact
					}
				}
				add = 2
			}	
			modifier = { #Customs Union
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = customs_union
					}
				}
				add = 2
			}
			modifier = { #Alliance
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = alliance
					}
				}
				add = 3
			}							
		}
	}

	option = {
		name = manzoni.919.h #The Fosco-guy stays here.
		custom_tooltip = manzoni_gbr_hits_ita_prestige_tt
		change_relations = {
			country = c:ITA
			value = -10
		}
		ai_chance = {
			base = 1
			modifier = { #Poor relations
				trigger = {
					"relations(c:ITA)" <= relations_threshold:poor
				}
				add = 1
			}
			modifier = { #Cold relations
				trigger = {
					"relations(c:ITA)" <= relations_threshold:cold
				}
				add = 1
			}	
			modifier = { #Embargo
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = embargo
					}
				}
				add = 5
			}	
			modifier = { #Rivalry
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = rivalry
					}
				}
				add = 10
			}							
		}
	}

	after = {
		c:ITA = {
			trigger_event = {
				id = manzoni.920
				days = 7
			}
		}
	}
}

#Manzoni 920: Foscolo returns/Foscolo denied

manzoni.920 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = {
		triggered_desc = {
			trigger = {
				has_global_variable = manzoni_foscolo_returns
			}
			desc = manzoni.920.t_foscolo
		}
		triggered_desc = {
			trigger = {
				NOT = {
					has_global_variable = manzoni_foscolo_returns
				}
			}
			desc = manzoni.920.t_no_foscolo
		}
	}
	desc = {
		triggered_desc = {
			trigger = {
				has_global_variable = manzoni_foscolo_returns
			}
			desc = manzoni.920.d_foscolo
		}
		triggered_desc = {
			trigger = {
				NOT = {
					has_global_variable = manzoni_foscolo_returns
				}
			}
			desc = manzoni.920.d_no_foscolo
		}
	}
	flavor = {
		triggered_desc = {
			trigger = {
				has_global_variable = manzoni_foscolo_returns
			}
			desc = manzoni.920.f_foscolo
		}
		triggered_desc = {
			trigger = {
				NOT = {
					has_global_variable = manzoni_foscolo_returns
				}
			}
			desc = manzoni.920.f_no_foscolo
		}
	}
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_foscolo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
		set_variable = manzoni_foscolo_var
	}

	option = {
		name = manzoni.920.g #A great Italian returns home!
		default_option = yes
		trigger = {
			has_global_variable = manzoni_foscolo_returns
		}
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 10
		}
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 10
		}
	}

	option = {
		name = manzoni.920.h #These sons of a one-legged cow are denying us our Foscolo!
		trigger = {
			NOT = {
				has_global_variable = manzoni_foscolo_returns
			}
		}
		add_modifier = {
			name = manzoni_no_foscolo_modifier
			years = 5
		}
	}
}

#Manzoni 921: Italian Music Culture

manzoni.921 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.921.t
	desc = manzoni.921.d
	flavor = manzoni.921.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_verdi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_opera_culture_var
		}
	}

	immediate = {
		set_variable = manzoni_opera_culture_var
	}

	option = {
		name = manzoni.921.g #Italy has a rich musical history.
		default_option = yes
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 5
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 100
		}
	}

	option = {
		name = manzoni.921.h #The future belongs to Italian musical culture!
		elgar_medium_add_technology = yes
	}
}

#Manzoni 922: Dante Cult

manzoni.922 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.922.t
	desc = manzoni.922.d
	flavor = manzoni.922.f

	placement = scope:manzoni_dante_state
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_dante_var
		}
		any_scope_state = {
			state_region = s:STATE_TUSCANY
		}
	}

	immediate = {
		set_variable = manzoni_dante_var
		random_scope_state = {
			limit = {
				state_region = s:STATE_TUSCANY
			}
			save_scope_as = manzoni_dante_state
		}
	}

	option = {
		name = manzoni.922.g #Support the Dante cult and build a monument in Florence.
		default_option = yes
		add_treasury = -100000
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 5
		}
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 10
		}
		scope:manzoni_dante_state = {
			add_loyalists_in_state = {
				value = 0.05
			}
		}
	}

	option = {
		name = manzoni.922.h #And torture future generations with tercets?
		scope:manzoni_dante_state = {
			add_radicals_in_state = {
				value = 0.02
			}
		}
	}
}

#Manzoni 923: An Italian Consciousness

manzoni.923 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = scope:united_italian_culture_state
	
	title = manzoni.911.t
	desc = manzoni.911.d
	flavor = manzoni.911.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		any_scope_state = {
			is_incorporated = yes
			state_region = {
				OR = {
					is_homeland = cu:corsican
					is_homeland = cu:ticinese
					is_homeland = cu:maltese
					is_homeland = cu:rumantsch
				}
			}
			turmoil <= 0.15
			OR = {
				any_scope_building = {
					OR = {
						is_building_type = building_naval_base
						is_building_type = building_barracks
					}
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_university
					level >= 5
				}
				any_scope_building = {
					is_building_type = building_government_administration
					level >= 5
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 5
				}
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				state_region = {
					OR = {
						is_homeland = cu:corsican
						is_homeland = cu:ticinese
						is_homeland = cu:maltese
						is_homeland = cu:rumantsch
					}
				}
				turmoil <= 0.15
				OR = {
					any_scope_building = {
						OR = {
							is_building_type = building_naval_base
							is_building_type = building_barracks
						}
						level >= 15
					}
					any_scope_building = {
						is_building_type = building_university
						level >= 5
					}
					any_scope_building = {
						is_building_type = building_government_administration
						level >= 5
					}
					any_scope_building = {
						is_building_type = building_urban_center
						level >= 5
					}
				}
			}
			save_scope_as = united_italian_culture_state
		}
	}

	option = {
		name = manzoni.911.g
		default_option = yes
		custom_tooltip = {
			text = manzoni_italian_consiousness_2_tt
			scope:united_italian_culture_state = {
				every_scope_pop = {
					limit = {
						culture = cu:corsican
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:ticinese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:maltese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:rumantsch
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:corsican
					remove_homeland = cu:ticinese
					remove_homeland = cu:maltese
					remove_homeland = cu:rumantsch
				}
			}
		}
	}
}

#Manzoni 924: Lingua del Sì

manzoni.924 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.924.t
	desc = manzoni.924.d
	flavor = manzoni.924.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.924.g #Italy is now also linguistically united!
		default_option = yes
		custom_tooltip = {
			text = manzoni_pan_italian_identity_tt
			every_character = {
				limit = {
					OR = {
						has_culture = cu:corsican
						has_culture = cu:ticinese
						has_culture = cu:maltese
						has_culture = cu:rumantsch
					}
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:corsican
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:ticinese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:maltese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:rumantsch
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					OR = {
						any_scope_pop = {
							culture = cu:corsican
						}
						any_scope_pop = {
							culture = cu:ticinese
						}
						any_scope_pop = {
							culture = cu:maltese
						}
						any_scope_pop = {
							culture = cu:rumantsch
						}
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:corsican
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:ticinese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:maltese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:rumantsch
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:corsican
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:corsican
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:ticinese
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:ticinese
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:maltese
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:maltese
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:rumantsch
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:rumantsch
				}
			}
		}
		add_loyalists = {
			culture = cu:united_italian
			value = 0.05
		}
	}
}

#Manzoni 925: Corsican integrated

manzoni.925 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.925.t
	desc = manzoni.925.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_corsican_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_CORSICA
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_corsican_integrated_var
	}

	option = {
		name = manzoni.925.g #Corsica, isola italiana!
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:corsican
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:corsican
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:corsican
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:corsican
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

#Manzoni 926: Ticinese integrated

manzoni.926 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.926.t
	desc = manzoni.926.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_ticinese_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_ticinese_integrated_var
	}

	option = {
		name = manzoni.925.g #Ticino, cantone italiano!
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:ticinese
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:ticinese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:ticinese
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:ticinese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

#Manzoni 927: Maltese integrated

manzoni.927 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.927.t
	desc = manzoni.927.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_maltese_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_MALTA
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_maltese_integrated_var
	}

	option = {
		name = manzoni.925.g #Ticino, cantone italiano!
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:maltese
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:maltese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:maltese
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:maltese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

#Manzoni 928: Rumantsch integrated

manzoni.928 = {
	dlc = dlc_morgenrote

	type = country_event
	
	title = manzoni.928.t
	desc = manzoni.928.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_rumantsch_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_SOUTH_TYROL
			state_region = {
				is_homeland = cu:united_italian
			}
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
			state_region = {
				is_homeland = cu:united_italian
			}
		}
		any_scope_state = {
			state_region = s:STATE_VENETIA
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_rumantsch_integrated_var
	}

	option = {
		name = manzoni.925.g #
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:rumantsch
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:rumantsch
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:rumantsch
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:rumantsch
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

######################################################################

###################

### Great Britain ###

# Manzoni 1000: Sherlock Holmes published
manzoni.1000 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1000.t
	desc = manzoni.1000.d
	flavor = manzoni.1000.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Elementary, my dear Watson.
		name = manzoni.1000.a
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

# Manzoni 1001: The Hobbit or There and Back Again
manzoni.1001 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1001.t
	desc = manzoni.1001.d
	flavor = manzoni.1001.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #What an amazing world he created!
		name = manzoni.1001.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

# Manzoni 1002: War of the Worlds
manzoni.1002 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1002.t
	desc = manzoni.1002.d
	flavor = manzoni.1002.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Are there really alien invaders out there?
		name = manzoni.1002.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

# Manzoni 1003: Treasure Island (Robert Louis Stevenson)
manzoni.1003 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1003.t
	desc = manzoni.1003.d
	flavor = manzoni.1003.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Argh!
		name = manzoni.1003.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

###################

### Switzerland ###

#Manzoni 1100: Heidi
manzoni.1100 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1100.t
	desc = manzoni.1100.d
	flavor = manzoni.1100.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1100.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1101: Kleider machen Leute
manzoni.1101 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1101.t
	desc = manzoni.1101.d
	flavor = manzoni.1101.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1101.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1102: Uli der Knecht
manzoni.1102 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1102.t
	desc = manzoni.1102.d
	flavor = manzoni.1102.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1102.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1103: Steppenwolf
manzoni.1103 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1103.t
	desc = manzoni.1103.d
	flavor = manzoni.1103.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1103.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1104: Histoire d'Albert
manzoni.1104 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1104.t
	desc = manzoni.1104.d
	flavor = manzoni.1104.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_toepffer.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1104.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1105: La Grande Peur dans la montagne
manzoni.1105 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1105.t
	desc = manzoni.1105.d
	flavor = manzoni.1105.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #What does fear do with us?
		name = manzoni.1105.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

###################

### Italy ###

#Manzoni 1200: Alessandro Manzoni, I Promessi Sposi
manzoni.1200 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1200.t
	desc = manzoni.1200.d
	flavor = manzoni.1200.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_promessi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_LOMBARDY
		}
		has_technology_researched = romanticism
		game_date >= 1842.1.1
		NOT = { 
			has_global_variable = manzoni_promessi_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_promessi_published_global_var
		}
	}

	option = {
		name = manzoni.1200.g #Who cares about a silly Italian novel?
		trigger = {
			NOR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		add_radicals = {
			value = 0.1
			culture = cu:north_italian
		}
		add_radicals = {
			value = 0.1
			culture = cu:south_italian
		}
	}

	option = {
		name = manzoni.1200.h #The peak of Italian culture!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 30
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_italian
						country_has_primary_culture = cu:north_italian
						country_has_primary_culture = cu:united_italian
					}
					NOT = {
						this = ROOT
					}
				}
				trigger_event = { 
					id = manzoni.1201
					popup = yes 
					days = { 1 7 }
				}
			}
		}
	}
}

#Manzoni 1201: Alessandro Manzoni, I Promessi Sposi
manzoni.1201 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1200.t
	desc = manzoni.1200.d
	flavor = manzoni.1200.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_promessi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.1200.h #The peak of Italian culture!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 30
		}
	}

	after = {
	}
}

#Manzoni 1202: Giacomo Leopardi, La Ginestra
manzoni.1202 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1202.t
	desc = manzoni.1202.d
	flavor = manzoni.1202.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_leopardi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_CAMPANIA
		}
		NOT = {
			game_date >= 1837.6.14 #Leopardi dies
		}
		NOT = { 
			has_global_variable = manzoni_ginestra_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_ginestra_published_global_var
		}
	}

	option = {
		name = manzoni.1202.g #How melancholic
		default_option = yes
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 10
		}
	}

	after = {
	}
}

#Manzoni 1203: Giosué Carducci, Rime Nuove
#manzoni.1203 = {
#	dlc = dlc_morgenrote
#
#	type = country_event
#	placement = ROOT
#
#	title = manzoni.1203.t
#	desc = manzoni.1203.d
#	flavor = manzoni.1203.f
#
#	event_image = {
#		texture = "gfx/event_pictures/manzoni_pictures/manzoni_carducci.dds"
#	}
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#
#	icon = "gfx/interface/icons/event_icons/event_literature.dds"
#
#	duration = 3
#
#	trigger = {
#		c:ITA ?= this
#		has_technology_researched = realism
#		game_date >= 1887.1.1
#		NOT = {
#			game_date >= 1907.2.16 #Carducci dies
#		}
#		NOT = { 
#			has_global_variable = manzoni_rime_published_global_var 
#		}
#	}
#
#	immediate = {
#		set_global_variable = {
#			name = manzoni_rime_published_global_var
#		}
#	}
#
#	option = {
#		name = manzoni.1203.g #The new national poet of Italy!
#		default_option = yes
#		manzoni_add_x_literary_tradition_effect = {
#			AMOUNT = 30
#		}
#	}
#
#	after = {
#	}
#}

#Manzoni 1204: Giovanni Pascoli, Myricae
#manzoni.1204 = {
#	dlc = dlc_morgenrote
#
#	type = country_event
#	placement = ROOT
#
#	title = manzoni.1204.t
#	desc = manzoni.1204.d
#	flavor = manzoni.1204.f
#
#	event_image = {
#		texture = "gfx/event_pictures/manzoni_pictures/manzoni_pascoli.dds"
#	}
#
#	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
#
#	icon = "gfx/interface/icons/event_icons/event_literature.dds"
#
#	duration = 3
#
#	trigger = {
#		c:ITA ?= this
#		has_technology_researched = elgar_irrationalism_tech
#		game_date >= 1891.1.1
#		NOT = {
#			game_date >= 1912.4.6 #Pascoli dies
#		}
#		NOT = { 
#			has_global_variable = manzoni_myricae_published_global_var 
#		}
#	}
#
#	immediate = {
#		set_global_variable = {
#			name = manzoni_myricae_published_global_var
#		}
#	}
#
#	option = {
#		name = manzoni.1204.g #A little great poet.
#		default_option = yes
#		manzoni_add_x_literary_tradition_effect = {
#			AMOUNT = 20
#		}
#	}
#
#	after = {
#	}
#}

#Manzoni 1205: Zeno's Conscience (Italo Svevo)
manzoni.1205 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1205.t
	desc = manzoni.1205.d
	flavor = manzoni.1205.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Is the author making fun of Sigmund Freud?
		name = manzoni.1105.g
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1206: Gabriele D'Annunzio, Il Piacere
manzoni.1206 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1206.t
	desc = manzoni.1206.d
	flavor = manzoni.1206.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dannunzio.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1889.1.1
		NOT = { 
			has_global_variable = manzoni_piacere_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_piacere_published_global_var
		}
	}

	option = {
		name = manzoni.1206.g #Is this symbolism or already decadence?
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 30
		}
	}

	after = {
	}
}

#Manzoni 1207: Pinocchio (Carlo Collodi)
manzoni.1207 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1207.t
	desc = manzoni.1207.d
	flavor = manzoni.1207.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1207.g #This children's tale would definitely have been more successful as a film.
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1208: Cuore (Edmondo de Amicis)
manzoni.1208 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1208.t
	desc = manzoni.1208.d
	flavor = manzoni.1208.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = {
		name = manzoni.1208.g #A patriotic novel for young Italians!
		scope:manzoni_writer_scope = {
			void_writer_experience_gain_effect = { AMOUNT = 50 }
			show_as_tooltip = {
				manzoni_add_x_bestseller_character_effect = { AMOUNT = 1 }
			}
			add_modifier = {
				name = manzoni_recently_published_bestseller_modifier
				months = 32
			}
		}
		add_loyalists = {
			value = 0.03
			culture = cu:north_italian
		}
		add_loyalists = {
			value = 0.03
			culture = cu:south_italian
		}
		add_loyalists = {
			value = 0.03
			culture = cu:united_italian
		}
	}

	option = {
		name = manzoni.1208.h #What a great book!
		default_option = yes
		manzoni_bestseller_event_option_effect = yes
	}

	after = {
	}
}

###################

### Germany ###

#Manzoni 1300: Heinrich Heine, Deutschland, ein Wintermärchen
manzoni.1300 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1300.t
	desc = manzoni.1300.d
	flavor = manzoni.1300.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_wintermaerchen.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		has_technology_researched = romanticism
		game_date >= 1843.1.1
		game_date <= 1845.1.1
		NOT = { 
			has_variable = manzoni_wintermaerchen_published_var #Note that this will trigger in every german state
		}
	}

	immediate = {
		set_variable = manzoni_wintermaerchen_published_var #Note that this will trigger in every german state
	}

	option = {
		name = manzoni.1300.g #It should be published.
		default_option = yes
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 15
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_very_bad_influence_modifier
				years = 5
			}
			add_modifier = {
				name = manzoni_heine_allowed_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					OR = {
						has_modifier = gaudi_dombau_phase_1_modifier
						has_modifier = gaudi_dombau_phase_2_modifier
						has_modifier = gaudi_dombau_phase_3_modifier
						has_modifier = gaudi_dombau_phase_4_modifier
					}
				}
			}
			trigger_event = {
				id = manzoni.1301
				days = { 5 10 }
			}
		}
	}

	option = {
		name = manzoni.1300.h #Ban and confiscate it!
		trigger = {
			has_law = law_type:law_outlawed_dissent
		}
		add_modifier = {
			name = manzoni_heine_banned_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_censored_modifier
				years = 5
			}
		}
	}

	option = {
		name = manzoni.1300.i #Censor it.
		trigger = {
			has_law = law_type:law_censorship
		}
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 5
		}
		add_modifier = {
			name = manzoni_censorship_machinery_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_bad_influence_modifier
				years = 5
			}
			add_modifier = {
				name = manzoni_heine_censored_modifier
				years = 5
			}
		}
	}

	after = {
	}
}

#Manzoni 1301: Heinrich Heine mocks Cologne Cathedral
manzoni.1301 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1301.t
	desc = manzoni.1301.d
	flavor = manzoni.1301.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_wintermaerchen.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.1301.g #Damn you, Heine!
		default_option = yes
		add_modifier = {
			name = manzoni_mocked_by_heine_modifier 
			years = 3
		}
	}

	after = {
	}
}

#Manzoni 1302: Joseph von Eichendorff, Mondnacht
manzoni.1302 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1302.t
	desc = manzoni.1302.d
	flavor = manzoni.1302.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_mondnacht.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		has_technology_researched = romanticism
		game_date >= 1837.1.1
		game_date <= 1848.1.1
		NOT = { 
			has_variable = manzoni_mondnacht_published_var #Note that this will trigger in every german state
		}
	}

	immediate = {
		set_variable = manzoni_mondnacht_published_var #Note that this will trigger in every german state
	}

	option = {
		name = manzoni.1302.g #Beautiful.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 12
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 5
		}
	}

	option = {
		name = manzoni.1302.h #So, instead of searching political freedom, germans are distracted by silly poems?
		every_interest_group = {
			limit = {
				is_in_government = no
			}
			add_modifier = {
				name = manzoni_michel_sleeps_modifier
				years = 3
			}
		}
	}

	after = {
	}
}

#Manzoni 1303: The Weavers in $STATE$
manzoni.1303 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1303.t
	desc = manzoni.1303.d
	flavor = manzoni.1303.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_weberaufstand.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3

	trigger = {
		game_date >= 1840.1.1
		game_date <= 1848.1.1
		NOT = { 
			has_global_variable = manzoni_weberaufstand_var
		}
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		any_scope_state = {
			has_building = building_textile_mills
			any_scope_pop = {
				is_pop_type = laborers
				standard_of_living < 15
			}
		}
	}

	immediate = {
		set_global_variable = manzoni_weberaufstand_var
		random_scope_state = {
			limit = {
				has_building = building_textile_mills
				any_scope_pop = {
					is_pop_type = laborers
					standard_of_living < 15
				}
			}
			save_scope_as = manzoni_weberaufstand_state
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = manzoni_weaver_revolt_suppression_modifier
				years = 5
			}
	    }
	}

	option = {
		name = manzoni.1303.g #Send the troops.
		default_option = yes
		add_modifier = {
			name = manzoni_suppressed_weaver_modifier
			years = 5
		}
		scope:manzoni_weberaufstand_state = {
			set_variable = manzoni_weberaufstand_state
			add_radicals_in_state = {
				value = 0.1
				pop_type = laborers
			}
			add_loyalists_in_state = {
				value = 0.5
				pop_type = capitalists
			}
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = manzoni_weaver_revolt_suppression_modifier
				years = 5
			}
	    }
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:south_german
						country_has_primary_culture = cu:united_german
					}
				}
				trigger_event = {
					id = manzoni.1304
					days = { 30 90 }
				}
			}
		}

		ai_chance = {
			base = 1
		}
	}

	option = {
		name = manzoni.1303.h #Negotiate
		add_modifier = {
			name = manzoni_negotiated_weaver_modifier
			years = 5
		}
		scope:manzoni_weberaufstand_state = {
			add_radicals_in_state = {
				value = 0.5
				pop_type = capitalists
			}
			add_loyalists_in_state = {
				value = 0.1
				pop_type = laborers
			}
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = manzoni_weaver_revolt_negotiation_modifier
				years = 5
			}
	    }

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Manzoni 1304: Heinrich Heine, Weberlied
manzoni.1304 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1304.t
	desc = manzoni.1304.d
	flavor = manzoni.1304.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_weberaufstand.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		random_country = {
			limit = {
				any_scope_state = {
					has_variable = manzoni_weberaufstand_state
				}
			}
			save_scope_as = manzoni_weberaufstand_country
		}
		random_state = {
			limit = {
				has_variable = manzoni_weberaufstand_state
			}
			save_scope_as = manzoni_weberaufstand_state
		}
	}

	option = {
		name = manzoni.1304.g #You again, Heine?
		default_option = yes
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 10
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_wage_subsidies
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_variable = manzoni_weberaufstand_state
				}
			}
			add_modifier = {
				name = manzoni_mocked_by_heine_modifier 
				years = 3
			}
		}
	}

	option = {
		name = manzoni.1304.h #Censor! Censor!
		trigger = {
			OR = {
				has_law = law_type:law_outlawed_dissent
				has_law = law_type:law_censorship
			}
		}
		add_modifier = {
			name = manzoni_censorship_machinery_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_variable = manzoni_weberaufstand_state
				}
			}
			add_modifier = {
				name = manzoni_mocked_by_heine_modifier 
				years = 3
			}
		}
	}

	after = {
	}
}

#Manzoni 1305: Gerhart Hauptmann, Die Weber
manzoni.1305 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1305.t
	desc = manzoni.1305.d
	flavor = manzoni.1305.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_weberaufstand.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:GER ?= this
		game_date >= 1892.1.1
		OR = {
			has_law = law_type:law_protected_speech
			has_law = law_type:law_right_of_assembly
		}
		has_technology_researched = realism
		any_scope_state = {
			has_variable = manzoni_weberaufstand_state
		}
		NOT = { 
			has_global_variable = manzoni_hauptmann_published_global_var 
		}
	}

	immediate = {
		set_global_variable = manzoni_hauptmann_published_global_var
		random_scope_state = {
			limit = {
				has_variable = manzoni_weberaufstand_state
			}
			save_scope_as = manzoni_weberaufstand_state
		}
	}

	option = {
		name = manzoni.1305.g #In Germany, even a gory tragedy becomes cultural heritage.
		default_option = yes
		manzoni_add_x_literary_tradition_unscaled_effect = {
			AMOUNT = 30
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_wage_subsidies
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
	}

	after = {
	}
}

#Manzoni 1306: Berlin Alexanderplatz (Alfred Döblin)
manzoni.1306 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1306.t
	desc = manzoni.1306.d
	flavor = manzoni.1306.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #A groundbreaking work of modernism.
		name = manzoni.1306.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1307: Buddenbrooks (Thomas Mann)
manzoni.1307 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1307.t
	desc = manzoni.1307.d
	flavor = manzoni.1307.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #TODO: ADD option loc
		name = manzoni.1307.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### France ###
#Manzoni 1400: Le Tour du monde en quatre-vingts jours
manzoni.1400 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1400.t
	desc = manzoni.1400.d
	flavor = manzoni.1400.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #I wonder if one day we will get around the world in a day?
		name = manzoni.1400.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1401: La Comédie humaine
manzoni.1401 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1401.t
	desc = manzoni.1401.d
	flavor = manzoni.1401.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #So, how do regular people live in France?
		name = manzoni.1401.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1402: Les Trois Mousquetaires
manzoni.1402 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1402.t
	desc = manzoni.1402.d
	flavor = manzoni.1402.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #One for all, all for one!
		name = manzoni.1402.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1403: Le Petit Prince (Saint-Exupéry)
manzoni.1403 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1403.t
	desc = manzoni.1403.d
	flavor = manzoni.1403.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #One for all, all for one!
		name = manzoni.1403.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1500: The Raven
manzoni.1500 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1500.t
	desc = manzoni.1500.d
	flavor = manzoni.1500.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #A dark shadow hangs over the man...
		name = manzoni.1500.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### Sweden ###
#Manzoni 1600: Nils Holgerssons underbara resa genom Sverige
manzoni.1600 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1600.t
	desc = manzoni.1600.d
	flavor = manzoni.1600.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #That sounds like an amazing journey!
		name = manzoni.1600.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1601: Röda rummet
manzoni.1601 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1601.t
	desc = manzoni.1601.d
	flavor = manzoni.1601.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Society needs to change!
		name = manzoni.1601.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### Austria ###
#Manzoni 1700: Die Verwandlung
manzoni.1700 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1700.t
	desc = manzoni.1700.d
	flavor = manzoni.1700.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Ew! A bug!
		name = manzoni.1700.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1701: Der Mann ohne Eigenschaften
manzoni.1701 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1701.t
	desc = manzoni.1701.d
	flavor = manzoni.1701.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Ew! A bug!
		name = manzoni.1701.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1702: Sternstunde der Menschheit
manzoni.1702 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1702.t
	desc = manzoni.1702.d
	flavor = manzoni.1702.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #
		name = manzoni.1702.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### Denmark ###
#Manzoni 1800: Den lille Havfrue
manzoni.1800 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1800.t
	desc = manzoni.1800.d
	flavor = manzoni.1800.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #Wait, her name is not Ariel?!
		name = manzoni.1800.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### Ireland ###
#Manzoni 1900: Dracula
manzoni.1900 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1900.t
	desc = manzoni.1900.d
	flavor = manzoni.1900.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #I have to buy some garlic now...
		name = manzoni.1900.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

#Manzoni 1901: Ulysses (James Joyce)
manzoni.1901 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.1901.t
	desc = manzoni.1901.d
	flavor = manzoni.1901.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #This is an interesting new writing style!
		name = manzoni.1901.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### Netherlands ###
#Manzoni 2000: Max Havelaar
manzoni.2000 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.2000.t
	desc = manzoni.2000.d
	flavor = manzoni.2000.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		manzoni_bestseller_event_immediate_effect = yes
	}

	option = { #That sounds horrible! We have to do something!
		name = manzoni.2000.g
		default_option = yes

		manzoni_bestseller_event_option_effect = yes
	}
}

### Dai Nam ###
#Manzoni 2100: Tang Thương Ngẫu Lục
manzoni.2100 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.2100.t
	desc = manzoni.2100.d
	flavor = manzoni.2100.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_tang_thuong.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		NOT = { 
			has_global_variable = manzoni_tang_thuong_ngau_luc_published_global_var 
		}
		c:DAI ?= this
		year >= 1806
		has_technology_researched = romanticism
	}

	immediate = {
		set_global_variable = manzoni_tang_thuong_ngau_luc_published_global_var
	}

	option = {
		name = manzoni.2100.g #Tales of a darker time, we must strive to be better.
		default_option = yes

		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}

	after = {
	}
}

### Russia ###
#Manzoni 2200: A duel for Honor (Pushkin death (?) event)
manzoni.2200 = {
	dlc = dlc_morgenrote

	type = country_event
	placement = ROOT

	title = manzoni.2200.t
	desc = manzoni.2200.d
	flavor = manzoni.2200.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		NOT = { has_global_variable = manzoni_pushkin_duel_happened_global_var }
		game_date > 1836.4.1
		has_variable = manzoni_writer_var
		var:manzoni_writer_var = {
			has_template = mr_rus_pushkin_alexander_character_template
			is_busy = no
		}
	}

	immediate = {
		var:manzoni_writer_var ?= {
			save_scope_as = manzoni_writer_scope
		}
		set_global_variable = manzoni_pushkin_duel_happened_global_var
	}

	option = { #I hope he survives!
		name = manzoni.2200.g
		default_option = yes

		random_list = {
			1 = {}
			9 = {
				scope:manzoni_writer_scope ?= {
					kill_character = yes
				}
				remove_variable = manzoni_writer_var
			}
		}
	}

	option = { #I hope this troublemaker dies!
		name = manzoni.2200.g
		default_option = yes

		scope:manzoni_writer_scope ?= {
			kill_character = yes
		}
		remove_variable = manzoni_writer_var
	}
}