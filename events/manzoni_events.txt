#####################
# Manzoni EVENTS  #
#####################

#by Lord R & Marco Dandolo

###################

namespace = manzoni

###################

### National Writer Events ###
#Manzoni 100: [Work Title], a true masterwork
#Manzoni 101: [Work Title] lauded by critics!
#Manzoni 102: [Work Title] published
#Manzoni 103: [Work Title] ripped apart by critics

### Local Writer Events ###
#Manzoni 201: A [Work Title] by [Local Author]
#Manzoni 211: [Local Writer]'s Works strengthen [Interest Group]

### Great Britain ###
# Manzoni 1000: Sherlock Holmes published

### Switzerland ###
#Manzoni 1100: Heidi published
#Manzoni 1101: Kleider machen Leute published
#Manzoni 1102: Uli der Knecht published
#Manzoni 1103: Steppenwolf published
#Manzoni 1104: Monsieur Crépin published
#Manzoni 1105: Aline published

### Italy ###
#Manzoni 1200: I Promessi Sposi
#Manzoni 1201: I Promessi Sposi (for other italian nations and Austria)
#Manzoni 1202: Giacomo Leopardi, La Ginestra
#Manzoni 1203: Giosué Carducci, Rime Nuove
#Manzoni 1204: Giovanni Pascoli, Myricae
#Manzonu 1205: Italo Svevo, Zeno's Conscience
#Manzoni 1206: Gabriele D'Annunzio, Il Piacere

###################

#Manzoni 100: [Work Title], a true masterwork
manzoni.100 = {
	type = country_event
	placement = ROOT

	title = manzoni.100.t
	desc = manzoni.100.d
	flavor = manzoni.100.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #It is amazing!
		name = manzoni.100.g
		default_option = yes

		manzoni_add_x_literary_tradition_effect = { AMOUNT = 25 }
		writer_experience_gain_effect = { AMOUNT = 50 }
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 100
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 200
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 300
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 400
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience >= 500
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = meticulous
			}
			factor = 2
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = innovative
			}
			factor = 2
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = persistent
			}
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = erudite
			}
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = arrogant
			}
			factor = 0.8
		}
		modifier = {
			var:manzoni_writer_var = {
				OR = {
					has_trait = alcoholic
					has_trait = opium_addiction
					has_trait = cocaine_addiction
					has_trait = psychological_affliction
					has_trait = senile
				}
			}
			factor = 0.2
		}
	}
}

#Manzoni 101: [Work Title] lauded by critics!
manzoni.101 = {
	type = country_event
	placement = ROOT

	title = manzoni.101.t
	desc = manzoni.101.d
	flavor = manzoni.101.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #A good read!
		name = manzoni.101.g
		default_option = yes

		manzoni_add_x_literary_tradition_effect = { AMOUNT = 10 }
		writer_experience_gain_effect = { AMOUNT = 25 }
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 100
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 200
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 300
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 400
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience >= 500
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = meticulous
			}
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = innovative
			}
			factor = 1.5
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = persistent
			}
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = erudite
			}
			factor = 1.25
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = arrogant
			}
			factor = 0.9
		}
		modifier = {
			var:manzoni_writer_var = {
				OR = {
					has_trait = alcoholic
					has_trait = opium_addiction
					has_trait = cocaine_addiction
					has_trait = psychological_affliction
					has_trait = senile
				}
			}
			factor = 0.6
		}
	}
}

#Manzoni 102: [Work Title] published
manzoni.102 = {
	type = country_event
	placement = ROOT

	title = manzoni.102.t
	desc = manzoni.102.d
	flavor = manzoni.102.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #Not bad.
		name = manzoni.102.g
		default_option = yes

		manzoni_add_x_literary_tradition_effect = { AMOUNT = 5 }
		writer_experience_gain_effect = { AMOUNT = 10 }
	}
}

#Manzoni 103: [Work Title] ripped apart by critics
manzoni.103 = {
	type = country_event
	placement = ROOT

	title = manzoni.103.t
	desc = manzoni.103.d
	flavor = manzoni.103.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		var:manzoni_writer_var = {
			save_scope_as = manzoni_writer_scope
		}
	}

	option = { #Reading this was a waste of time...
		name = manzoni.103.g
		default_option = yes

		manzoni_add_x_literary_tradition_effect = { AMOUNT = 1 }
		writer_experience_gain_effect = { AMOUNT = -20 }
	}

	weight_multiplier = {
		base = 1
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 100
			factor = 0.75
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 200
			factor = 0.75
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 300
			factor = 0.75
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience > 400
			factor = 0.75
		}
		modifier = {
			var:manzoni_writer_var.var:manzoni_writer_experience >= 500
			factor = 0.75
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = meticulous
			}
			factor = 0.9
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = innovative
			}
			factor = 0.9
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = persistent
			}
			factor = 0.95
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = erudite
			}
			factor = 0.95
		}
		modifier = {
			var:manzoni_writer_var = {
				has_trait = arrogant
			}
			factor = 2
		}
		modifier = {
			var:manzoni_writer_var = {
				OR = {
					has_trait = alcoholic
					has_trait = opium_addiction
					has_trait = cocaine_addiction
					has_trait = psychological_affliction
					has_trait = senile
				}
			}
			factor = 10
		}
	}
}

### Local Writer Events ###
#Manzoni 200: A [Work Title] by [Local Author]
manzoni.201 = {
	type = country_event
	placement = ROOT

	title = manzoni.201.t
	desc = manzoni.201.d
	flavor = manzoni.201.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_local_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		random_in_list = {
			variable = mr_local_writers_list
			save_scope_as = manzoni_local_writer_scope
		}
	}

	option = { #A good read!
		name = manzoni.201.g
		default_option = yes

		scope:manzoni_local_writer_scope = {
			void_writer_experience_gain_effect = { AMOUNT = 20 }
		}
		manzoni_add_x_literary_tradition_effect = { AMOUNT = 10 }
	}
}

#Manzoni 211: [Local Writer]'s Works strengthen [Interest Group]
manzoni.211 = {
	type = country_event
	placement = ROOT

	title = manzoni.211.t
	desc = manzoni.211.d
	flavor = manzoni.211.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_local_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		random_in_list = {
			variable = mr_local_writers_list

			save_scope_as = manzoni_local_writer_scope

			interest_group = {
				save_scope_as = manzoni_local_writer_ig_scope
			}
		}
	}

	option = { #The Pen is mightier than the sword!
		name = manzoni.211.g
		default_option = yes

		scope:manzoni_local_writer_ig_scope = {
			add_modifier = {
				name = manzoni_writer_party_boost_modifier
				multiplier = scope:manzoni_local_writer_scope.manzoni_local_writer_renown_multiplier_value
			}
		}
	}
}

#Manzoni 212: [Local Author] Energizes the Masses
manzoni.212 = {
	type = country_event
	placement = ROOT

	title = manzoni.212.t
	desc = manzoni.212.d
	flavor = manzoni.212.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_local_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
	}

	immediate = {
		random_in_list = {
			variable = mr_local_writers_list

			save_scope_as = manzoni_local_writer_scope

			interest_group = {
				save_scope_as = manzoni_local_writer_ig_scope
			}
		}
	}

	option = { #Is that... legal?
		name = manzoni.212.g
		default_option = yes

		if = {
			limit = {
				scope:manzoni_local_writer_ig_scope = {
					ig_approval >= 5
				}
			}
			add_loyalists = {
				value = {
					value = scope:manzoni_local_writer_scope.manzoni_local_writer_renown_multiplier_value
					divide = 100
				}
				interest_group = scope:manzoni_local_writer_ig_scope
			}
		}
		else_if = {
			limit = {
				scope:manzoni_local_writer_ig_scope = {
					ig_approval >= 0
				}
			}
			add_loyalists = {
				value = {
					value = scope:manzoni_local_writer_scope.manzoni_local_writer_renown_multiplier_value
					divide = 200
				}
				interest_group = scope:manzoni_local_writer_ig_scope
			}
		}
		else_if = {
			limit = {
				scope:manzoni_local_writer_ig_scope = {
					ig_approval >= -5
				}
			}
			add_radicals = {
				value = {
					value = scope:manzoni_local_writer_scope.manzoni_local_writer_renown_multiplier_value
					divide = 200
				}
				interest_group = scope:manzoni_local_writer_ig_scope
			}
		}
		else = {
			add_radicals = {
				value = {
					value = scope:manzoni_local_writer_scope.manzoni_local_writer_renown_multiplier_value
					divide = 100
				}
				interest_group = scope:manzoni_local_writer_ig_scope
			}
		}
	}
}

#Manzoni 901: The Fate of Lucca (for Parma)

manzoni.901 = {
	type = country_event
	placement = ROOT

	title = manzoni.901.t
	desc = manzoni.901.d
	flavor = manzoni.901.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_ruler_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = manzoni_duke_of_lucca_var
			}
			save_scope_as = manzoni_ruler_scope
			scope:manzoni_ruler_scope = {
				set_character_as_ruler = yes
			}
		}
	}

	option = { #Long live the $MONARCH$
		name = manzoni.901.g
		default_option = yes
	}
}

#Manzoni 902: The Fate of Lucca (for Tuscany)

manzoni.902 = {
	type = country_event
	placement = ROOT

	title = manzoni.901.t
	desc = manzoni.901.d
	flavor = manzoni.901.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_ruler_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	trigger = {
	}

	immediate = {
		random_character = {
			limit = {
				has_variable = manzoni_duke_of_lucca_var
			}
			save_scope_as = manzoni_ruler_scope
		}
		annex = c:LUC
	}

	option = { #Lucca is ours!
		name = manzoni.902.g
		default_option = yes
	}
}

#Manzoni 910: Roma Aeterna

manzoni.910 = {
	type = country_event
	placement = scope:manzoni_new_capital_scope
	
	title = manzoni.910.t
	desc = manzoni.910.d
	flavor = manzoni.910.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_roma.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_capital = yes
			}
			save_scope_as = manzoni_old_capital_scope
		}
		random_scope_state = {
			limit = {
				state_region = s:STATE_LAZIO
			}
			save_scope_as = manzoni_new_capital_scope
		}
	}

	option = {
		name = manzoni.910.g #Viva Roma!
		default_option = yes
		if = {
			limit = {
				scope:manzoni_old_capital_scope = {
					has_building = building_lepsius_archaeological_museum
				}
				NOT = {
					scope:manzoni_new_capital_scope = {
						has_building = building_lepsius_archaeological_museum
					}
				}
			}
			scope:manzoni_old_capital_scope = {
				remove_building = building_lepsius_archaeological_museum
			}
			scope:manzoni_new_capital_scope = {
				create_building = {
					building = "building_lepsius_archaeological_museum"
				}
			}
		}
		if = {
			limit = {
				scope:manzoni_old_capital_scope = {
					has_building = building_dubois_zoo
				}
				NOT = {
					scope:manzoni_new_capital_scope = {
						has_building = building_dubois_zoo
					}
				}
			}
			scope:manzoni_new_capital_scope = {
				create_building = {
					building = "building_dubois_zoo"
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_dubois_zoo
							production_method = pm_paleontological_collection
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_dubois_zoo
						production_method = pm_paleontological_collection
					}
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_dubois_zoo
							production_method = pm_botanical_garden
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_dubois_zoo
						production_method = pm_botanical_garden
					}
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_dubois_zoo
							production_method = pm_specimen_collection
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_dubois_zoo
						production_method = pm_specimen_collection
					}
				}
			}
			scope:manzoni_old_capital_scope = {
				remove_building = building_dubois_zoo
			}
			
		}
		if = {
			limit = {
				scope:manzoni_old_capital_scope = {
					has_building = building_verrier_observatory
				}
				NOT = {
					scope:manzoni_new_capital_scope = {
						has_building = building_verrier_observatory
					}
				}
			}
			scope:manzoni_new_capital_scope = {
				create_building = {
					building = "building_verrier_observatory"
				}
			}
			if = {
				limit = {
					scope:manzoni_old_capital_scope = {
						is_production_method_active = {
							building_type = building_verrier_observatory
							production_method = pm_gaudi_magnetic_observatory
						}
					}
				}
				scope:manzoni_new_capital_scope = {
					activate_production_method = {
						building_type = building_verrier_observatory
						production_method = pm_gaudi_magnetic_observatory
					}
				}
			}
			scope:manzoni_old_capital_scope = {
				remove_building = building_verrier_observatory
			}
		}
		set_capital = STATE_LAZIO
	}

	after = {
		lepsius_update_exhibition_effect = yes
		if = {
			limit = {
				has_variable = dubois_zoo_fourth_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_5
				}
			}
		}
		else_if = {
			limit = {
				has_variable = dubois_zoo_third_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_4
				}
			}
		}
		else_if = {
			limit = {
				has_variable = dubois_zoo_second_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_3
				}
			}
		}
		else_if = {
			limit = {
				has_variable = dubois_zoo_first_extension
			}
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_2
				}
			}
		}
		else = {
			random_scope_state = {
				limit = {
					has_building = building_dubois_zoo
					is_capital = yes
				}
				activate_production_method = {
					building_type = building_dubois_zoo
					production_method = pm_zoo_level_1
				}
			}
		}
		remove_variable = manzoni_roma_aeterna_var
	}
}

#Manzoni 911: An Italian Consciousness

manzoni.911 = {
	type = country_event
	placement = scope:united_italian_culture_state
	
	title = manzoni.911.t
	desc = manzoni.911.d
	flavor = manzoni.911.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		any_scope_state = {
			is_incorporated = yes
			state_region = {
				OR = {
					is_homeland = cu:north_italian
					is_homeland = cu:south_italian
				}
			}
			turmoil <= 0.15
			OR = {
				any_scope_building = {
					OR = {
						is_building_type = building_naval_base
						is_building_type = building_barracks
					}
					level >= 10
				}
				any_scope_building = {
					is_building_type = building_university
					level >= 3
				}
				any_scope_building = {
					is_building_type = building_government_administration
					level >= 3
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 3
				}
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				state_region = {
					OR = {
						is_homeland = cu:north_italian
						is_homeland = cu:south_italian
					}
				}
				turmoil <= 0.15
				OR = {
					any_scope_building = {
						OR = {
							is_building_type = building_naval_base
							is_building_type = building_barracks
						}
						level >= 10
					}
					any_scope_building = {
						is_building_type = building_university
						level >= 3
					}
					any_scope_building = {
						is_building_type = building_government_administration
						level >= 3
					}
					any_scope_building = {
						is_building_type = building_urban_center
						level >= 3
					}
				}
			}
			save_scope_as = united_italian_culture_state
		}
	}

	option = {
		name = manzoni.911.g
		default_option = yes
		custom_tooltip = {
			text = manzoni_italian_consiousness_tt
			scope:united_italian_culture_state = {
				every_scope_pop = {
					limit = {
						culture = cu:north_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:south_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:north_italian
					remove_homeland = cu:south_italian
				}
			}
		}
	}
}

#Manzoni 912: A Pan-Italian Consciousness

manzoni.912 = {
	type = country_event
	
	title = manzoni.912.t
	desc = manzoni.912.d
	flavor = manzoni.912.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
		set_global_variable = manzoni_united_italian_nation_var
	}

	option = {
		name = manzoni.912.g #We've made the Italians!
		default_option = yes
		custom_tooltip = {
			text = manzoni_pan_italian_identity_tt
			every_character = {
				limit = {
					OR = {
						has_culture = cu:south_italian
						has_culture = cu:north_italian
					}
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:north_italian
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:south_italian
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					OR = {
						any_scope_pop = {
							culture = cu:north_italian
						}
						any_scope_pop = {
							culture = cu:south_italian
						}
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:north_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:south_italian
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				if = {
					limit = {
						is_player = yes
					}
					trigger_event = {
						id = manzoni.913
					}
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:north_italian
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:north_italian
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:south_italian
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:south_italian
				}
			}
		}
		add_loyalists = {
			culture = cu:united_italian
			value = 0.05
		}
	}
}

#Manzoni 913: A Pan-Italian Consciousness (Notification)

manzoni.913 = {
	type = country_event
	
	title = manzoni.912.t
	desc = manzoni.913.d
	flavor = manzoni.912.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.913.g #Are you saying that there are no differences between a Sicilian fisherman and a Trentino shepherd?
		default_option = yes
		custom_tooltip = manzoni_pan_italian_identity_tt
	}
}

#Manzoni 914: Character becomes Italian

manzoni.914 = {
	type = country_event
	
	title = manzoni.914.t
	desc = manzoni.914.d
	flavor = manzoni.914.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_character_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		days = 120
	}
	
	trigger = {
		any_scope_character = {
			OR = {
				has_culture = cu:south_italian
				has_culture = cu:north_italian
			}
		}
	}

	immediate = {
		random_scope_character = {
			limit = {
				OR = {
					has_culture = cu:south_italian
					has_culture = cu:north_italian
				}
			}
			save_scope_as = manzoni_character_scope
		}
	}

	option = {
		name = manzoni.914.g #The days of campanilismo are over.
		default_option = yes
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 3
		}
		scope:manzoni_character_scope = {
			change_character_culture = cu:united_italian
		}
	}
}

#Manzoni 915: Brigants in $STATE$

manzoni.915 = {
	type = country_event
	
	title = manzoni.915.t
	desc = manzoni.915.d
	flavor = manzoni.915.f

	placement = scope:manzoni_brigant_state
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_briganti.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		years = 2
	}
	
	trigger = {
		institution_investment_level = {
			institution = institution_social_security
			value < 2
		}
		institution_investment_level = {
			institution = institution_police
			value < 2
		}
		any_scope_state = {
			average_sol < 8
			is_incorporated = yes
			NOT = {
				has_modifier = manzoni_brigants_modifier
			}
		}
	}

	immediate = {
		create_character = {
			female = no
			save_scope_as = manzoni_brigant_character
		}
		random_scope_state = {
			limit = {
				average_sol < 8
				is_incorporated = yes
				NOT = {
					has_modifier = manzoni_brigants_modifier
				}
			}
			save_scope_as = manzoni_brigant_state
		}
	}

	option = {
		name = manzoni.915.g #Another bandit masquerading as Robin Hood!
		default_option = yes
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = -3
		}
		scope:manzoni_brigant_state = {
			add_modifier = {
				name = manzoni_brigants_modifier
				years = 15
			}
			add_radicals_in_state = {
				strata = poor
				value = 0.05
			}
		}
	}
}

#Manzoni 916: Fear for regional heritage

manzoni.916 = {
	type = country_event
	
	title = manzoni.916.t
	desc = manzoni.916.d
	flavor = manzoni.916.f

	placement = scope:manzoni_regionalist_state
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_rural_leader_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		years = 3
	}
	
	trigger = {
		any_scope_state = {
			is_incorporated = yes
			any_scope_building = {
				is_building_type = building_urban_center
				level <= 5
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				any_scope_building = {
					is_building_type = building_urban_center
					level <= 5
				}
			}
			save_scope_as = manzoni_regionalist_state
		}
		ig:ig_rural_folk = {
			save_scope_as = manzoni_rural_ig_scope
			leader = {
				save_scope_as = manzoni_rural_leader_scope
			}
		}
	}

	option = {
		name = manzoni.916.g #STATE is an Italian region like any other.
		default_option = yes
		add_modifier = {
			name = manzoni_anti_regionalism_country_modifier
			years = 5
		}
		scope:manzoni_rural_ig_scope = {
			add_modifier = {
				name = manzoni_anti_regionalism_ig_modifier
				years = 5
			}
		}
		scope:manzoni_regionalist_state = {
			add_radicals_in_state = {
				value = 0.05
			}
		}
	}

	option = {
		name = manzoni.916.h #We should take this special heritage into account.
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = -20
		}
	}
}

#Manzoni 917: Dialects or languages?

manzoni.917 = {
	type = country_event
	
	title = manzoni.917.t
	desc = manzoni.917.d
	flavor = manzoni.917.f
	
	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_intelligentsia_leader_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3

	cooldown = {
		years = 10
	}
	
	trigger = {
	}

	immediate = {
		ig:ig_intelligentsia = {
			save_scope_as = manzoni_intelligentsia_ig_scope
			leader = {
				save_scope_as = manzoni_intelligentsia_leader_scope
			}
		}
	}

	option = {
		name = manzoni.917.g #Our linguistic diversity is our prestige.
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = -20
		}
		scope:manzoni_intelligentsia_ig_scope = {
			add_modifier = {
				name = manzoni_linguistic_impurity_modifier
				years = 5
			}
		}
		add_loyalists = {
			strata = poor
			value = 0.03
		}
	}

	option = {
		name = manzoni.917.h #Speak Italian, speak clear.
		default_option = yes
		verrier_small_add_technology = yes
		lepsius_small_add_technology = yes
		dubois_small_add_technology = yes
		elgar_small_add_technology = yes
		add_radicals = {
			strata = poor
			value = 0.05
		}
	}
}

#Manzoni 918: Fate of Foscolo

manzoni.918 = {
	type = country_event
	
	title = manzoni.918.t
	desc = manzoni.918.d
	flavor = manzoni.918.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_foscolo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_foscolo_var
		}
		exists = c:GBR
	}

	immediate = {
		set_variable = manzoni_foscolo_var
	}

	option = {
		name = manzoni.918.g #Ask them to give us Foscolo.
		default_option = yes
		c:GBR = {
			trigger_event = {
				id = manzoni.919
				days = 7
			}
		}
	}

	option = {
		name = manzoni.918.h #We would be embarrassed if they said no.
	}
}

#Manzoni 919: Fate of Foscolo (for Great Britain)

manzoni.919 = {
	type = country_event
	
	title = manzoni.918.t
	desc = manzoni.919.d
	flavor = manzoni.918.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_foscolo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.919.g #They should have their petty little poet. What was his name again?
		default_option = yes
		change_infamy = -2
		change_relations = {
			country = c:ITA
			value = 10
		}
		set_global_variable = manzoni_foscolo_returns

		ai_chance = {
			base = 1
			modifier = { #Cordial relations
				trigger = {
					"relations(c:ITA)" >= relations_threshold:cordial
				}
				add = 1
			}
			modifier = { #Amicable relations
				trigger = {
					"relations(c:ITA)" >= relations_threshold:amicable
				}
				add = 1
			}	
			modifier = { #Defensive Pact
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = defensive_pact
					}
				}
				add = 2
			}	
			modifier = { #Customs Union
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = customs_union
					}
				}
				add = 2
			}
			modifier = { #Alliance
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = alliance
					}
				}
				add = 3
			}							
		}
	}

	option = {
		name = manzoni.919.h #The Fosco-guy stays here.
		custom_tooltip = manzoni_gbr_hits_ita_prestige_tt
		change_relations = {
			country = c:ITA
			value = -10
		}
		ai_chance = {
			base = 1
			modifier = { #Poor relations
				trigger = {
					"relations(c:ITA)" <= relations_threshold:poor
				}
				add = 1
			}
			modifier = { #Cold relations
				trigger = {
					"relations(c:ITA)" <= relations_threshold:cold
				}
				add = 1
			}	
			modifier = { #Embargo
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = embargo
					}
				}
				add = 5
			}	
			modifier = { #Rivalry
				trigger = {
					has_diplomatic_pact = {
						who = c:ITA
						type = rivalry
					}
				}
				add = 10
			}							
		}
	}

	after = {
		c:ITA = {
			trigger_event = {
				id = manzoni.920
				days = 7
			}
		}
	}
}

#Manzoni 920: Foscolo returns/Foscolo denied

manzoni.920 = {
	type = country_event
	
	title = {
		triggered_desc = {
			trigger = {
				has_global_variable = manzoni_foscolo_returns
			}
			desc = manzoni.920.t_foscolo
		}
		triggered_desc = {
			trigger = {
				NOT = {
					has_global_variable = manzoni_foscolo_returns
				}
			}
			desc = manzoni.920.t_no_foscolo
		}
	}
	desc = {
		triggered_desc = {
			trigger = {
				has_global_variable = manzoni_foscolo_returns
			}
			desc = manzoni.920.d_foscolo
		}
		triggered_desc = {
			trigger = {
				NOT = {
					has_global_variable = manzoni_foscolo_returns
				}
			}
			desc = manzoni.920.d_no_foscolo
		}
	}
	flavor = {
		triggered_desc = {
			trigger = {
				has_global_variable = manzoni_foscolo_returns
			}
			desc = manzoni.920.f_foscolo
		}
		triggered_desc = {
			trigger = {
				NOT = {
					has_global_variable = manzoni_foscolo_returns
				}
			}
			desc = manzoni.920.f_no_foscolo
		}
	}
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_foscolo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
		set_variable = manzoni_foscolo_var
	}

	option = {
		name = manzoni.920.g #A great Italian returns home!
		default_option = yes
		trigger = {
			has_global_variable = manzoni_foscolo_returns
		}
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 10
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}

	option = {
		name = manzoni.920.h #These sons of a one-legged cow are denying us our Foscolo!
		trigger = {
			NOT = {
				has_global_variable = manzoni_foscolo_returns
			}
		}
		add_modifier = {
			name = manzoni_no_foscolo_modifier
			years = 5
		}
	}
}

#Manzoni 921: Italian Music Culture

manzoni.921 = {
	type = country_event
	
	title = manzoni.921.t
	desc = manzoni.921.d
	flavor = manzoni.921.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_verdi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_opera_culture_var
		}
	}

	immediate = {
		set_variable = manzoni_opera_culture_var
	}

	option = {
		name = manzoni.921.g #Italy has a rich musical history.
		default_option = yes
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 5
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 100
		}
	}

	option = {
		name = manzoni.921.h #The future belongs to Italian musical culture!
		elgar_medium_add_technology = yes
	}
}

#Manzoni 922: Dante Cult

manzoni.922 = {
	type = country_event
	
	title = manzoni.922.t
	desc = manzoni.922.d
	flavor = manzoni.922.f

	placement = scope:manzoni_dante_state
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_dante_var
		}
		any_scope_state = {
			state_region = s:STATE_TUSCANY
		}
	}

	immediate = {
		set_variable = manzoni_dante_var
		random_scope_state = {
			limit = {
				state_region = s:STATE_TUSCANY
			}
			save_scope_as = manzoni_dante_state
		}
	}

	option = {
		name = manzoni.922.g #Support the Dante cult and build a monument in Florence.
		default_option = yes
		add_treasury = -100000
		manzoni_add_x_national_identity_progress_effect = {
			AMOUNT = 5
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		scope:manzoni_dante_state = {
			add_loyalists_in_state = {
				value = 0.05
			}
		}
	}

	option = {
		name = manzoni.922.h #And torture future generations with tercets?
		scope:manzoni_dante_state = {
			add_radicals_in_state = {
				value = 0.02
			}
		}
	}
}

#Manzoni 923: An Italian Consciousness

manzoni.923 = {
	type = country_event
	placement = scope:united_italian_culture_state
	
	title = manzoni.911.t
	desc = manzoni.911.d
	flavor = manzoni.911.f
	
	event_image = {
		texture = "gfx/event_pictures/elgar_pictures/elgar_mameli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		any_scope_state = {
			is_incorporated = yes
			state_region = {
				OR = {
					is_homeland = cu:corsican
					is_homeland = cu:ticinese
					is_homeland = cu:maltese
					is_homeland = cu:rumantsch
				}
			}
			turmoil <= 0.15
			OR = {
				any_scope_building = {
					OR = {
						is_building_type = building_naval_base
						is_building_type = building_barracks
					}
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_university
					level >= 5
				}
				any_scope_building = {
					is_building_type = building_government_administration
					level >= 5
				}
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 5
				}
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				state_region = {
					OR = {
						is_homeland = cu:corsican
						is_homeland = cu:ticinese
						is_homeland = cu:maltese
						is_homeland = cu:rumantsch
					}
				}
				turmoil <= 0.15
				OR = {
					any_scope_building = {
						OR = {
							is_building_type = building_naval_base
							is_building_type = building_barracks
						}
						level >= 15
					}
					any_scope_building = {
						is_building_type = building_university
						level >= 5
					}
					any_scope_building = {
						is_building_type = building_government_administration
						level >= 5
					}
					any_scope_building = {
						is_building_type = building_urban_center
						level >= 5
					}
				}
			}
			save_scope_as = united_italian_culture_state
		}
	}

	option = {
		name = manzoni.911.g
		default_option = yes
		custom_tooltip = {
			text = manzoni_italian_consiousness_2_tt
			scope:united_italian_culture_state = {
				every_scope_pop = {
					limit = {
						culture = cu:corsican
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:ticinese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:maltese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:rumantsch
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:corsican
					remove_homeland = cu:ticinese
					remove_homeland = cu:maltese
					remove_homeland = cu:rumantsch
				}
			}
		}
	}
}

#Manzoni 924: Lingua del Sì

manzoni.924 = {
	type = country_event
	
	title = manzoni.924.t
	desc = manzoni.924.d
	flavor = manzoni.924.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.924.g #Italy is now also linguistically united!
		default_option = yes
		custom_tooltip = {
			text = manzoni_pan_italian_identity_tt
			every_character = {
				limit = {
					OR = {
						has_culture = cu:corsican
						has_culture = cu:ticinese
						has_culture = cu:maltese
						has_culture = cu:rumantsch
					}
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:corsican
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:ticinese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:maltese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_scope_pop = {
				limit = {
					culture = cu:rumantsch
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					OR = {
						any_scope_pop = {
							culture = cu:corsican
						}
						any_scope_pop = {
							culture = cu:ticinese
						}
						any_scope_pop = {
							culture = cu:maltese
						}
						any_scope_pop = {
							culture = cu:rumantsch
						}
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:corsican
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:ticinese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:maltese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:rumantsch
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:corsican
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:corsican
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:ticinese
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:ticinese
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:maltese
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:maltese
				}
			}
			every_state = {
				limit = {
					state_region = {
						is_homeland = cu:rumantsch
					}
				}
				state_region = {
					add_homeland = cu:united_italian
					remove_homeland = cu:rumantsch
				}
			}
		}
		add_loyalists = {
			culture = cu:united_italian
			value = 0.05
		}
	}
}

#Manzoni 925: Corsican integrated

manzoni.925 = {
	type = country_event
	
	title = manzoni.925.t
	desc = manzoni.925.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_corsican_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_CORSICA
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_corsican_integrated_var
	}

	option = {
		name = manzoni.925.g #Corsica, isola italiana!
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:corsican
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:corsican
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:corsican
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:corsican
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

#Manzoni 926: Ticinese integrated

manzoni.926 = {
	type = country_event
	
	title = manzoni.926.t
	desc = manzoni.926.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_ticinese_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_ticinese_integrated_var
	}

	option = {
		name = manzoni.925.g #Ticino, cantone italiano!
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:ticinese
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:ticinese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:ticinese
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:ticinese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

#Manzoni 927: Maltese integrated

manzoni.927 = {
	type = country_event
	
	title = manzoni.927.t
	desc = manzoni.927.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_maltese_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_MALTA
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_maltese_integrated_var
	}

	option = {
		name = manzoni.925.g #Ticino, cantone italiano!
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:maltese
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:maltese
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:maltese
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:maltese
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

#Manzoni 928: Rumantsch integrated

manzoni.928 = {
	type = country_event
	
	title = manzoni.928.t
	desc = manzoni.928.d
	flavor = manzoni.925.f
	
	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dante.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_italy.dds"
	
	duration = 3
	
	trigger = {
		NOT = {
			has_variable = manzoni_rumantsch_integrated_var
		}
		any_scope_state = {
			state_region = s:STATE_SOUTH_TYROL
			state_region = {
				is_homeland = cu:united_italian
			}
		}
		any_scope_state = {
			state_region = s:STATE_EAST_SWITZERLAND
			state_region = {
				is_homeland = cu:united_italian
			}
		}
		any_scope_state = {
			state_region = s:STATE_VENETIA
			state_region = {
				is_homeland = cu:united_italian
			}
		}
	}

	immediate = {
		set_variable = manzoni_rumantsch_integrated_var
	}

	option = {
		name = manzoni.925.g #
		default_option = yes
		hidden_effect = {
			every_character = {
				limit = {
					has_culture = cu:rumantsch
				}
				change_character_culture = cu:united_italian
			}
			every_scope_pop = {
				limit = {
					culture = cu:rumantsch
				}
				change_pop_culture = {
					target = cu:united_italian
					value = 1
				}
			}
			every_country = {
				limit = {
					NOT = {
						this = ROOT
					}
					any_scope_pop = {
						culture = cu:rumantsch
					}
				}
				every_scope_pop = {
					limit = {
						culture = cu:rumantsch
					}
					change_pop_culture = {
						target = cu:united_italian
						value = 1
					}
				}
			}
		}
	}
}

###################

### Great Britain ###

# Manzoni 1000: Sherlock Holmes published
manzoni.1000 = {
	type = country_event
	placement = ROOT

	title = manzoni.1000.t
	desc = manzoni.1000.d
	flavor = manzoni.1000.f

	duration = 3

	gui_window = event_window_1char_tabloid

	left_icon = scope:manzoni_writer_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	trigger = {
		NOT = {
			has_global_variable = manzoni_sherlock_holmes_global_var
		}
		year >= 1886
		c:GBR ?= this
	}

	immediate = {
		set_global_variable = manzoni_sherlock_holmes_global_var

		create_character = {
			template = manzoni_gbr_doyle_arthur_conan_template

			save_scope_as = manzoni_writer_scope
		}
		scope:manzoni_writer_scope = {
			place_character_in_void = 4
		}
	}

	option = { #Elementary, my dear Watson.
		name = manzoni.1000.a
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}
}

###################

### Switzerland ###

#Manzoni 1100: Heidi published
manzoni.1100 = {
	type = country_event
	placement = ROOT

	title = manzoni.1100.t
	desc = manzoni.1100.d
	flavor = manzoni.1100.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_heidi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		AND = {
			exists = c:SWI
			c:SWI = ROOT
			has_technology_researched = realism
			game_date >= 1880.4.13
			NOT = { has_global_variable = manzoni_heidi_published_global_var }
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_heidi_published_global_var
		}
	}

	option = {
		name = manzoni.1100.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}
}

#Manzoni 1101: Kleider machen Leute published
manzoni.1101 = {
	type = country_event
	placement = ROOT

	title = manzoni.1101.t
	desc = manzoni.1101.d
	flavor = manzoni.1101.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_gottfried_keller.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		AND = {
			exists = c:SWI
			c:SWI = ROOT
			has_technology_researched = realism
			game_date >= 1874.05.15
			NOT = { has_global_variable = manzoni_kleider_machen_leute_published_global_var }
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_kleider_machen_leute_published_global_var
		}
	}

	option = {
		name = manzoni.1101.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

#Manzoni 1102: Uli der Knecht published
manzoni.1102 = {
	type = country_event
	placement = ROOT

	title = manzoni.1102.t
	desc = manzoni.1102.d
	flavor = manzoni.1102.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_uli_der_knecht.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		AND = {
			exists = c:SWI
			c:SWI = ROOT
			has_technology_researched = realism
			game_date >= 1841.02.13
			NOT = { has_global_variable = manzoni_uli_der_knecht_published_global_var }
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_uli_der_knecht_published_global_var
		}
	}

	option = {
		name = manzoni.1102.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

#Manzoni 1103: Steppenwolf published
manzoni.1103 = {
	type = country_event
	placement = ROOT

	title = manzoni.1103.t
	desc = manzoni.1103.d
	flavor = manzoni.1103.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_steppenwolf.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		exists = c:SWI
			c:SWI = ROOT
		game_date >= 1927.3.11
		NOT = { has_global_variable = manzoni_steppenwolf_published_global_var }
	}

	immediate = {
		set_global_variable = {
			name = manzoni_steppenwolf_published_global_var
		}
	}

	option = {
		name = manzoni.1103.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}
}

#Manzoni 1104: Monsieur Crépin published
manzoni.1104 = {
	type = country_event
	placement = ROOT

	title = manzoni.1104.t
	desc = manzoni.1104.d
	flavor = manzoni.1104.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_toepffer.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		exists = c:SWI
		c:SWI = ROOT
		game_date >= 1837.11.11
		NOT = {
			has_global_variable = manzoni_crepin_published_global_var
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_crepin_published_global_var
		}
	}

	option = {
		name = manzoni.1104.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

#Manzoni 1105: Aline published
manzoni.1105 = {
	type = country_event
	placement = ROOT

	title = manzoni.1105.t
	desc = manzoni.1105.d
	flavor = manzoni.1105.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_ramuz.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		exists = c:SWI
		c:SWI = ROOT
		game_date >= 1905.7.22
		NOT = { has_global_variable = manzoni_aline_published_global_var }
	}

	immediate = {
		set_global_variable = {
			name = manzoni_aline_published_global_var
		}
	}

	option = {
		name = manzoni.1105.g
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}
}

###################

### Italy ###

#Manzoni 1200: Alessandro Manzoni, I Promessi Sposi
manzoni.1200 = {
	type = country_event
	placement = ROOT

	title = manzoni.1200.t
	desc = manzoni.1200.d
	flavor = manzoni.1200.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_promessi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_LOMBARDY
		}
		has_technology_researched = romanticism
		game_date >= 1842.1.1
		NOT = { 
			has_global_variable = manzoni_promessi_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_promessi_published_global_var
		}
	}

	option = {
		name = manzoni.1200.g #Who cares about a silly Italian novel?
		trigger = {
			NOR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		add_radicals = {
			value = 0.1
			culture = cu:north_italian
		}
		add_radicals = {
			value = 0.1
			culture = cu:south_italian
		}
	}

	option = {
		name = manzoni.1200.h #The peak of Italian culture!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 50
		}
	}

	after = {
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:south_italian
						country_has_primary_culture = cu:north_italian
						country_has_primary_culture = cu:united_italian
					}
					NOT = {
						this = ROOT
					}
				}
				trigger_event = { 
					id = manzoni.1201
					popup = yes 
					days = { 1 7 }
				}
			}
		}
	}
}

#Manzoni 1201: Alessandro Manzoni, I Promessi Sposi
manzoni.1201 = {
	type = country_event
	placement = ROOT

	title = manzoni.1200.t
	desc = manzoni.1200.d
	flavor = manzoni.1200.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_promessi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.1200.h #The peak of Italian culture!
		default_option = yes
		trigger = {
			OR = {
				country_has_primary_culture = cu:south_italian
				country_has_primary_culture = cu:north_italian
				country_has_primary_culture = cu:united_italian
			}
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 50
		}
	}

	after = {
	}
}

#Manzoni 1202: Giacomo Leopardi, La Ginestra
manzoni.1202 = {
	type = country_event
	placement = ROOT

	title = manzoni.1202.t
	desc = manzoni.1202.d
	flavor = manzoni.1202.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_leopardi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		any_scope_state = {
			state_region = s:STATE_CAMPANIA
		}
		NOT = {
			game_date >= 1837.6.14 #Leopardi dies
		}
		NOT = { 
			has_global_variable = manzoni_ginestra_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_ginestra_published_global_var
		}
	}

	option = {
		name = manzoni.1202.g #How melancholic
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
	}

	after = {
	}
}

#Manzoni 1203: Giosué Carducci, Rime Nuove
manzoni.1203 = {
	type = country_event
	placement = ROOT

	title = manzoni.1203.t
	desc = manzoni.1203.d
	flavor = manzoni.1203.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_carducci.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = realism
		game_date >= 1887.1.1
		NOT = {
			game_date >= 1907.2.16 #Carducci dies
		}
		NOT = { 
			has_global_variable = manzoni_rime_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_rime_published_global_var
		}
	}

	option = {
		name = manzoni.1203.g #The new national poet of Italy!
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 30
		}
	}

	after = {
	}
}

#Manzoni 1204: Giovanni Pascoli, Myricae
manzoni.1204 = {
	type = country_event
	placement = ROOT

	title = manzoni.1204.t
	desc = manzoni.1204.d
	flavor = manzoni.1204.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_pascoli.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1891.1.1
		NOT = {
			game_date >= 1912.4.6 #Pascoli dies
		}
		NOT = { 
			has_global_variable = manzoni_myricae_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_myricae_published_global_var
		}
	}

	option = {
		name = manzoni.1204.g #A little great poet.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1205: Italo Svevo, Zeno's Conscience
manzoni.1205 = {
	type = country_event
	placement = ROOT

	title = manzoni.1205.t
	desc = manzoni.1205.d
	flavor = manzoni.1205.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_svevo.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		has_technology_researched = psychoanalysis
		game_date >= 1923.1.1
		NOT = {
			game_date >= 1928.9.13 #Svevo dies
		}
		NOT = { 
			has_global_variable = manzoni_zeno_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_zeno_published_global_var
		}
	}

	option = {
		name = manzoni.1205.g #Is the author making fun of Sigmund Freud?
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1206: Gabriele D'Annunzio, Il Piacere
manzoni.1206 = {
	type = country_event
	placement = ROOT

	title = manzoni.1206.t
	desc = manzoni.1206.d
	flavor = manzoni.1206.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_dannunzio.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = elgar_irrationalism_tech
		game_date >= 1889.1.1
		NOT = { 
			has_global_variable = manzoni_piacere_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_piacere_published_global_var
		}
	}

	option = {
		name = manzoni.1206.g #Is this symbolism or already decadence?
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1207: Carlo Collodi, Pinocchio
manzoni.1207 = {
	type = country_event
	placement = ROOT

	title = manzoni.1207.t
	desc = manzoni.1207.d
	flavor = manzoni.1207.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_collodi.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = realism
		game_date >= 1883.1.1
		NOT = {
			game_date >= 1890.10.26 #Collodi dies
		}
		NOT = { 
			has_global_variable = manzoni_pinocchio_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_pinocchio_published_global_var
		}
	}

	option = {
		name = manzoni.1207.g #This children's tale would definitely have been more successful as a film.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
	}

	after = {
	}
}

#Manzoni 1208: Edmondo de Amicis, Cuore
manzoni.1208 = {
	type = country_event
	placement = ROOT

	title = manzoni.1208.t
	desc = manzoni.1208.d
	flavor = manzoni.1208.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_amicis.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:ITA ?= this
		has_technology_researched = realism
		game_date >= 1886.1.1
		NOT = {
			game_date >= 1908.3.11 #Amicis dies
		}
		NOT = { 
			has_global_variable = manzoni_amicis_published_global_var 
		}
	}

	immediate = {
		set_global_variable = {
			name = manzoni_amicis_published_global_var
		}
	}

	option = {
		name = manzoni.1208.g #A patriotic novel for young Italians!
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		add_loyalists = {
			value = 0.03
			culture = cu:north_italian
		}
		add_loyalists = {
			value = 0.03
			culture = cu:south_italian
		}
		add_loyalists = {
			value = 0.03
			culture = cu:united_italian
		}
	}

	after = {
	}
}

###################

### Germany ###

#Manzoni 1300: Heinrich Heine, Deutschland, ein Wintermärchen
manzoni.1300 = {
	type = country_event
	placement = ROOT

	title = manzoni.1300.t
	desc = manzoni.1300.d
	flavor = manzoni.1300.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_wintermaerchen.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		has_technology_researched = romanticism
		game_date >= 1843.1.1
		game_date <= 1845.1.1
		NOT = { 
			has_variable = manzoni_wintermaerchen_published_var #Note that this will trigger in every german state
		}
	}

	immediate = {
		set_variable = manzoni_wintermaerchen_published_var #Note that this will trigger in every german state
	}

	option = {
		name = manzoni.1300.g #It should be published.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 20
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_very_bad_influence_modifier
				years = 5
			}
			add_modifier = {
				name = manzoni_heine_allowed_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					OR = {
						has_modifier = gaudi_dombau_phase_1_modifier
						has_modifier = gaudi_dombau_phase_2_modifier
						has_modifier = gaudi_dombau_phase_3_modifier
						has_modifier = gaudi_dombau_phase_4_modifier
					}
				}
			}
			trigger_event = {
				id = manzoni.1301
				days = { 5 10 }
			}
		}
	}

	option = {
		name = manzoni.1300.h #Ban and confiscate it!
		trigger = {
			has_law = law_type:law_outlawed_dissent
		}
		add_modifier = {
			name = manzoni_heine_banned_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_censored_modifier
				years = 5
			}
		}
	}

	option = {
		name = manzoni.1300.i #Censor it.
		trigger = {
			has_law = law_type:law_censorship
		}
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		add_modifier = {
			name = manzoni_censorship_machinery_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_heine_bad_influence_modifier
				years = 5
			}
			add_modifier = {
				name = manzoni_heine_censored_modifier
				years = 5
			}
		}
	}

	after = {
	}
}

#Manzoni 1301: Heinrich Heine mocks Cologne Cathedral
manzoni.1301 = {
	type = country_event
	placement = ROOT

	title = manzoni.1301.t
	desc = manzoni.1301.d
	flavor = manzoni.1301.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_wintermaerchen.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
	}

	option = {
		name = manzoni.1301.g #Damn you, Heine!
		default_option = yes
		add_modifier = {
			name = manzoni_mocked_by_heine_modifier 
			years = 3
		}
	}

	after = {
	}
}

#Manzoni 1302: Joseph von Eichendorff, Mondnacht
manzoni.1302 = {
	type = country_event
	placement = ROOT

	title = manzoni.1302.t
	desc = manzoni.1302.d
	flavor = manzoni.1302.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_mondnacht.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		has_technology_researched = romanticism
		game_date >= 1837.1.1
		game_date <= 1848.1.1
		NOT = { 
			has_variable = manzoni_mondnacht_published_var #Note that this will trigger in every german state
		}
	}

	immediate = {
		set_variable = manzoni_mondnacht_published_var #Note that this will trigger in every german state
	}

	option = {
		name = manzoni.1302.g #Beautiful.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		elgar_add_x_music_tradition_effect = {
			AMOUNT = 5
		}
	}

	option = {
		name = manzoni.1302.h #So, instead of searching political freedom, germans are distracted by silly poems?
		every_interest_group = {
			limit = {
				is_in_government = no
			}
			add_modifier = {
				name = manzoni_michel_sleeps_modifier
				years = 3
			}
		}
	}

	after = {
	}
}

#Manzoni 1303: The Weavers in $STATE$
manzoni.1303 = {
	type = country_event
	placement = ROOT

	title = manzoni.1303.t
	desc = manzoni.1303.d
	flavor = manzoni.1303.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_weberaufstand.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3

	trigger = {
		game_date >= 1840.1.1
		game_date <= 1848.1.1
		NOT = { 
			has_global_variable = manzoni_weberaufstand_var
		}
		OR = {
			country_has_primary_culture = cu:north_german
			country_has_primary_culture = cu:south_german
			country_has_primary_culture = cu:united_german
		}
		any_scope_state = {
			has_building = building_textile_mills
			any_scope_pop = {
				is_pop_type = laborers
				standard_of_living < 15
			}
		}
	}

	immediate = {
		set_global_variable = manzoni_weberaufstand_var
		random_scope_state = {
			limit = {
				has_building = building_textile_mills
				any_scope_pop = {
					is_pop_type = laborers
					standard_of_living < 15
				}
			}
			save_scope_as = manzoni_weberaufstand_state
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = manzoni_weaver_revolt_suppression_modifier
				years = 5
			}
	    }
	}

	option = {
		name = manzoni.1303.g #Send the troops.
		default_option = yes
		add_modifier = {
			name = manzoni_suppressed_weaver_modifier
			years = 5
		}
		scope:manzoni_weberaufstand_state = {
			set_variable = manzoni_weberaufstand_state
			add_radicals_in_state = {
				value = 0.1
				pop_type = laborers
			}
			add_loyalists_in_state = {
				value = 0.5
				pop_type = capitalists
			}
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = manzoni_weaver_revolt_suppression_modifier
				years = 5
			}
	    }
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:south_german
						country_has_primary_culture = cu:united_german
					}
				}
				trigger_event = {
					id = manzoni.1304
					days = { 30 90 }
				}
			}
		}

		ai_chance = {
			base = 1
		}
	}

	option = {
		name = manzoni.1303.h #Negotiate
		add_modifier = {
			name = manzoni_negotiated_weaver_modifier
			years = 5
		}
		scope:manzoni_weberaufstand_state = {
			add_radicals_in_state = {
				value = 0.5
				pop_type = capitalists
			}
			add_loyalists_in_state = {
				value = 0.1
				pop_type = laborers
			}
		}
		ig:ig_industrialists = {
			add_modifier = {
				name = manzoni_weaver_revolt_negotiation_modifier
				years = 5
			}
	    }

		ai_chance = {
			base = 0
		}
	}

	after = {
	}
}

#Manzoni 1304: Heinrich Heine, Weberlied
manzoni.1304 = {
	type = country_event
	placement = ROOT

	title = manzoni.1304.t
	desc = manzoni.1304.d
	flavor = manzoni.1304.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_weberaufstand.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
	}

	immediate = {
		random_country = {
			limit = {
				any_scope_state = {
					has_variable = manzoni_weberaufstand_state
				}
			}
			save_scope_as = manzoni_weberaufstand_country
		}
		random_state = {
			limit = {
				has_variable = manzoni_weberaufstand_state
			}
			save_scope_as = manzoni_weberaufstand_state
		}
	}

	option = {
		name = manzoni.1304.g #You again, Heine?
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 10
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_wage_subsidies
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_variable = manzoni_weberaufstand_state
				}
			}
			add_modifier = {
				name = manzoni_mocked_by_heine_modifier 
				years = 3
			}
		}
	}

	option = {
		name = manzoni.1304.h #Censor! Censor!
		trigger = {
			OR = {
				has_law = law_type:law_outlawed_dissent
				has_law = law_type:law_censorship
			}
		}
		add_modifier = {
			name = manzoni_censorship_machinery_modifier
			years = 5
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_protected_speech
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
		if = {
			limit = {
				any_scope_state = {
					has_variable = manzoni_weberaufstand_state
				}
			}
			add_modifier = {
				name = manzoni_mocked_by_heine_modifier 
				years = 3
			}
		}
	}

	after = {
	}
}

#Manzoni 1305: Gerhart Hauptmann, Die Weber
manzoni.1305 = {
	type = country_event
	placement = ROOT

	title = manzoni.1305.t
	desc = manzoni.1305.d
	flavor = manzoni.1305.f

	event_image = {
		texture = "gfx/event_pictures/manzoni_pictures/manzoni_weberaufstand.dds"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_literature.dds"

	duration = 3

	trigger = {
		c:GER ?= this
		game_date >= 1892.1.1
		OR = {
			has_law = law_type:law_protected_speech
			has_law = law_type:law_right_of_assembly
		}
		has_technology_researched = realism
		any_scope_state = {
			has_variable = manzoni_weberaufstand_state
		}
		NOT = { 
			has_global_variable = manzoni_hauptmann_published_global_var 
		}
	}

	immediate = {
		set_global_variable = manzoni_hauptmann_published_global_var
		random_scope_state = {
			limit = {
				has_variable = manzoni_weberaufstand_state
			}
			save_scope_as = manzoni_weberaufstand_state
		}
	}

	option = {
		name = manzoni.1305.g #In Germany, even a gory tragedy becomes cultural heritage.
		default_option = yes
		manzoni_add_x_literary_tradition_effect = {
			AMOUNT = 30
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_wage_subsidies
					value > neutral
				}
			}
			add_modifier = {
				name = manzoni_political_tailwind_modifier
				years = 5
			}
		}
	}

	after = {
	}
}